<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Solr基本命令</h1><div style="width:100%;float:left;" class="article-content">   
 <h2 id="h2--solr"><a name="启动Solr" class="reference-link"></a><span class="header-link octicon octicon-link"></span>启动Solr</h2>
 <p>安装<strong>Solr</strong>后，进入到Solr主目录中的<code>bin</code>文件夹，并使用以下命令启动Solr。</p> 
 <pre><code class="lang-shell">[Hadoop@localhost ~]$ cd   
[Hadoop@localhost ~]$ cd Solr/ 
[Hadoop@localhost Solr]$ cd bin/ 
[Hadoop@localhost bin]$ ./Solr start
</code></pre> 
 <p>在 Windows 系统中使用以下命令 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201702/0302/856150256_30188.png" alt=""></p> 
 <p>此命令在后台启动<strong>Solr</strong>，通过显示以下消息监听端口<code>8983</code>。</p> 
 <pre><code class="lang-bash">Waiting up to 30 seconds to see Solr running on port 8983 [\]   
Started Solr server on port 8983 (pid = 6035). Happy searching!
</code></pre> 
 <h2 id="h2--solr"><a name="在前台启动Solr" class="reference-link"></a><span class="header-link octicon octicon-link"></span>在前台启动Solr</h2>
 <p>如果使用<code>start</code>命令启动Solr，那么Solr将在后台启动。然而可以使用<code>-f</code>选项在前台启动Solr。</p> 
 <pre><code class="lang-shell">[Hadoop@localhost bin]$ ./Solr start –f  

5823 INFO  (coreLoadExecutor-6-thread-2) [   ] o.a.s.c.SolrResourceLoader 
Adding 'file:/home/Hadoop/Solr/contrib/extraction/lib/xmlbeans-2.6.0.jar' to 
classloader 
5823 INFO  (coreLoadExecutor-6-thread-2) [   ] o.a.s.c.SolrResourceLoader 
Adding 'file:/home/Hadoop/Solr/dist/Solr-cell-6.2.0.jar' to classloader 
5823 INFO  (coreLoadExecutor-6-thread-2) [   ] o.a.s.c.SolrResourceLoader 
Adding 'file:/home/Hadoop/Solr/contrib/clustering/lib/carrot2-guava-18.0.jar' 
to classloader 
5823 INFO  (coreLoadExecutor-6-thread-2) [   ] o.a.s.c.SolrResourceLoader 
Adding 'file:/home/Hadoop/Solr/contrib/clustering/lib/attributes-binder1.3.1.jar' 
to classloader 
5823 INFO  (coreLoadExecutor-6-thread-2) [   ] o.a.s.c.SolrResourceLoader 
Adding 'file:/home/Hadoop/Solr/contrib/clustering/lib/simple-xml-2.7.1.jar' 
to classloader 
…………………………………………………………………………………………………………………………………………………………………………………………………………… 
…………………………………………………………………………………………………………………………………………………………………………………………………. 
12901 INFO  (coreLoadExecutor-6-thread-1) [   x:Solr_sample] o.a.s.u.UpdateLog 
Took 24.0ms to seed version buckets with highest version 1546058939881226240 12902 
INFO  (coreLoadExecutor-6-thread-1) [   x:Solr_sample] 
o.a.s.c.CoreContainer registering core: Solr_sample 
12904 INFO  (coreLoadExecutor-6-thread-2) [   x:my_core] o.a.s.u.UpdateLog Took 
16.0ms to seed version buckets with highest version 1546058939894857728 
12904 INFO  (coreLoadExecutor-6-thread-2) [   x:my_core] o.a.s.c.CoreContainer 
registering core: my_core
</code></pre> 
 <h2 id="h2--solr"><a name="在另一个端口上启动Solr" class="reference-link"></a><span class="header-link octicon octicon-link"></span>在另一个端口上启动Solr</h2>
 <p>使用<code>start</code>命令的<code>-p</code>选项指定一个启动端口，可以在另一个端口启动Solr，如下面的代码块所示。</p> 
 <pre><code class="lang-shell">[Hadoop@localhost bin]$ ./Solr start -p 8081  

Waiting up to 30 seconds to see Solr running on port 8081 [-]   
Started Solr server on port 8081 (pid = 10137). Happy searching!
</code></pre> 
 <h2 id="h2--solr"><a name="停止Solr" class="reference-link"></a><span class="header-link octicon octicon-link"></span>停止Solr</h2>
 <p>可以使用<code>stop</code>命令停止Solr，如下示例 - </p> 
 <pre><code class="lang-shell">$ ./Solr stop
</code></pre> 
 <p>此命令停止Solr，显示消息如下所示。</p> 
 <pre><code class="lang-shell">Sending stop command to Solr running on port 8983 ... waiting 5 seconds to 
allow Jetty process 6035 to stop gracefully.
</code></pre> 
 <h2 id="h2--solr"><a name="重新启动Solr" class="reference-link"></a><span class="header-link octicon octicon-link"></span>重新启动Solr</h2>
 <p>Solr的 <code>restart</code> 命令会停止Solr 5秒钟，然后再次启动。可以使用以下命令重新启动Solr -</p> 
 <pre><code class="lang-shell">./Solr restart
</code></pre> 
 <p>此命令重新启动Solr，显示以下消息 -</p>   
 <pre><code class="lang-shell">Sending stop command to Solr running on port 8983 ... waiting 5 seconds to 
allow Jetty process 6671 to stop gracefully. 
Waiting up to 30 seconds to see Solr running on port 8983 [|]  [/]   
Started Solr server on port 8983 (pid = 6906). Happy searching!
</code></pre> 
 <h2 id="h2-solr-help-"><a name="Solr ─ help 命令" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Solr ─ help 命令</h2>
 <p>Solr的<code>help</code>命令可用于查看Solr提示及其选项的用法。</p> 
 <pre><code class="lang-shell">[Hadoop@localhost bin]$ ./Solr -help  

Usage: Solr COMMAND OPTIONS        
   where COMMAND is one of: start, stop, restart, status, healthcheck, 
create, create_core, create_collection, delete, version, zk  
Standalone server example (start Solr running in the background on port 8984):  
   ./Solr start -p 8984  
SolrCloud example (start Solr running in SolrCloud mode using localhost:2181 
to connect to Zookeeper, with 1g max heap size and remote Java debug options enabled):  
   ./Solr start -c -m 1g -z localhost:2181 -a "-Xdebug -
   Xrunjdwp:transport = dt_socket,server = y,suspend = n,address = 1044"  
Pass -help after any COMMAND to see command-specific usage information,   
such as: ./Solr start -help or ./Solr stop -help
</code></pre> 
 <h2 id="h2-solr-status-"><a name="Solr ─ status命令" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Solr ─ status命令</h2>
 <p>Solr的 <code>status</code> 命令可用于在计算机上搜索和找出运行的Solr实例。它可以提供有关Solr实例的信息，例如它的版本，内存使用情况等。</p> 
 <p>可以使用<code>status</code>命令检查Solr实例的状态，如下所示：</p> 
 <pre><code class="lang-shell">[Hadoop@localhost bin]$ ./Solr status
</code></pre> 
 <p>执行时，显示上述Solr的<code>status</code>命令结果如下 -</p> 
 <pre><code class="lang-shell">Found 1 Solr nodes:   

Solr process 6906 running on port 8983 {   
   "Solr_home":"/home/Hadoop/Solr/server/Solr",   
   "version":"6.2.0 764d0f19151dbff6f5fcd9fc4b2682cf934590c5 - 
   mike - 2016-08-20 05:41:37",   
   "startTime":"2016-09-20T06:00:02.877Z",   
   "uptime":"0 days, 0 hours, 5 minutes, 14 seconds",   
   "memory":"30.6 MB (%6.2) of 490.7 MB"
}
</code></pre> 
 <h2 id="h2-solr-admin"><a name="Solr Admin" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Solr Admin</h2>
 <p>启动<strong>Apache Solr</strong>后，就可以使用以下URL访问Solr Web界面的主页。</p> 
 <ul> 
  <li><a target="_blank" href="http://Localhost:8983/solr/">http://Localhost:8983/solr/</a></li>
 </ul> 
 <p>Solr管理员的界面如下 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201702/0302/479130217_61714.png" alt=""></p>
 <br>      
</div></body></html>