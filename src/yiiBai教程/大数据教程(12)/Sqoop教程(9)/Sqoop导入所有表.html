<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Sqoop导入所有表</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 本章介绍如何导入从RDBMS数据库服务器到HDFS所有表。每个表的数据存储在一个单独的目录，目录名与表名相同。</p> 
 <h2> 语法</h2> 
 <p> 以下语法用于导入所有表。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ sqoop </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">import</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">all</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">tables </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">generic</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">args</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">import</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">args</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
$ sqoop</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">import</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">all</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">tables </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">generic</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">args</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">import</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">args</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)</span></pre> 
 <h3> 示例</h3> 
 <p> 以下是从USERDB数据库导入的所有表的一个例子。数据库USERDB包含表的列表如下。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">+--------------------+</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">|</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">      </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Tables</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">        </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">|</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">+--------------------+</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">|</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">      emp           </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">|</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">|</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">      emp_add       </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">|</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">|</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">      emp_contact   </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">|</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">+--------------------+</span></pre> 
 <p> 下面的命令用于从USERDB数据库中导入所有的表。</p>   
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ sqoop </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">import</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> \
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">--</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">connect jdbc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">mysql</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">//localhost/userdb \</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">--</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">username root</span></pre> 
 <p> <strong>注：</strong>如果使用的是import-all-tables，它是强制性的，在该数据库中的每个表必须有一个主键字段。</p> 
 <p> 下面的命令用于验证USERDB数据库的所有表数据到HDFS</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ $HADOOP_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">bin</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">hadoop fs </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">ls</span></pre> 
 <p> 它会告诉你表名的USERDB数据库的目录列表。</p> 
 <h3> 输出</h3> 
 <pre class="result notranslate" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
drwxr-xr-x - hadoop supergroup 0 2014-12-22 22:50 _sqoop
drwxr-xr-x - hadoop supergroup 0 2014-12-23 01:46 emp
drwxr-xr-x - hadoop supergroup 0 2014-12-23 01:50 emp_add
drwxr-xr-x - hadoop supergroup 0 2014-12-23 01:52 emp_contact</pre> 
 <br>      
</div></body></html>