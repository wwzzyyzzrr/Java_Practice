<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Sqoop安装</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 由于Sqoop是Hadoop的一个子项目，它只能工作在Linux操作系统。这里需要按照下面系统上给定安装Sqoop的步骤。</p> 
 <h2> 第1步：验证JAVA安装</h2> 
 <p> 在安装Sqoop之前，需要确定是否已经在系统上安装Java。用下面的命令来验证Java安装：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ java </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">–</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">version</span></pre> 
 <p> 如果Java已经安装在系统上，应该能看到如下回应：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">java version </span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">"1.7.0_71"</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Java</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">TM</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> SE </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Runtime</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Environment</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">build </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">1.7</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">0_71</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">b13</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Java</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">HotSpot</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">TM</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Client</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> VM </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">build </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">25.0</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">b02</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> mixed mode</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)</span></pre> 
 <p> 如果未在系统上安装Java，那么需要按照下面的步骤来执行安装。</p> 
 <h2> 安装java</h2> 
 <p> 按照下面给定简单的步骤在系统上安装Java。</p> 
 <h3> 第1步</h3> 
 <p> 下载Java (JDK &lt;最新版本&gt; - X64.tar.gz) 访问以下链接：<a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-" rel="nofollow">下载</a></p> 
 <p> 那么jdk-7u71-linux-x64.tar.gz 下载到你的系统上。</p> 
 <h3> 第2步</h3> 
 <p> 通常情况下，可以找到下载文件夹中下载的Java文件。验证它并提取 jdk-7u71-linux-x64.gz 文件中使用下面的命令。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ cd </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Downloads</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
$ ls
jdk</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">7u71</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">linux</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">x64</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">gz
$ tar zxf jdk</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">7u71</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">linux</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">x64</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">gz
$ ls
jdk1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">7.0</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">_71 jdk</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">7u71</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">linux</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">x64</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">gz</span></pre> 
 <h3> 第3步</h3> 
 <p> 为了使Java提供给所有的用户，必须将它移动到的位置 “/usr/local/”. 打开根目录，键入以下命令。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ su
password</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">

</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># mv jdk1.7.0_71 /usr/local/java</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># exitStep IV:</span></pre> 
 <h3> 第4步</h3> 
 <p> 有关设置PATH和JAVA_HOME变量，添加以下命令~/.bashrc文件</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> JAVA_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/usr/</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">local</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">java
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> PATH</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">PATH</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$JAVA_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">bin</span></pre> 
 <p> 现在，应用所有更改到当前正在运行的系统。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ source </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">~/.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">bashrc</span></pre> 
 <h3> 第5步</h3> 
 <p> 使用下面的命令来配置Java方案：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># alternatives --install /usr/bin/java java usr/local/java/bin/java 2</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># alternatives --install /usr/bin/javac javac usr/local/java/bin/javac 2</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># alternatives --install /usr/bin/jar jar usr/local/java/bin/jar 2</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">

</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># alternatives --set java usr/local/java/bin/java</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># alternatives --set javac usr/local/java/bin/javac</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># alternatives --set jar usr/local/java/bin/jar</span></pre> 
 <p> 现在从终端上使用命令java -version &nbsp;验证安装如上所述。</p> 
 <h2> 第2步：验证Hadoop的安装</h2> 
 <p> 在安装Sqoop之前Hadoop必须在系统上安装。使用下面的命令来验证Hadoop的安装：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ hadoop version</span></pre> 
 <p> 如果Hadoop是已经安装在系统上，那么会得到以下回应：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Hadoop</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">2.4</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">1</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">--</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Subversion</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> https</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">//svn.apache.org/repos/asf/hadoop/common -r 1529768</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Compiled</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">by</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> hortonmu on </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">2013</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">10</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">07T06</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">28Z</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Compiled</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">with</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> protoc </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">2.5</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">0</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">From</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> source </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">with</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> checksum </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">79e53ce7994d1628b240f09af91e1af4</span></pre> 
 <p> 如果在系统上未安装Hadoop，那么继续进行下面的步骤：</p> 
 <h2> 下载Hadoop</h2> 
 <p> 下载和Apache软件基金会使用下面的命令提取Hadoop2.4.1</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ su
password</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">

</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># cd /usr/local</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># wget http://apache.claz.org/hadoop/common/hadoop-2.4.1/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
hadoop</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">2.4</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">1.tar</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">gz
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># tar xzf hadoop-2.4.1.tar.gz</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># mv hadoop-2.4.1/* to hadoop/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># exit</span></pre> 
 <h2> 在模拟分布式模式下安装Hadoop</h2> 
 <p> 按照下面给出的伪分布式模式下安装的Hadoop2.4.1的步骤。</p> 
 <h3> 第1步：设置Hadoop</h3> 
 <p> 可以通过附加下面的命令到 ~/.bashrc文件中设置Hadoop环境变量。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> HADOOP_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/usr/</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">local</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">hadoop
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> HADOOP_MAPRED_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$HADOOP_HOME
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> HADOOP_COMMON_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$HADOOP_HOME
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> HADOOP_HDFS_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$HADOOP_HOME
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> YARN_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$HADOOP_HOME
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> HADOOP_COMMON_LIB_NATIVE_DIR</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$HADOOP_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">lib</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">native</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> PATH</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$PATH</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$HADOOP_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">sbin</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$HADOOP_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">bin</span></pre> 
 <p> 现在，应用所有更改到当前正在运行的系统。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ source </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">~/.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">bashrc</span></pre> 
 <h3> 第2步：Hadoop配置</h3> 
 <p> 可以找到位置的所有Hadoop的配置文件 “$HADOOP_HOME/etc/hadoop”. 需要根据Hadoop基础架构作出适当的改修这些配置文件。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ cd $HADOOP_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">etc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">hadoop</span></pre> 
 <p> 为了开发java能够使用Hadoop项目，必须用java在系统中的位置替换JAVA_HOME值以重新设置hadoop-env.sh文件的java环境变量。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> JAVA_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/usr/</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">local</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">java</span></pre> 
 <p> 下面给出的是，需要编辑配置Hadoop的文件的列表。</p> 
 <p> <strong>core-site.xml</strong></p> 
 <p> core-site.xml 文件中包含的信息，如用于Hadoop的实例中，分配给文件系统的存储器，用于存储数据的内存限制的端口号，以及读/写缓冲器的大小。</p> 
 <p> 打开核心core-site.xml 并在&lt;configuration&gt;和&lt;/configuration&gt;标签之间添加以下属性。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;configuration&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;property&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;name&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">fs.default.name</span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/name&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;value&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">hdfs://localhost:9000 </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/value&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/property&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/configuration&gt;</span></pre> 
 <p> <strong>hdfs-site.xml</strong></p> 
 <p> hdfs-site.xml文件中包含的信息，如复制数据值，NameNode的路径，本地文件系统的数据节点的路径。这意味着要存储Hadoop基础架构。</p> 
 <p> 让我们假设以下数据。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dfs</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">replication </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">data replication value</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">1</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">

</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">In</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> the following path </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">hadoop</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">is</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> the user name</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
hadoopinfra</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">hdfs</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">namenode </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">is</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> the directory created </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">by</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> hdfs file system</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.)</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
namenode path </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">//home/hadoop/hadoopinfra/hdfs/namenode</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">

</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">hadoopinfra</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">hdfs</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">datanode </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">is</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> the directory created </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">by</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> hdfs file system</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.)</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
datanode path </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">//home/hadoop/hadoopinfra/hdfs/datanode</span></pre> 
 <p> 打开这个文件，并在此文件中&lt;configuration&gt;, &lt;/configuration&gt;&nbsp;之间标签添加以下属性。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;configuration&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">

   </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;property&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;name&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dfs.replication</span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/name&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;value&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">1</span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/value&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/property&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   
   </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;property&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;name&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dfs.name.dir</span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/name&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;value&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">file:///home/hadoop/hadoopinfra/hdfs/namenode </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/value&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/property&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   
   </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;property&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;name&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dfs.data.dir</span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/name&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;value&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">file:///home/hadoop/hadoopinfra/hdfs/datanode </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/value&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/property&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   
</span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/configuration&gt;</span></pre> 
 <p> 注：在上面的文件，所有的属性值是用户定义，可以根据自己的Hadoop的基础架构进行更改。</p> 
 <p> <strong>yarn-site.xml</strong></p> 
 <p> 此文件用于配置成yarn在Hadoop中。打开yarn-site.xml文件，并在在此文件中的&lt;configuration&gt;, &lt;/configuration&gt;标签之间添加以下属性。</p>   
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;configuration&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;property&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;name&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">yarn.nodemanager.aux-services</span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/name&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;value&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">mapreduce_shuffle</span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/value&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/property&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/configuration&gt;</span></pre> 
 <p> <strong>mapred-site.xml</strong></p> 
 <p> 此文件用于指定正在使用MapReduce框架。缺省情况下，包含yarn-site.xml的模板。首先，需要使用下面的命令来复制从mapred-site.xml 模板到 mapred-site.xml 文件。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ cp mapred</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">site</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">xml</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">template</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> mapred</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">site</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">xml</span></pre> 
 <p style="box-sizing: border-box; color: rgb(0, 0, 0); line-height: 24px; margin: 0em 0.2em 1em; padding: 0px; text-align: justify;  font-size: 14px;"> 打开mapred-site.xml文件，并在在此文件中的 &lt;configuration&gt;, &lt;/configuration&gt;标签之间添加以下属性。&nbsp;</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;configuration&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;property&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;name&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">mapreduce.framework.name</span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/name&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
      </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;value&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">yarn</span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/value&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   </span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/property&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="tag" style="box-sizing: border-box; color: rgb(0, 0, 136);">&lt;/configuration&gt;</span></pre> 
 <h2> 验证Hadoop的安装</h2> 
 <p> 下面的步骤用来验证 Hadoop 安装。</p> 
 <h3> 第1步：名称节点设置</h3> 
 <p> 使用命令 “hdfs namenode -format” 如下设置名称节点。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ cd </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">~</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
$ hdfs namenode </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">format</span></pre> 
 <p> 预期的结果如下</p> 
 <pre class="result notranslate" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
10/24/14 21:30:55 INFO namenode.NameNode: STARTUP_MSG:
/************************************************************
STARTUP_MSG: Starting NameNode
STARTUP_MSG: host = localhost/192.168.1.11
STARTUP_MSG: args = [-format]
STARTUP_MSG: version = 2.4.1
...
...
10/24/14 21:30:56 INFO common.Storage: Storage directory
/home/hadoop/hadoopinfra/hdfs/namenode has been successfully formatted.
10/24/14 21:30:56 INFO namenode.NNStorageRetentionManager: Going to
retain 1 images with txid &gt;= 0
10/24/14 21:30:56 INFO util.ExitUtil: Exiting with status 0
10/24/14 21:30:56 INFO namenode.NameNode: SHUTDOWN_MSG:
/************************************************************
SHUTDOWN_MSG: Shutting down NameNode at localhost/192.168.1.11
************************************************************/</pre> 
 <h3> 第2步：验证Hadoop DFS</h3> 
 <p> 下面的命令用来启动DFS。执行这个命令将开始Hadoop文件系统。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ start</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dfs</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">sh</span></pre> 
 <p> 期望的输出如下所示：</p> 
 <pre class="result notranslate" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
10/24/14 21:37:56
Starting namenodes on [localhost]
localhost: starting namenode, logging to /home/hadoop/hadoop-
2.4.1/logs/hadoop-hadoop-namenode-localhost.out
localhost: starting datanode, logging to /home/hadoop/hadoop-
2.4.1/logs/hadoop-hadoop-datanode-localhost.out
Starting secondary namenodes [0.0.0.0]</pre> 
 <h3> 第3步：验证Yarn&nbsp;脚本</h3> 
 <p> 下面的命令用来启动 yarn&nbsp;脚本。执行此命令将启动yarn&nbsp;守护进程。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ start</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">yarn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">sh</span></pre> 
 <p> 期望的输出如下所示：</p> 
 <pre class="result notranslate" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
starting yarn daemons
starting resourcemanager, logging to /home/hadoop/hadoop-
2.4.1/logs/yarn-hadoop-resourcemanager-localhost.out
localhost: starting node manager, logging to /home/hadoop/hadoop-
2.4.1/logs/yarn-hadoop-nodemanager-localhost.out</pre> 
 <h3> 第4步：在浏览器访问Hadoop</h3> 
 <p> 访问Hadoop的默认端口号为50070.使用以下URL来获得浏览器的Hadoop服务。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">http</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">//localhost:50070/</span></pre> 
 <p> 下图描述了Hadoop的浏览器。</p> 
 <img alt="Accessing Hadoop on Browser" src="/uploads/allimg/150118/220J01237-0.jpg"> 
 <h3> 第5步：验证所有应用程序的集群</h3> 
 <p> 访问集群中的所有应用程序的默认端口号为8088。使用以下URL访问该服务。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">http</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">//localhost:8088/</span></pre> 
 <p> 下图描述了Hadoop集群的浏览器。</p> 
 <img alt="Hadoop Application Cluster" src="/uploads/allimg/201501/1-15011ZZ140J9.jpg"> 
 <h3> 第3步下载Sqoop</h3> 
 <p> 在本教程中可以从以下链接下载Sqoop的最新版本，我们使用的是1.4.5版本：sqoop-1.4.5.bin__hadoop-2.0.4-alpha.tar.gz.</p> 
 <h3> Step 4: 安装Sqoop</h3> 
 <p> 下面的命令用于提取Sqoop.tar.gz并将其移动到“/usr/lib/sqoop” 目录。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$tar </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">xvf sqoop</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">1.4</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">4.bin</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">__hadoop</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">2.0</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">4</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">alpha</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">tar</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">gz
$ su
password</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">

</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># mv sqoop-1.4.4.bin__hadoop-2.0.4-alpha /usr/lib/sqoop</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">#exit</span></pre> 
 <h3> 第5步：配置.bashrc</h3> 
 <p> 必须设置Sqoop环境通过附加以下行到〜/.bashrc文件：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">#Sqoop</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> SQOOP_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/usr/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">lib</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">sqoop </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> PATH</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$PATH</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$SQOOP_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">bin</span></pre> 
 <p> 下面的命令是用来执行〜/.bashrc文件。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ source </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">~/.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">bashrc</span></pre> 
 <h3> 第6步：配置Sqoop</h3> 
 <p> 要配置<strong>Sqoop</strong>用<strong>Hadoop</strong>，需要编辑<strong> sqoop-env.sh </strong>文件，该文件被放置在&nbsp;<strong>$SQOOP_HOME/conf&nbsp;</strong>目录。首先要重定向到 <strong>Sqoop config</strong> 目录，并使用以下命令复制的模板文件</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ cd $SQOOP_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">conf
$ mv sqoop</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">env</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">template</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">sh sqoop</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">env</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">sh</span></pre> 
 <p> 打开sqoop-env.sh并编辑下面几行：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> HADOOP_COMMON_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/usr/</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">local</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">hadoop 
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">export</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> HADOOP_MAPRED_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/usr/</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">local</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">hadoop</span></pre> 
 <h3> 第7步：下载并配置java的MySQL连接器（mysql-connector-java）</h3> 
 <p> 可以从下面的下载使用mysql-connector-java的5.1.30.tar.gz文件：<a target="_blank" href="http://ftp.ntu.edu.tw/MySQL/Downloads/Connector-J/" rel="nofollow">下载链接</a></p> 
 <p> 下面的命令是用来提取使用 mysql-connector-java 压缩包并移动&nbsp;mysql-connector-java-5.1.30-bin.jar&nbsp;到 /usr/lib/sqoop/lib 目录</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ tar </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">zxf mysql</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">connector</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">java</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">5.1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">30.tar</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">gz
$ su
password</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">

</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># cd mysql-connector-java-5.1.30</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># mv mysql-connector-java-5.1.30-bin.jar /usr/lib/sqoop/lib</span></pre> 
 <h3> 第8步：验证Sqoop</h3> 
 <p> 下面的命令被用来验证Sqoop版本。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$ cd $SQOOP_HOME</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">bin
$ sqoop</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">version</span></pre> 
 <p> 预期的输出：</p> 
 <pre class="result notranslate" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
14/12/17 14:52:32 INFO sqoop.Sqoop: Running Sqoop version: 1.4.5
Sqoop 1.4.5 git commit id 5b34accaca7de251fc91161733f906af2eddbe83
Compiled by abe on Fri Aug 1 11:19:26 PDT 2014</pre> 
 <p> 到这里，整个Sqoop安装工作完成。</p> 
 <br>      
</div></body></html>