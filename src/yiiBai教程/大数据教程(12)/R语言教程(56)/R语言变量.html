<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">R语言变量</h1><div style="width:100%;float:left;" class="article-content">   
 <p>变量提供了程序可以操作的命名存储。<em>R</em>语言中的变量可以存储原子向量，原子向量组或许多R对象的组合。有效的变量名称应该是由字母，数字和点或下划线字符组成。 变量名称以字母开头，或者点后面不带数字。如下一些示例 - </p> 
 <table> 
  <thead> 
   <tr> 
    <th>变量名</th> 
    <th>合法性</th> 
    <th>原因</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td><code>var_name2.</code></td> 
    <td>有效</td> 
    <td>由字母，数字，点和下划线组成</td> 
   </tr> 
   <tr> 
    <td><code>var_name%</code></td> 
    <td>无效</td> 
    <td>含有字符<code>“%”</code>因此无效。只允许点(<code>.</code>)和下划线(<code>_</code>)组成。</td> 
   </tr> 
   <tr> 
    <td><code>2var_name</code></td> 
    <td>无效</td> 
    <td>以数字开头，因此无效。</td> 
   </tr> 
   <tr> 
    <td><code>.var_name</code>, <code>var.name</code></td> 
    <td>有效</td> 
    <td>可以以点(<code>.</code>)开头，但点(<code>.</code>)后面不应是数字。</td> 
   </tr> 
   <tr> 
    <td><code>.2var_name</code></td> 
    <td>无效</td> 
    <td>以点(<code>.</code>)但后跟一个数字使其无效。</td> 
   </tr> 
   <tr> 
    <td><code>_var_name</code></td> 
    <td>无效</td> 
    <td>以下划(<code>_</code>)开始因此无效。</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-u53D8u91CFu8D4Bu503C"><a name="变量赋值" class="reference-link"></a><span class="header-link octicon octicon-link"></span>变量赋值</h2>
 <p>变量可以使用向左，向右和等于运算符分配值。 可以使用<code>print()</code>或<code>cat()</code>函数打印变量的值。 <code>cat()</code>函数将多个变量或项目组合成一个连续的打印输出。</p> 
 <pre><code class="lang-r"># Assignment using equal operator.
var.1 = c(0,1,2,3)           

# Assignment using leftward operator.
var.2 &lt;- c("learn","R")   

# Assignment using rightward operator.   
c(TRUE,1) -&gt; var.3           

print(var.1)
cat ("var.1 is ", var.1 ,"\n")
cat ("var.2 is ", var.2 ,"\n")
cat ("var.3 is ", var.3 ,"\n")
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">&gt; print(var.1)
[1] 0 1 2 3
&gt; cat ("var.1 is ", var.1 ,"\n")
var.1 is  0 1 2 3 
&gt; cat ("var.2 is ", var.2 ,"\n")
var.2 is  learn R 
&gt; cat ("var.3 is ", var.3 ,"\n")
var.3 is  1 1
</code></pre> 
 <blockquote> 
  <p>注 - 向量<code>c(TRUE，1)</code>具有逻辑和数字类的混合。所以逻辑类被强制为数字类，使<code>TRUE</code>为<code>1</code>。</p> 
 </blockquote> 
 <h2 id="h2-u53D8u91CFu7684u6570u636Eu7C7Bu578B"><a name="变量的数据类型" class="reference-link"></a><span class="header-link octicon octicon-link"></span>变量的数据类型</h2>
 <p>在R中，变量本身没有被声明为任何数据类型，而是获取分配给它的<em>R</em>对象的数据类型。 所以<em>R</em>被称为动态类型语言，这意味着我们可以在程序中使用它时一次又一次地改变同一个变量的变量的数据类型，或者使用同一个变量来存储任何数据类型。</p> 
 <pre><code class="lang-r">var_x &lt;- "Hello"
cat("The class of var_x is ",class(var_x),"\n")

var_x &lt;- 34.5
cat("  Now the class of var_x is ",class(var_x),"\n")

var_x &lt;- 27L
cat("   Next the class of var_x becomes ",class(var_x),"\n")
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">&gt; var_x &lt;- "Hello"
&gt; cat("The class of var_x is ",class(var_x),"\n")
The class of var_x is  character 
&gt;
&gt; var_x &lt;- 34.5
&gt; cat("  Now the class of var_x is ",class(var_x),"\n")
  Now the class of var_x is  numeric 
&gt;
&gt; var_x &lt;- 27L
&gt; cat("   Next the class of var_x becomes ",class(var_x),"\n")
   Next the class of var_x becomes  integer 
&gt;
</code></pre> 
 <h2 id="h2-u67E5u627Eu53D8u91CF"><a name="查找变量" class="reference-link"></a><span class="header-link octicon octicon-link"></span>查找变量</h2>
 <p>如想要知道工作区中当前可用的所有变量，可使用<code>ls()</code>函数。<code>ls()</code>函数也可以使用模式来匹配变量名。</p>   
 <pre><code class="lang-r">print(ls());
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">&gt; print(ls());
[1] "string" "var.1"  "var.2"  "var.3"  "var_x"
</code></pre> 
 <blockquote> 
  <p>注意 - 根据您的环境中声明的变量可能所有不同，所以您的输出和这里输出结果可能不太一样。</p> 
 </blockquote> 
 <p><code>ls()</code>函数可以使用模式来匹配变量名。</p> 
 <pre><code class="lang-r"># List the variables starting with the pattern "var".
print(ls(pattern = "var"))
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">&gt; print(ls(pattern = "var")) 
[1] "var.1" "var.2" "var.3" "var_x"
</code></pre> 
 <p>以点(<code>.</code>)开头的变量是隐藏的，它们可以使用<code>ls()</code>函数的<code>“all.names = TRUE”</code>参数列出。如下所示 - </p> 
 <pre><code class="lang-r">print(ls(all.names = TRUE));
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">&gt; print(ls(all.names = TRUE));
[1] ".var_no" ".var1"   "string"  "var.1"   "var.2"   "var.3"   "var_x"  
&gt;
</code></pre> 
 <h2 id="h2-u5220u9664u53D8u91CF"><a name="删除变量" class="reference-link"></a><span class="header-link octicon octicon-link"></span>删除变量</h2>
 <p>可以使用<code>rm()</code>函数删除变量。下面假设要删除变量<code>var.3</code>。 在打印时抛出变量错误的值。</p> 
 <pre><code class="lang-r">rm(var.3)
print(var.3)
</code></pre> 
 <p>执行上面查询代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">&gt; rm(var.3)
&gt; print(var.3)
Error in print(var.3) : 找不到对象'var.3'
</code></pre> 
 <p>删除所有变量可以通过使用<code>rm()</code>和<code>ls()</code>函数一起来完成。</p> 
 <pre><code class="lang-r">rm(list = ls())
print(ls())
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">&gt; rm(list = ls())
&gt; print(ls())
character(0)
</code></pre>
 <br>      
</div></body></html>