<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">R语言JSON文件</h1><div style="width:100%;float:left;" class="article-content">   
 <p>JSON文件以可读取的格式将数据存储为文本。Json是一种JavaScript对象表示法。R可以使用<em>rjson</em>包读取JSON文件。</p> 
 <h2 id="h2--rjson-"><a name="安装rjson软件包" class="reference-link"></a><span class="header-link octicon octicon-link"></span>安装rjson软件包</h2>
 <p>在R控制台中，您可以发出以下命令来安装<code>rjson</code>包。</p> 
 <pre><code class="lang-r">install.packages("rjson")
</code></pre> 
 <h2 id="h2-u51C6u5907u8F93u5165u6570u636Eu6E90"><a name="准备输入数据源" class="reference-link"></a><span class="header-link octicon octicon-link"></span>准备输入数据源</h2>
 <p>通过将以下数据复制到文本编辑器(如记事本)中创建一个JSON文件。 使用<code>.json</code>扩展名保存文件，并将文件类型选为所有文件(<code>*.*</code>)。创建一个文件：<em>input.json</em>，其内容如下所示 -</p> 
 <pre><code class="lang-json">{ 
   "ID":["1","2","3","4","5","6","7","8" ],
   "Name":["Rick","Dan","Michelle","Ryan","Gary","Nina","Simon","Guru" ],
   "Salary":["623.3","515.2","611","729","843.25","578","632.8","722.5" ],

   "StartDate":[ "1/1/2012","9/23/2013","11/15/2014","5/11/2014","3/27/2015","5/21/2013",
      "7/30/2013","6/17/2014"],
   "Dept":[ "IT","Operations","IT","HR","Finance","IT","Operations","Finance"]
}
</code></pre> 
 <h2 id="h2--json-"><a name="读取JSON文件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>读取JSON文件</h2>
 <p>R使用<code>JSON()</code>函数读取JSON文件的内容，它作为列表存储在R中。参考以下代码 - </p> 
 <pre><code class="lang-r"># Load the package required to read JSON files.
library("rjson")

# Give the input file name to the function.
result &lt;- fromJSON(file = "input.json")

# Print the result.
print(result)
</code></pre> 
 <p>当我们执行上述代码时，会产生以下结果 -</p> 
 <pre><code class="lang-shell">$ID
[1] "1" "2" "3" "4" "5" "6" "7" "8"

$Name
[1] "Rick"     "Dan"      "Michelle" "Ryan"     "Gary"    
[6] "Nina"     "Simon"    "Guru"    

$Salary
[1] "623.3"  "515.2"  "611"    "729"    "843.25" "578"    "632.8" 
[8] "722.5" 

$StartDate
[1] "1/1/2012"   "9/23/2013"  "11/15/2014" "5/11/2014" 
[5] "3/27/2015"  "5/21/2013"  "7/30/2013"  "6/17/2014" 

$Dept
[1] "IT"         "Operations" "IT"         "HR"        
[5] "Finance"    "IT"         "Operations" "Finance"
</code></pre> 
 <h2 id="h2--json-"><a name="将JSON转换为数据帧" class="reference-link"></a><span class="header-link octicon octicon-link"></span>将JSON转换为数据帧</h2>
 <p>我们可以将上述提取的数据通过使用<code>as.data.frame()</code>函数转换为R数据帧，以便进一步分析。</p>   
 <pre><code class="lang-r"># Load the package required to read JSON files.
library("rjson")

# Give the input file name to the function.
result &lt;- fromJSON(file = "input.json")

# Convert JSON file to a data frame.
json_data_frame &lt;- as.data.frame(result)

print(json_data_frame)
</code></pre> 
 <p>当我们执行上述代码时，会产生以下结果 -</p> 
 <pre><code class="lang-shell">      id,   name,    salary,   start_date,     dept
1      1    Rick     623.30    2012-01-01      IT
2      2    Dan      515.20    2013-09-23      Operations
3      3    Michelle 611.00    2014-11-15      IT
4      4    Ryan     729.00    2014-05-11      HR
5     NA    Gary     843.25    2015-03-27      Finance
6      6    Nina     578.00    2013-05-21      IT
7      7    Simon    632.80    2013-07-30      Operations
8      8    Guru     722.50    2014-06-17      Finance
</code></pre>
 <br>      
</div></body></html>