<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">R语言饼状图</h1><div style="width:100%;float:left;" class="article-content">   
 <p>R编程语言中有许多库用来创建图表。饼状图是以不同颜色的圆的切片表示的值。这些切片被标记，并且每个切片对应的数字也在图表中表示。</p> 
 <p>在R中，使用将正数作为向量输入的<code>pie()</code>函数创建饼状图。附加参数用于控制标签，颜色，标题等。</p> 
 <p><strong>语法</strong></p> 
 <p>使用R编程语言创建饼图的基本语法是 -</p> 
 <pre><code class="lang-r">pie(x, labels, radius, main, col, clockwise)
</code></pre> 
 <p>以下是使用的参数的描述 -</p> 
 <ul> 
  <li><em>x</em> - 是包含饼图中使用的数值的向量。</li>
  <li><em>labels</em> - 用于描述切片的标签。</li>
  <li><em>radius</em> - 用来表示饼图圆的半径(<code>-1</code>和<code>+1</code>之间的值)。</li>
  <li><em>main</em> - 用来表示图表的标题。</li>
  <li><em>col</em> - 表示调色板。</li>
  <li><em>clockwise</em> - 是一个逻辑值，指示片是顺时针还是逆时针绘制。</li>
 </ul> 
 <h2 id="h2-u4F8Bu5B50"><a name="例子" class="reference-link"></a><span class="header-link octicon octicon-link"></span>例子</h2>
 <p>使用输入向量和标签创建一个非常简单的饼状图。以下脚本将创建饼图片并保存在当前R工作目录中。假设下是一个统计年龄段的代码 - </p> 
 <pre><code class="lang-r"># Create data for the graph.
x &lt;- c(11, 30, 39, 20)
labels &lt;- c("70后", "80后", "90后", "00后")

# Give the chart file a name.
png(file = "birth_of_age.jpg")

# Plot the chart.
pie(x,labels)

# Save the file.
dev.off()
</code></pre> 
 <p>当我们执行上述代码时，会产生以下结果(图片) -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201708/2408/230170825_83973.png" alt=""></p> 
 <h2 id="h2-u997Cu56FEu6807u9898u548Cu989Cu8272"><a name="饼图标题和颜色" class="reference-link"></a><span class="header-link octicon octicon-link"></span>饼图标题和颜色</h2>
 <p>可以通过向函数添加更多参数来扩展图表的特征。我们将使用参数<code>main</code>向图表添加标题，另一个参数是<code>col</code>，在绘制图表时将使用彩虹色托盘。托盘的长度应与图表的数量相同。 因此我们使用<code>length(x)</code>。</p> 
 <p><strong>例子</strong></p> 
 <p>以下脚本将创建一个饼图图片文件(<em>age_title_colours.jpg</em>)并保存当前R工作目录中。</p> 
 <pre><code class="lang-r"># Create data for the graph.
x &lt;- c(11, 30, 39, 20)
labels &lt;- c("70后", "80后", "90后", "00后")

# Give the chart file a name.
png(file = "age_title_colours.jpg")

# Plot the chart with title and rainbow color pallet.
pie(x, labels, main = "出生年龄段 - 饼状图", col = rainbow(length(x)))

# Save the file.
dev.off()
</code></pre> 
 <p>当我们执行上述代码时，会产生以下结果 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201708/2408/463170833_80338.jpg" alt=""></p> 
 <h2 id="h2-u5207u7247u767Eu5206u6BD4u548Cu56FEu8868u56FEu4F8B"><a name="切片百分比和图表图例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>切片百分比和图表图例</h2>
 <p>我们可以通过创建附加的图表变量来添加切片百分比和图表图例。参考以下代码实现 - </p>   
 <pre><code class="lang-r"># Create data for the graph.
x &lt;-  c(21, 62, 10,53)
labels &lt;- c("70后", "80后", "90后", "00后")

piepercent&lt;- paste(round(100*x/sum(x), 2), "%")

# Give the chart file a name.
png(file = "age_percentage_legends.jpg")

# Plot the chart.
pie(x, labels = piepercent, main = "出生年龄段 - 饼状图",col = rainbow(length(x)))
legend("topright", c("70后","80后","90后","00后"), cex = 0.8,
   fill = rainbow(length(x)))

# Save the file.
dev.off()
</code></pre> 
 <p>当我们执行上述代码时，会产生以下结果 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201708/2408/117170852_62247.jpg" alt=""></p> 
 <h2 id="h2-3d-"><a name="3D饼图" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3D饼图</h2>
 <p>可以使用附加包来绘制具有3个维度的饼图。软件包<code>plotrix</code>中有一个名为<code>pie3D()</code>的函数，用于此效果。参考以下代码 - </p> 
 <blockquote> 
  <p>注： 如果没有安装软件库：<code>plotrix</code>，可先执行<code>install.packages("plotrix")</code>来安装。</p> 
 </blockquote> 
 <pre><code class="lang-r"># Get the library.
library("plotrix")

# Create data for the graph.
x &lt;-  c(21, 62, 10,53)
lbl &lt;- c("70后", "80后", "90后", "00后")

# Give the chart file a name.
png(file = "3d_pie_chart.jpg")

# Plot the chart.
pie3D(x,labels = lbl,explode = 0.1, main = "出生年龄段 - 饼状图")

# Save the file.
dev.off()
</code></pre> 
 <p>当我们执行上述代码时，会产生以下结果 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201708/2408/476170859_74173.jpg" alt=""></p>
 <br>      
</div></body></html>