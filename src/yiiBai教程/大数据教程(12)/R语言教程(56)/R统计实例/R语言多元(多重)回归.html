<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">R语言多元(多重)回归</h1><div style="width:100%;float:left;" class="article-content">   
 <p>多元(多重)回归是线性回归扩展到两个以上变量之间的关系。在简单的线性关系中，我们有一个预测因子和一个响应变量，但在多元回归中，可以有多个预测变量和一个响应变量。</p> 
 <p>多元回归的一般数学方程为 -</p> 
 <pre><code class="lang-r">y = a + b1x1 + b2x2 +...bnxn
</code></pre> 
 <p>以下是使用的参数的描述 -</p> 
 <ul> 
  <li><em>y</em> - 是响应变量。</li>
  <li><em>a，b1，b2 … bn</em> - 是系数。</li>
  <li><em>x1，x2，… xn</em> - 是预测变量。</li>
 </ul> 
 <p>我们使用R中的<code>lm()</code>函数创建回归模型。该模型使用输入数据确定系数的值。 接下来，可以使用这些系数来预测给定的一组预测变量的响应变量的值。</p> 
 <h3 id="h3-lm-"><a name="lm()函数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>lm()函数</h3>
 <p>该函数创建预测变量与响应变量之间的关系模型。</p> 
 <p><strong>语法</strong></p> 
 <p><code>lm()</code>函数在多元回归中的基本语法是 -</p> 
 <pre><code class="lang-r">lm(y ~ x1+x2+x3...,data)
</code></pre> 
 <p>以下是使用的参数的描述 - </p> 
 <ul> 
  <li><em>formula</em> - 即：<code>y ~ x1+x2+x3...</code>是呈现响应变量和预测变量之间关系的符号。</li>
  <li><em>data</em> - 是应用公式的向量。</li>
 </ul> 
 <h3 id="h3-u793Au4F8B"><a name="示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例</h3>
 <p><strong>输入数据</strong></p> 
 <p>考虑R环境中可用的数据集<code>mtcars</code>，它比较不同的车型，每加仑里程(<code>mpg</code>)，气缸排量(<code>disp</code>)，马力(<code>hp</code>)，汽车重量(<code>wt</code>)和一些更多的参数。</p> 
 <p>该模型的目标是建立<code>“mpg”</code>作为响应变量与<code>“disp”</code>，<code>“hp”</code>和<code>“wt”</code>之间的关系作为预测变量。为此，我们从<code>mtcars</code>数据集创建这些变量的子集。</p> 
 <pre><code class="lang-r">input &lt;- mtcars[,c("mpg","disp","hp","wt")]
print(head(input))
</code></pre> 
 <p>当我们执行上述代码时，会产生以下结果 -</p> 
 <pre><code class="lang-shell">                   mpg disp  hp    wt
Mazda RX4         21.0  160 110 2.620
Mazda RX4 Wag     21.0  160 110 2.875
Datsun 710        22.8  108  93 2.320
Hornet 4 Drive    21.4  258 110 3.215
Hornet Sportabout 18.7  360 175 3.440
Valiant           18.1  225 105 3.460
</code></pre> 
 <p><strong>示例：</strong> 创建关系模型并得到系数</p>   
 <pre><code class="lang-r">input &lt;- mtcars[,c("mpg","disp","hp","wt")]

# Create the relationship model.
model &lt;- lm(mpg~disp+hp+wt, data = input)

# Show the model.
print(model)

# Get the Intercept and coefficients as vector elements.
cat("# # # # The Coefficient Values # # # ","\n")

a &lt;- coef(model)[1]
print(a)

Xdisp &lt;- coef(model)[2]
Xhp &lt;- coef(model)[3]
Xwt &lt;- coef(model)[4]

print(Xdisp)
print(Xhp)
print(Xwt)
</code></pre> 
 <p>当我们执行上述代码时，会产生以下结果 -</p> 
 <pre><code class="lang-shell">Call:
lm(formula = mpg ~ disp + hp + wt, data = input)

Coefficients:
(Intercept)         disp           hp           wt  
  37.105505      -0.000937        -0.031157    -3.800891  

# # # # The Coefficient Values # # # 
(Intercept) 
   37.10551 
         disp 
-0.0009370091 
         hp 
-0.03115655 
       wt 
-3.800891
</code></pre> 
 <p><strong>创建回归模型方程</strong></p> 
 <p>基于上述截距和系数值，我们创建了数学方程，如下所示 - </p> 
 <pre><code class="lang-r">Y = a+Xdisp.x1+Xhp.x2+Xwt.x3
## 或者 
Y = 37.15+(-0.000937)*x1+(-0.0311)*x2+(-3.8008)*x3
</code></pre> 
 <p><strong>应用公式来预测新值</strong></p> 
 <p>当提供一组新的位移，马力和重量值时，我们可以使用上面创建的回归方程来预测里程。</p> 
 <p>对于具有<code>disp = 221</code>，<code>hp = 102</code>和<code>wt = 2.91</code>的汽车，预计里程预测为 -</p> 
 <pre><code class="lang-r">Y = 37.15+(-0.000937)*221+(-0.0311)*102+(-3.8008)*2.91 = 22.7104
</code></pre>
 <br>      
</div></body></html>