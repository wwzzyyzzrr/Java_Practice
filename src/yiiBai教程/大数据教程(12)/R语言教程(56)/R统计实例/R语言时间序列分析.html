<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">R语言时间序列分析</h1><div style="width:100%;float:left;" class="article-content">   
 <p>时间序列是一系列数据点，其每个数据点与时间戳相关联。 一个简单的例子就是股票在某一天不同时间点的股票价格。另一个例子是一年中不同月份某个地区的降雨量。R语言使用许多功能来创建，操纵和绘制时间序列数据。时间序列的数据存储在称为时间序列对象的R对象中。 它也是一个R数据对象，如向量或数据帧。</p> 
 <p>时间序列对象是通过使用<code>ts()</code>函数创建的。</p> 
 <h2 id="h2-u8BEDu6CD5"><a name="语法" class="reference-link"></a><span class="header-link octicon octicon-link"></span>语法</h2>
 <p>时间序列分析所使用的<code>ts()</code>函数的基本语法是 -</p> 
 <pre><code class="lang-r">timeseries.object.name &lt;-  ts(data, start, end, frequency)
</code></pre> 
 <p>以下是使用的参数的描述 -</p> 
 <ul> 
  <li><em>data</em> - 是包含时间序列中使用的值的向量或矩阵。</li>
  <li><em>start</em> - 以时间序列指定第一次观察的开始时间。</li>
  <li><em>end</em> - 指定时间序列中最后观察的结束时间。</li>
  <li><em>frequency</em> - 指定每单位时间的观测次数。</li>
 </ul> 
 <p>除参数<code>“data”</code>外，所有其他参数均为可选项。</p> 
 <h2 id="h2-u793Au4F8B"><a name="示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例</h2>
 <p>假设从2012年1月开始，要表述某地的年降雨统计信息。我们创建一个R时间序列对象，为期<code>12</code>个月，并绘制。</p> 
 <pre><code class="lang-r">setwd("F:/worksp/R")

# Get the data points in form of a R vector.
rainfall &lt;- c(799,1174.8,865.1,1334.6,635.4,918.5,685.5,998.6,784.2,985,882.8,1071)

# Convert it to a time series object.
rainfall.timeseries &lt;- ts(rainfall,start = c(2012,1),frequency = 12)

# Print the timeseries data.
print(rainfall.timeseries)

# Give the chart file a name.
png(file = "rainfall.png")

# Plot a graph of the time series.
plot(rainfall.timeseries)

# Save the file.
dev.off()
</code></pre> 
 <p>当我们执行上面的代码，它产生以下结果和图表 -</p> 
 <pre><code class="lang-r">Jan    Feb    Mar    Apr    May     Jun    Jul    Aug    Sep
2012  799.0  1174.8  865.1  1334.6  635.4  918.5  685.5  998.6  784.2
        Oct    Nov    Dec
2012  985.0  882.8 1071.0
</code></pre> 
 <p>降雨量的时间序列图 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201708/2508/728150833_76245.png" alt=""></p> 
 <h2 id="h2-u4E0Du540Cu7684u65F6u95F4u95F4u9694"><a name="不同的时间间隔" class="reference-link"></a><span class="header-link octicon octicon-link"></span>不同的时间间隔</h2>
 <p><code>ts()</code>函数中的频率(<code>frequency</code>)参数的值决定了测量数据点的时间间隔。 值为<code>12</code>表示时间序列为<code>12</code>个月。其他值及其含义如下 -</p> 
 <ul> 
  <li><em>frequency= 12</em> - 每一个月的数据点。</li>
  <li><em>frequency= 4</em> - 每年四分之一的数据点。</li>
  <li><em>frequency= 6</em> - 每一小时10分钟的数据点。</li>
  <li><em>frequency= 24 </em> 6* - 每天10分钟的数据点。</li>
 </ul> 
 <h2 id="h2-u591Au65F6u95F4u7CFBu5217"><a name="多时间系列" class="reference-link"></a><span class="header-link octicon octicon-link"></span>多时间系列</h2>
 <p>我们可以在一个图表中绘制多个时间序列，将这两个系列组合成一个矩阵。</p>   
 <pre><code class="lang-r">setwd("F:/worksp/R")
# Get the data points in form of a R vector.
rainfall1 &lt;- c(799,1174.8,865.1,1334.6,635.4,918.5,685.5,998.6,784.2,985,882.8,1071)
rainfall2 &lt;- 
           c(655,1306.9,1323.4,1172.2,562.2,824,822.4,1265.5,799.6,1105.6,1106.7,1337.8)

# Convert them to a matrix.
combined.rainfall &lt;-  matrix(c(rainfall1,rainfall2),nrow = 12)

# Convert it to a time series object.
rainfall.timeseries &lt;- ts(combined.rainfall,start = c(2012,1),frequency = 12)

# Print the timeseries data.
print(rainfall.timeseries)

# Give the chart file a name.
png(file = "rainfall_combined.png")

# Plot a graph of the time series.
plot(rainfall.timeseries, main = "多时间系列图")

# Save the file.
dev.off()
</code></pre> 
 <p>当我们执行上面的代码，它产生以下结果和图表 -</p> 
 <pre><code class="lang-shell">           Series 1  Series 2
Jan 2012    799.0    655.0
Feb 2012   1174.8   1306.9
Mar 2012    865.1   1323.4
Apr 2012   1334.6   1172.2
May 2012    635.4    562.2
Jun 2012    918.5    824.0
Jul 2012    685.5    822.4
Aug 2012    998.6   1265.5
Sep 2012    784.2    799.6
Oct 2012    985.0   1105.6
Nov 2012    882.8   1106.7
Dec 2012   1071.0   1337.8
</code></pre> 
 <p>多时间系列图 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201708/2508/841150838_69903.png" alt=""></p>
 <br>      
</div></body></html>