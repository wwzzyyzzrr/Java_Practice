<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">R语言卡方检验</h1><div style="width:100%;float:left;" class="article-content">   
 <p>卡方检验是一种统计方法，用于确定两个分类变量之间是否具有显着的相关性。 这些变量应该来自相同的人口，它们应该是分类的，如 - 是/否，男/女，红/绿等。</p> 
 <p>例如，我们可以建立一个数据集，观察人们的冰淇淋购买模式，并尝试将一个人的性别与他们喜欢的冰淇淋的味道相关联。 如果发现相关性，我们可以通过了解访问者的性别数量来调整对应口味的库存。</p> 
 <h2 id="h2-u8BEDu6CD5"><a name="语法" class="reference-link"></a><span class="header-link octicon octicon-link"></span>语法</h2>
 <p>执行卡方检验的函数是：<code>chisq.test()</code>。</p> 
 <p>在R中创建卡方检验的基本语法是 -</p> 
 <pre><code class="lang-r">chisq.test(data)
</code></pre> 
 <p>以下是使用的参数的描述 -</p> 
 <p>-<em>data</em> - 是表中包含观察值中变量计数值的数据。</p> 
 <h2 id="h2-u793Au4F8B"><a name="示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例</h2>
 <p>我们将在1993年的<code>“MASS”</code>库中采用<code>Cars93</code>数据，代表不同车型的销售。</p> 
 <pre><code class="lang-r">library("MASS")
print(str(Cars93))
</code></pre> 
 <p>当执行上面示例代码后，得到以下结果 - </p> 
 <pre><code class="lang-shell">'data.frame':   93 obs. of  27 variables:
 $ Manufacturer      : Factor w/ 32 levels "Acura","Audi",..: 1 1 2 2 3 4 4 4 4 5 ...
 $ Model             : Factor w/ 93 levels "100","190E","240",..: 49 56 9 1 6 24 54 74 73 35 ...
 $ Type              : Factor w/ 6 levels "Compact","Large",..: 4 3 1 3 3 3 2 2 3 2 ...
 $ Min.Price         : num  12.9 29.2 25.9 30.8 23.7 14.2 19.9 22.6 26.3 33 ...
 $ Price             : num  15.9 33.9 29.1 37.7 30 15.7 20.8 23.7 26.3 34.7 ...
 $ Max.Price         : num  18.8 38.7 32.3 44.6 36.2 17.3 21.7 24.9 26.3 36.3 ...
 $ MPG.city          : int  25 18 20 19 22 22 19 16 19 16 ...
 $ MPG.highway       : int  31 25 26 26 30 31 28 25 27 25 ...
 $ AirBags           : Factor w/ 3 levels "Driver &amp; Passenger",..: 3 1 2 1 2 2 2 2 2 2 ...
 $ DriveTrain        : Factor w/ 3 levels "4WD","Front",..: 2 2 2 2 3 2 2 3 2 2 ...
 $ Cylinders         : Factor w/ 6 levels "3","4","5","6",..: 2 4 4 4 2 2 4 4 4 5 ...
 $ EngineSize        : num  1.8 3.2 2.8 2.8 3.5 2.2 3.8 5.7 3.8 4.9 ...
 $ Horsepower        : int  140 200 172 172 208 110 170 180 170 200 ...
 $ RPM               : int  6300 5500 5500 5500 5700 5200 4800 4000 4800 4100 ...
 $ Rev.per.mile      : int  2890 2335 2280 2535 2545 2565 1570 1320 1690 1510 ...
 $ Man.trans.avail   : Factor w/ 2 levels "No","Yes": 2 2 2 2 2 1 1 1 1 1 ...
 $ Fuel.tank.capacity: num  13.2 18 16.9 21.1 21.1 16.4 18 23 18.8 18 ...
 $ Passengers        : int  5 5 5 6 4 6 6 6 5 6 ...
 $ Length            : int  177 195 180 193 186 189 200 216 198 206 ...
 $ Wheelbase         : int  102 115 102 106 109 105 111 116 108 114 ...
 $ Width             : int  68 71 67 70 69 69 74 78 73 73 ...
 $ Turn.circle       : int  37 38 37 37 39 41 42 45 41 43 ...
 $ Rear.seat.room    : num  26.5 30 28 31 27 28 30.5 30.5 26.5 35 ...
 $ Luggage.room      : int  11 15 14 17 13 16 17 21 14 18 ...
 $ Weight            : int  2705 3560 3375 3405 3640 2880 3470 4105 3495 3620 ...
 $ Origin            : Factor w/ 2 levels "USA","non-USA": 2 2 2 2 2 1 1 1 1 1 ...
 $ Make              : Factor w/ 93 levels "Acura Integra",..: 1 2 4 3 5 6 7 9 8 10 ...
NULL
</code></pre> 
 <p>上述结果表明，数据集具有许多因子变量，可以被认为是分类变量。对于我们的模型，只需要考虑变量<code>AirBags</code>和<code>Type</code>。 在这里，我们的目标是找出所销售的汽车类型和<code>Air Bag</code>的类型之间的显着相关性。如果观察到相关性，我们可以估计哪种类型的汽车可以更好地销售哪种类型的气囊。参考以下代码的实现 - </p>   
 <pre><code class="lang-r"># Load the library.
library("MASS")

# Create a data frame from the main data set.
car.data &lt;- data.frame(Cars93$AirBags, Cars93$Type)

# Create a table with the needed variables.
car.data = table(Cars93$AirBags, Cars93$Type) 
print(car.data)

# Perform the Chi-Square test.
print(chisq.test(car.data))
</code></pre> 
 <p>当我们执行上述代码时，会产生以下结果 -</p> 
 <pre><code class="lang-r">        Pearson's Chi-squared test

data:  car.data
X-squared = 33.001, df = 10, p-value = 0.0002723

Warning message:
In chisq.test(car.data) : Chi-squared approximation may be incorrect
</code></pre> 
 <p><strong>结论</strong></p> 
 <p>结果表明，<code>p</code>值小于<code>0.05</code>，表明字符串相关。</p>
 <br>      
</div></body></html>