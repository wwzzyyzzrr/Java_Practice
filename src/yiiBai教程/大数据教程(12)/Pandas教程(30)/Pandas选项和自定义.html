<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Pandas选项和自定义</h1><div style="width:100%;float:left;" class="article-content">   
 <p>Pandas提供API来自定义其行为的某些方面，大多使用来显示。</p> 
 <p>API由五个相关函数组成。它们分别是 -</p> 
 <ul> 
  <li><em>get_option()</em></li>
  <li><em>set_option()</em></li>
  <li><em>reset_option()</em></li>
  <li><em>describe_option()</em></li>
  <li><em>option_context()</em></li>
 </ul> 
 <p>现在来了解函数是如何工作的。</p> 
 <h2 id="h2-get_option-param-"><a name="get_option(param)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>get_option(param)</h2>
 <p><code>get_option(param)</code>需要一个参数，并返回下面输出中给出的值 -</p> 
 <p><code>get_option</code>需要一个参数，并返回下面输出中给出的值 -</p> 
 <p><strong>display.max_rows</strong></p> 
 <p>显示默认值。解释器读取此值并显示此值作为显示上限的行。</p> 
 <pre><code class="lang-python">import pandas as pd
print ("display.max_rows = ", pd.get_option("display.max_rows"))
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">display.max_rows =  60
</code></pre> 
 <p><strong>display.max_columns</strong></p> 
 <p>显示默认值，解释器读取此值并显示此值作为显示上限的行。</p> 
 <pre><code class="lang-python">import pandas as pd
print ("display.max_columns = ", pd.get_option("display.max_columns"))
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">display.max_columns =  20
</code></pre> 
 <p>这里，<code>60</code>和<code>20</code>是默认配置参数值。</p> 
 <h2 id="h2-set_option-param-value-"><a name="set_option(param,value)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>set_option(param,value)</h2>
 <p><code>set_option</code>需要两个参数，并将该值设置为指定的参数值，如下所示：</p> 
 <p><strong>display.max_rows</strong></p> 
 <p>使用<code>set_option()</code>，可以更改要显示的默认行数。</p> 
 <pre><code class="lang-python">import pandas as pd

print ("before set display.max_rows = ", pd.get_option("display.max_rows")) 

pd.set_option("display.max_rows",80)
print ("after set display.max_rows = ", pd.get_option("display.max_rows"))
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">before set display.max_rows =  60
after set display.max_rows =  80
</code></pre> 
 <p><strong>display.max_columns</strong></p> 
 <p>使用<code>set_option()</code>，可以更改要显示的默认行数。</p> 
 <pre><code class="lang-python">import pandas as pd

print ("before set display.max_columns = ", pd.get_option("display.max_columns")) 

pd.set_option("display.max_columns",32)
print ("after set display.max_columns = ", pd.get_option("display.max_columns"))
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">before set display.max_columns =  20
after set display.max_columns =  32
</code></pre> 
 <h2 id="h2-reset_option-param-"><a name="reset_option(param)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>reset_option(param)</h2>
 <p><code>reset_option</code>接受一个参数，并将该值设置为默认值。</p> 
 <p><strong>display.max_rows</strong></p> 
 <p>使用<code>reset_option()</code>，可以将该值更改回显示的默认行数。</p> 
 <pre><code class="lang-python">import pandas as pd

pd.set_option("display.max_rows",32)
print ("after set display.max_rows = ", pd.get_option("display.max_rows")) 

pd.reset_option("display.max_rows")
print ("reset display.max_rows = ", pd.get_option("display.max_rows"))
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">after set display.max_rows =  32
reset display.max_rows =  60
</code></pre> 
 <h2 id="h2-describe_option-param-"><a name="describe_option(param)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>describe_option(param)</h2>
 <p><code>describe_option</code>打印参数的描述。</p> 
 <p><strong>display.max_rows</strong></p> 
 <p>使用<code>reset_option()</code>，可以将该值更改回显示的默认行数。</p>   
 <pre><code class="lang-python">import pandas as pd

pd.describe_option("display.max_rows")
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">display.max_rows : int
    If max_rows is exceeded, switch to truncate view. Depending on
    `large_repr`, objects are either centrally truncated or printed as
    a summary view. 'None' value means unlimited.

    In case python/IPython is running in a terminal and `large_repr`
    equals 'truncate' this can be set to 0 and pandas will auto-detect
    the height of the terminal and print a truncated object which fits
    the screen height. The IPython notebook, IPython qtconsole, or
    IDLE do not run in a terminal and hence it is not possible to do
    correct auto-detection.
    [default: 60] [currently: 60]
</code></pre> 
 <h2 id="h2-option_context-"><a name="option_context()" class="reference-link"></a><span class="header-link octicon octicon-link"></span>option_context()</h2>
 <p><code>option_context</code>上下文管理器用于临时设置语句中的选项。当退出使用块时，选项值将自动恢复 -</p> 
 <p><strong>display.max_rows</strong><br>使用<code>option_context()</code>，可以临时设置该值。</p> 
 <pre><code class="lang-python">import pandas as pd
with pd.option_context("display.max_rows",10):
   print(pd.get_option("display.max_rows"))
   print(pd.get_option("display.max_rows"))
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">10
10
</code></pre> 
 <p>请参阅第一和第二个打印语句之间的区别。第一个语句打印由<code>option_context()</code>设置的值，该值在上下文中是临时的。在使用上下文之后，第二个打印语句打印配置的值。</p> 
 <p>常用参数，请参考下表 - </p> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>参数</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td><code>display.max_rows</code></td> 
    <td>要显示的最大行数</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td><code>display.max_columns</code></td> 
    <td>要显示的最大列数</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td><code>display.expand_frame_repr</code></td> 
    <td>显示数据帧以拉伸页面</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td><code>display.max_colwidth</code></td> 
    <td>显示最大列宽</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td><code>display.precision</code></td> 
    <td>显示十进制数的精度</td> 
   </tr> 
  </tbody> 
 </table>
 <br>      
</div></body></html>