<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Pandas面板（Panel）</h1><div style="width:100%;float:left;" class="article-content">   
 <p>面板(Panel)是3D容器的数据。面板数据一词来源于计量经济学，部分源于名称：<code>Pandas</code> - <code>pan(el)-da(ta)-s</code>。</p> 
 <p><code>3</code>轴(<code>axis</code>)这个名称旨在给出描述涉及面板数据的操作的一些语义。它们是 -</p> 
 <ul> 
  <li><em>items</em> - <code>axis 0</code>，每个项目对应于内部包含的数据帧(DataFrame)。</li>
  <li><em>major_axis</em> - <code>axis 1</code>，它是每个数据帧(DataFrame)的索引(行)。</li>
  <li><em>minor_axis</em> - <code>axis 2</code>，它是每个数据帧(DataFrame)的列。</li>
 </ul> 
 <h2 id="h2-1-pandas-panel-"><a name="1. pandas.Panel()" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1. pandas.Panel()</h2>
 <p>可以使用以下构造函数创建面板 -</p> 
 <pre><code class="lang-python">pandas.Panel(data, items, major_axis, minor_axis, dtype, copy)
</code></pre> 
 <p>构造函数的参数如下 -</p> 
 <table> 
  <thead> 
   <tr> 
    <th>参数</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td><code>data</code></td> 
    <td>数据采取各种形式，如：<code>ndarray</code>，<code>series</code>，<code>map</code>，<code>lists</code>，<code>dict</code>，<code>constant</code>和另一个数据帧(<code>DataFrame</code>)</td> 
   </tr> 
   <tr> 
    <td><code>items</code></td> 
    <td><code>axis=0</code></td> 
   </tr> 
   <tr> 
    <td><code>major_axis</code></td> 
    <td><code>axis=1</code></td> 
   </tr> 
   <tr> 
    <td><code>minor_axis</code></td> 
    <td><code>axis=2</code></td> 
   </tr> 
   <tr> 
    <td><code>dtype</code></td> 
    <td>每列的数据类型</td> 
   </tr> 
   <tr> 
    <td><code>copy</code></td> 
    <td>复制数据，默认 - <code>false</code></td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-2-"><a name="2. 创建面板" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2. 创建面板</h2>
 <p>可以使用多种方式创建面板 - </p> 
 <ul> 
  <li>从ndarrays创建</li>
  <li>从DataFrames的dict创建</li>
 </ul> 
 <h3 id="h3-2-1-3d-ndarray-"><a name="2.1 从3D ndarray创建" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2.1 从3D ndarray创建</h3>
 <pre><code class="lang-python"># creating an empty panel
import pandas as pd
import numpy as np

data = np.random.rand(2,4,5)
p = pd.Panel(data)
print p
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">&lt;class 'pandas.core.panel.Panel'&gt;
Dimensions: 2 (items) x 4 (major_axis) x 5 (minor_axis)
Items axis: 0 to 1
Major_axis axis: 0 to 3
Minor_axis axis: 0 to 4
</code></pre> 
 <blockquote> 
  <p>注意 - 观察空面板和上面板的尺寸大小，所有对象都不同。</p> 
 </blockquote> 
 <h3 id="h3-2-2-dataframe-dict-"><a name="2.2 从DataFrame对象的dict创建面板" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2.2 从DataFrame对象的dict创建面板</h3>
 <pre><code class="lang-python">#creating an empty panel
import pandas as pd
import numpy as np

data = {'Item1' : pd.DataFrame(np.random.randn(4, 3)), 
        'Item2' : pd.DataFrame(np.random.randn(4, 2))}
p = pd.Panel(data)
print p
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">&lt;class 'pandas.core.panel.Panel'&gt;
Dimensions: 2 (items) x 4 (major_axis) x 5 (minor_axis)
Items axis: 0 to 1
Major_axis axis: 0 to 3
Minor_axis axis: 0 to 4
</code></pre> 
 <h3 id="h3-2-3-"><a name="2.3 创建一个空面板" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2.3 创建一个空面板</h3>
 <p>可以使用<code>Panel</code>的构造函数创建一个空面板，如下所示：</p> 
 <pre><code class="lang-python">#creating an empty panel
import pandas as pd
p = pd.Panel()
print p
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">&lt;class 'pandas.core.panel.Panel'&gt;
Dimensions: 0 (items) x 0 (major_axis) x 0 (minor_axis)
Items axis: None
Major_axis axis: None
Minor_axis axis: None
</code></pre> 
 <h2 id="h2-3-"><a name="3. 从面板中选择数据" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3. 从面板中选择数据</h2>
 <p>要从面板中选择数据，可以使用以下方式 -</p> 
 <ul> 
  <li>Items</li>
  <li>Major_axis</li>
  <li>Minor_axis</li>
 </ul> 
 <p><strong>使用Items</strong></p>   
 <pre><code class="lang-python"># creating an empty panel
import pandas as pd
import numpy as np
data = {'Item1' : pd.DataFrame(np.random.randn(4, 3)), 
        'Item2' : pd.DataFrame(np.random.randn(4, 2))}
p = pd.Panel(data)
print p['Item1']
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">            0          1          2
0    0.488224  -0.128637   0.930817
1    0.417497   0.896681   0.576657
2   -2.775266   0.571668   0.290082
3   -0.400538  -0.144234   1.110535
</code></pre> 
 <p>上面示例有两个数据项，这里只检索<code>item1</code>。结果是具有<code>4</code>行和<code>3</code>列的数据帧(<code>DataFrame</code>)，它们是<code>Major_axis</code>和<code>Minor_axis</code>维。</p> 
 <p><strong>使用major_axis</strong></p> 
 <p>可以使用<code>panel.major_axis(index)</code>方法访问数据。参考以下示例代码 - </p> 
 <pre><code class="lang-python"># creating an empty panel
import pandas as pd
import numpy as np
data = {'Item1' : pd.DataFrame(np.random.randn(4, 3)), 
        'Item2' : pd.DataFrame(np.random.randn(4, 2))}
p = pd.Panel(data)
print p.major_xs(1)
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">      Item1       Item2
0   0.417497    0.748412
1   0.896681   -0.557322
2   0.576657       NaN
</code></pre> 
 <p><strong>使用minor_axis</strong></p> 
 <p>可以使用<code>panel.minor_axis(index)</code>方法访问数据。参考以下示例代码 - </p> 
 <pre><code class="lang-python"># creating an empty panel
import pandas as pd
import numpy as np
data = {'Item1' : pd.DataFrame(np.random.randn(4, 3)), 
        'Item2' : pd.DataFrame(np.random.randn(4, 2))}
p = pd.Panel(data)
print p.minor_xs(1)
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">       Item1       Item2
0   -0.128637   -1.047032
1    0.896681   -0.557322
2    0.571668    0.431953
3   -0.144234    1.302466
</code></pre> 
 <blockquote> 
  <p>注意 - 观察尺寸大不的变化。</p> 
 </blockquote>
 <br>      
</div></body></html>