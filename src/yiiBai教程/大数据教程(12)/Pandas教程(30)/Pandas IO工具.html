<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Pandas IO工具</h1><div style="width:100%;float:left;" class="article-content">   
 <p>Pandas I/O API是一套像<code>pd.read_csv()</code>一样返回<code>Pandas</code>对象的顶级读取器函数。</p> 
 <p>读取文本文件(或平面文件)的两个主要功能是<code>read_csv()</code>和<code>read_table()</code>。它们都使用相同的解析代码来智能地将表格数据转换为<code>DataFrame</code>对象 -</p> 
 <pre><code class="lang-python">pandas.read_csv(filepath_or_buffer, sep=',', delimiter=None, header='infer',
names=None, index_col=None, usecols=None)
</code></pre> 
 <p>形式2-</p> 
 <pre><code class="lang-python">pandas.read_csv(filepath_or_buffer, sep='\t', delimiter=None, header='infer',
names=None, index_col=None, usecols=None)
</code></pre> 
 <p>以下是csv文件数据的内容 -</p> 
 <pre><code class="lang-csv">S.No,Name,Age,City,Salary
1,Tom,28,Toronto,20000
2,Lee,32,HongKong,3000
3,Steven,43,Bay Area,8300
4,Ram,38,Hyderabad,3900
</code></pre> 
 <p>将这些数据保存为<code>temp.csv</code>并对其进行操作。</p> 
 <pre><code>S.No,Name,Age,City,Salary
1,Tom,28,Toronto,20000
2,Lee,32,HongKong,3000
3,Steven,43,Bay Area,8300
4,Ram,38,Hyderabad,3900
</code></pre>
 <h2 id="h2-read-csv"><a name="read.csv" class="reference-link"></a><span class="header-link octicon octicon-link"></span>read.csv</h2>
 <p><code>read.csv</code>从csv文件中读取数据并创建一个<code>DataFrame</code>对象。</p> 
 <pre><code class="lang-python">import pandas as pd
df=pd.read_csv("temp.csv")
print (df)
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">   S.No    Name  Age       City  Salary
0     1     Tom   28    Toronto   20000
1     2     Lee   32   HongKong    3000
2     3  Steven   43   Bay Area    8300
3     4     Ram   38  Hyderabad    3900
</code></pre> 
 <p><strong>自定义索引</strong></p> 
 <p>可以指定csv文件中的一列来使用<code>index_col</code>定制索引。</p> 
 <pre><code class="lang-python">import pandas as pd

df=pd.read_csv("temp.csv",index_col=['S.No'])
print (df)
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">        Name  Age       City  Salary
S.No                                
1        Tom   28    Toronto   20000
2        Lee   32   HongKong    3000
3     Steven   43   Bay Area    8300
4        Ram   38  Hyderabad    3900
</code></pre> 
 <p><strong>转换器</strong><br><code>dtype</code>的列可以作为字典传递。</p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np
df = pd.read_csv("temp.csv", dtype={'Salary': np.float64})
print (df.dtypes)
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">S.No        int64
Name       object
Age         int64
City       object
Salary    float64
dtype: object
</code></pre> 
 <p>默认情况下，Salary列的<code>dtype</code>是<code>int</code>，但结果显示为<code>float</code>，因为我们明确地转换了类型。</p> 
 <p>因此，数据看起来像浮点数 -</p> 
 <pre><code>  S.No   Name   Age      City    Salary
0   1     Tom   28    Toronto   20000.0
1   2     Lee   32   HongKong    3000.0
2   3  Steven   43   Bay Area    8300.0
3   4     Ram   38  Hyderabad    3900.0
</code></pre>
 <p><strong>header_names</strong><br>使用<code>names</code>参数指定标题的名称。</p>   
 <pre><code class="lang-python">import pandas as pd
import numpy as np

df=pd.read_csv("temp.csv", names=['a', 'b', 'c','d','e'])
print (df)
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">      a       b    c          d       e
0  S.No    Name  Age       City  Salary
1     1     Tom   28    Toronto   20000
2     2     Lee   32   HongKong    3000
3     3  Steven   43   Bay Area    8300
4     4     Ram   38  Hyderabad    3900
</code></pre> 
 <p>观察可以看到，标题名称附加了自定义名称，但文件中的标题还没有被消除。 现在，使用<code>header</code>参数来删除它。</p> 
 <p>如果标题不是第一行，则将行号传递给标题。这将跳过前面的行。</p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

df=pd.read_csv("temp.csv",names=['a','b','c','d','e'],header=0)
print (df)
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">   a       b   c          d      e
0  1     Tom  28    Toronto  20000
1  2     Lee  32   HongKong   3000
2  3  Steven  43   Bay Area   8300
3  4     Ram  38  Hyderabad   3900
</code></pre> 
 <p><strong>skiprows</strong></p> 
 <p><code>skiprows</code>跳过指定的行数。参考以下示例代码 - </p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

df=pd.read_csv("temp.csv", skiprows=2)
print (df)
</code></pre> 
 <p>执行上面示例代码，得到以下结果 -</p> 
 <pre><code class="lang-shell">   2     Lee  32   HongKong  3000
0  3  Steven  43   Bay Area  8300
1  4     Ram  38  Hyderabad  3900
</code></pre>
 <br>      
</div></body></html>