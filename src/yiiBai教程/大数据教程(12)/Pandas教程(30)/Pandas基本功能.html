<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Pandas基本功能</h1><div style="width:100%;float:left;" class="article-content">   
 <p>到目前为止，我们了解了三种<em>Pandas</em>数据结构以及如何创建它们。接下来将主要关注数据帧(DataFrame)对象，因为它在实时数据处理中非常重要，并且还讨论其他数据结构。</p> 
 <h2 id="h2-u7CFBu5217u57FAu672Cu529Fu80FD"><a name="系列基本功能" class="reference-link"></a><span class="header-link octicon octicon-link"></span>系列基本功能</h2>
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>属性或方法</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td><code>axes</code></td> 
    <td>返回行轴标签列表。</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td><code>dtype</code></td> 
    <td>返回对象的数据类型(<code>dtype</code>)。</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td><code>empty</code></td> 
    <td>如果系列为空，则返回<code>True</code>。</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td><code>ndim</code></td> 
    <td>返回底层数据的维数，默认定义：<code>1</code>。</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td><code>size</code></td> 
    <td>返回基础数据中的元素数。</td> 
   </tr> 
   <tr> 
    <td>6</td> 
    <td><code>values</code></td> 
    <td>将系列作为<code>ndarray</code>返回。</td> 
   </tr> 
   <tr> 
    <td>7</td> 
    <td><code>head()</code></td> 
    <td>返回前<code>n</code>行。</td> 
   </tr> 
   <tr> 
    <td>8</td> 
    <td><code>tail()</code></td> 
    <td>返回最后<code>n</code>行。</td> 
   </tr> 
  </tbody> 
 </table> 
 <p>现在创建一个系列并演示如何使用上面所有列出的属性操作。</p> 
 <p><strong>示例</strong></p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a series with 100 random numbers
s = pd.Series(np.random.randn(4))
print s
</code></pre> 
 <p>执行上面示例代码，得到以下输出结果 - </p> 
 <pre><code class="lang-python">0   0.967853
1  -0.148368
2  -1.395906
3  -1.758394
dtype: float64
</code></pre> 
 <p><strong>axes示例</strong></p> 
 <p>返回系列的标签列表。参考以下示例代码 - </p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a series with 100 random numbers
s = pd.Series(np.random.randn(4))
print ("The axes are:")
print s.axes
</code></pre> 
 <p>执行上面示例代码，得到以下输出结果 - </p> 
 <pre><code class="lang-python">The axes are:
[RangeIndex(start=0, stop=4, step=1)]
</code></pre> 
 <p>上述结果是从<code>0</code>到<code>5</code>的值列表的紧凑格式，即：<code>[0,1,2,3,4]</code>。</p> 
 <p><strong>empty示例</strong></p> 
 <p>返回布尔值，表示对象是否为空。返回<code>True</code>则表示对象为空。</p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a series with 100 random numbers
s = pd.Series(np.random.randn(4))
print ("Is the Object empty?")
print s.empty
</code></pre> 
 <p>执行上面示例代码，得到以下输出结果 - </p> 
 <pre><code class="lang-python">Is the Object empty?
False
</code></pre> 
 <p><strong>ndim示例</strong></p> 
 <p>返回对象的维数。根据定义，一个系列是一个<code>1D</code>数据结构，参考以下示例代码 - </p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a series with 4 random numbers
s = pd.Series(np.random.randn(4))
print s

print ("The dimensions of the object:")
print s.ndim
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">0   0.175898
1   0.166197
2  -0.609712
3  -1.377000
dtype: float64

The dimensions of the object:
1
</code></pre> 
 <p><strong>size示例</strong></p> 
 <p>返回系列的大小(长度)。参考以下示例代码 - </p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a series with 4 random numbers
s = pd.Series(np.random.randn(2))
print s
print ("The size of the object:")
print s.size
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">0   3.078058
1  -1.207803
dtype: float64

The size of the object:
2
</code></pre> 
 <p><strong>values示例</strong></p> 
 <p>以数组形式返回系列中的实际数据值。</p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a series with 4 random numbers
s = pd.Series(np.random.randn(4))
print s

print ("The actual data series is:")
print s.values
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">0   1.787373
1  -0.605159
2   0.180477
3  -0.140922
dtype: float64

The actual data series is:
[ 1.78737302 -0.60515881 0.18047664 -0.1409218 ]
</code></pre> 
 <p><strong>head()和tail()方法示例</strong></p> 
 <p>要查看Series或DataFrame对象的小样本，请使用<code>head()</code>和<code>tail()</code>方法。</p> 
 <p><code>head()</code>返回前<code>n</code>行(观察索引值)。要显示的元素的默认数量为<code>5</code>，但可以传递自定义这个数字值。</p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a series with 4 random numbers
s = pd.Series(np.random.randn(4))
print ("The original series is:")
print s

print ("The first two rows of the data series:")
print s.head(2)
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">The original series is:
0   0.720876
1  -0.765898
2   0.479221
3  -0.139547
dtype: float64

The first two rows of the data series:
0   0.720876
1  -0.765898
dtype: float64
</code></pre> 
 <p><code>tail()</code>返回最后<code>n</code>行(观察索引值)。 要显示的元素的默认数量为<code>5</code>，但可以传递自定义数字值。参考以下示例代码 - </p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a series with 4 random numbers
s = pd.Series(np.random.randn(4))
print ("The original series is:")
print s

print ("The last two rows of the data series:")
print s.tail(2)
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">The original series is:
0 -0.655091
1 -0.881407
2 -0.608592
3 -2.341413
dtype: float64

The last two rows of the data series:
2 -0.608592
3 -2.341413
dtype: float64
</code></pre> 
 <h2 id="h2-dataframe-"><a name="DataFrame基本功能" class="reference-link"></a><span class="header-link octicon octicon-link"></span>DataFrame基本功能</h2>
 <p>下面来看看数据帧(DataFrame)的基本功能有哪些？下表列出了DataFrame基本功能的重要属性或方法。</p> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>属性或方法</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td><code>T</code></td> 
    <td>转置行和列。</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td><code>axes</code></td> 
    <td>返回一个列，行轴标签和列轴标签作为唯一的成员。</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td><code>dtypes</code></td> 
    <td>返回此对象中的数据类型(<code>dtypes</code>)。</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td><code>empty</code></td> 
    <td>如果<code>NDFrame</code>完全为空[无项目]，则返回为<code>True</code>; 如果任何轴的长度为<code>0</code>。</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td><code>ndim</code></td> 
    <td>轴/数组维度大小。</td> 
   </tr> 
   <tr> 
    <td>6</td> 
    <td><code>shape</code></td> 
    <td>返回表示<code>DataFrame</code>的维度的元组。</td> 
   </tr> 
   <tr> 
    <td>7</td> 
    <td><code>size</code></td> 
    <td><code>NDFrame</code>中的元素数。</td> 
   </tr> 
   <tr> 
    <td>8</td> 
    <td><code>values</code></td> 
    <td>NDFrame的Numpy表示。</td> 
   </tr> 
   <tr> 
    <td>9</td> 
    <td><code>head()</code></td> 
    <td>返回开头前<code>n</code>行。</td> 
   </tr> 
   <tr> 
    <td>10</td> 
    <td><code>tail()</code></td> 
    <td>返回最后<code>n</code>行。</td> 
   </tr> 
  </tbody> 
 </table> 
 <p>下面来看看如何创建一个DataFrame并使用上述属性和方法。</p> 
 <p><strong>示例</strong></p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a Dictionary of series
d = {'Name':pd.Series(['Tom','James','Ricky','Vin','Steve','Minsu','Jack']),
   'Age':pd.Series([25,26,25,23,30,29,23]),
   'Rating':pd.Series([4.23,3.24,3.98,2.56,3.20,4.6,3.8])}

#Create a DataFrame
df = pd.DataFrame(d)
print ("Our data series is:")
print df
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">Our data series is:
    Age   Name    Rating
0   25    Tom     4.23
1   26    James   3.24
2   25    Ricky   3.98
3   23    Vin     2.56
4   30    Steve   3.20
5   29    Minsu   4.60
6   23    Jack    3.80
</code></pre> 
 <p><strong>T(转置)示例</strong></p> 
 <p>返回<code>DataFrame</code>的转置。行和列将交换。参考以下示例代码 - </p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

# Create a Dictionary of series
d = {'Name':pd.Series(['Tom','James','Ricky','Vin','Steve','Minsu','Jack']),
   'Age':pd.Series([25,26,25,23,30,29,23]),
   'Rating':pd.Series([4.23,3.24,3.98,2.56,3.20,4.6,3.8])}

# Create a DataFrame
df = pd.DataFrame(d)
print ("The transpose of the data series is:")
print df.T
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">The transpose of the data series is:
         0     1       2      3      4      5       6
Age      25    26      25     23     30     29      23
Name     Tom   James   Ricky  Vin    Steve  Minsu   Jack
Rating   4.23  3.24    3.98   2.56   3.2    4.6     3.8
</code></pre> 
 <p><strong>axes示例</strong></p> 
 <p>返回行轴标签和列轴标签列表。参考以下示例代码 - </p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a Dictionary of series
d = {'Name':pd.Series(['Tom','James','Ricky','Vin','Steve','Minsu','Jack']),
   'Age':pd.Series([25,26,25,23,30,29,23]),
   'Rating':pd.Series([4.23,3.24,3.98,2.56,3.20,4.6,3.8])}

#Create a DataFrame
df = pd.DataFrame(d)
print ("Row axis labels and column axis labels are:")
print df.axes
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">Row axis labels and column axis labels are:

[RangeIndex(start=0, stop=7, step=1), Index([u'Age', u'Name', u'Rating'],
dtype='object')]
</code></pre> 
 <p><strong>dtypes示例</strong></p> 
 <p>返回每列的数据类型。参考以下示例代码 - </p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a Dictionary of series
d = {'Name':pd.Series(['Tom','James','Ricky','Vin','Steve','Minsu','Jack']),
   'Age':pd.Series([25,26,25,23,30,29,23]),
   'Rating':pd.Series([4.23,3.24,3.98,2.56,3.20,4.6,3.8])}

#Create a DataFrame
df = pd.DataFrame(d)
print ("The data types of each column are:")
print df.dtypes
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">The data types of each column are:
Age     int64
Name    object
Rating  float64
dtype: object
</code></pre> 
 <p><strong>empty示例</strong></p> 
 <p>返回布尔值，表示对象是否为空; 返回<code>True</code>表示对象为空。</p>   
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a Dictionary of series
d = {'Name':pd.Series(['Tom','James','Ricky','Vin','Steve','Minsu','Jack']),
   'Age':pd.Series([25,26,25,23,30,29,23]),
   'Rating':pd.Series([4.23,3.24,3.98,2.56,3.20,4.6,3.8])}

#Create a DataFrame
df = pd.DataFrame(d)
print ("Is the object empty?")
print df.empty
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">Is the object empty?
False
</code></pre> 
 <p><strong>ndim示例</strong></p> 
 <p>返回对象的维数。根据定义，DataFrame是一个<code>2D</code>对象。参考以下示例代码 - </p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a Dictionary of series
d = {'Name':pd.Series(['Tom','James','Ricky','Vin','Steve','Minsu','Jack']),
   'Age':pd.Series([25,26,25,23,30,29,23]),
   'Rating':pd.Series([4.23,3.24,3.98,2.56,3.20,4.6,3.8])}

#Create a DataFrame
df = pd.DataFrame(d)
print ("Our object is:")
print df
print ("The dimension of the object is:")
print df.ndim
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">Our object is:
      Age    Name     Rating
0     25     Tom      4.23
1     26     James    3.24
2     25     Ricky    3.98
3     23     Vin      2.56
4     30     Steve    3.20
5     29     Minsu    4.60
6     23     Jack     3.80

The dimension of the object is:
2
</code></pre> 
 <p><strong>shape示例</strong></p> 
 <p>返回表示<code>DataFrame</code>的维度的元组。 元组<code>(a，b)</code>，其中<code>a</code>表示行数，<code>b</code>表示列数。</p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a Dictionary of series
d = {'Name':pd.Series(['Tom','James','Ricky','Vin','Steve','Minsu','Jack']),
   'Age':pd.Series([25,26,25,23,30,29,23]),
   'Rating':pd.Series([4.23,3.24,3.98,2.56,3.20,4.6,3.8])}

#Create a DataFrame
df = pd.DataFrame(d)
print ("Our object is:")
print df
print ("The shape of the object is:")
print df.shape
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">Our object is:
   Age   Name    Rating
0  25    Tom     4.23
1  26    James   3.24
2  25    Ricky   3.98
3  23    Vin     2.56
4  30    Steve   3.20
5  29    Minsu   4.60
6  23    Jack    3.80

The shape of the object is:
(7, 3)
</code></pre> 
 <p><strong>size示例</strong></p> 
 <p>返回DataFrame中的元素数。参考以下示例代码 - </p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a Dictionary of series
d = {'Name':pd.Series(['Tom','James','Ricky','Vin','Steve','Minsu','Jack']),
   'Age':pd.Series([25,26,25,23,30,29,23]),
   'Rating':pd.Series([4.23,3.24,3.98,2.56,3.20,4.6,3.8])}

#Create a DataFrame
df = pd.DataFrame(d)
print ("Our object is:")
print df
print ("The total number of elements in our object is:")
print df.size
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">Our object is:
    Age   Name    Rating
0   25    Tom     4.23
1   26    James   3.24
2   25    Ricky   3.98
3   23    Vin     2.56
4   30    Steve   3.20
5   29    Minsu   4.60
6   23    Jack    3.80

The total number of elements in our object is:
21
</code></pre> 
 <p><strong>values示例</strong></p> 
 <p>将<code>DataFrame</code>中的实际数据作为<code>NDarray</code>返回。参考以下示例代码 - </p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a Dictionary of series
d = {'Name':pd.Series(['Tom','James','Ricky','Vin','Steve','Minsu','Jack']),
   'Age':pd.Series([25,26,25,23,30,29,23]),
   'Rating':pd.Series([4.23,3.24,3.98,2.56,3.20,4.6,3.8])}

#Create a DataFrame
df = pd.DataFrame(d)
print ("Our object is:")
print df
print ("The actual data in our data frame is:")
print df.values
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">Our object is:
    Age   Name    Rating
0   25    Tom     4.23
1   26    James   3.24
2   25    Ricky   3.98
3   23    Vin     2.56
4   30    Steve   3.20
5   29    Minsu   4.60
6   23    Jack    3.80
The actual data in our data frame is:
[[25 'Tom' 4.23]
[26 'James' 3.24]
[25 'Ricky' 3.98]
[23 'Vin' 2.56]
[30 'Steve' 3.2]
[29 'Minsu' 4.6]
[23 'Jack' 3.8]]
</code></pre> 
 <p><strong>head()和tail()示例</strong></p> 
 <p>要查看DataFrame对象的小样本，可使用<code>head()</code>和<code>tail()</code>方法。<code>head()</code>返回前<code>n</code>行(观察索引值)。显示元素的默认数量为<code>5</code>，但可以传递自定义数字值。参考以下示例代码 - </p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a Dictionary of series
d = {'Name':pd.Series(['Tom','James','Ricky','Vin','Steve','Minsu','Jack']),
   'Age':pd.Series([25,26,25,23,30,29,23]),
   'Rating':pd.Series([4.23,3.24,3.98,2.56,3.20,4.6,3.8])}

#Create a DataFrame
df = pd.DataFrame(d)
print ("Our data frame is:")
print df
print ("The first two rows of the data frame is:")
print df.head(2)
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">Our data frame is:
    Age   Name    Rating
0   25    Tom     4.23
1   26    James   3.24
2   25    Ricky   3.98
3   23    Vin     2.56
4   30    Steve   3.20
5   29    Minsu   4.60
6   23    Jack    3.80

The first two rows of the data frame is:
   Age   Name   Rating
0  25    Tom    4.23
1  26    James  3.24
</code></pre> 
 <p><code>tail()</code>返回最后<code>n</code>行(观察索引值)。显示元素的默认数量为<code>5</code>，但可以传递自定义数字值。</p> 
 <pre><code class="lang-python">import pandas as pd
import numpy as np

#Create a Dictionary of series
d = {'Name':pd.Series(['Tom','James','Ricky','Vin','Steve','Minsu','Jack']),
   'Age':pd.Series([25,26,25,23,30,29,23]), 
   'Rating':pd.Series([4.23,3.24,3.98,2.56,3.20,4.6,3.8])}

#Create a DataFrame
df = pd.DataFrame(d)
print ("Our data frame is:")
print df
print ("The last two rows of the data frame is:")
print df.tail(2)
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">Our data frame is:
    Age   Name    Rating
0   25    Tom     4.23
1   26    James   3.24
2   25    Ricky   3.98
3   23    Vin     2.56
4   30    Steve   3.20
5   29    Minsu   4.60
6   23    Jack    3.80

The last two rows of the data frame is:
    Age   Name    Rating
5   29    Minsu    4.6
6   23    Jack     3.8
</code></pre>
 <br>      
</div></body></html>