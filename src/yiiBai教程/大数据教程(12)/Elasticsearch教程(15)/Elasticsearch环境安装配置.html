<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Elasticsearch环境安装配置</h1><div style="width:100%;float:left;" class="article-content">   
 <p>安装Elasticsearch的步骤如下 -</p> 
 <p><strong>第1步</strong> - 查看安装在计算机上的java的最低版本，它要求<strong>java 7</strong>或以上或最新的版本。可以通过执行以下操作进行检查 -</p> 
 <p>在Windows操作系统(OS)(使用命令提示符) -</p> 
 <pre><code class="lang-bash">java -version
</code></pre> 
 <p>在UNIX/Linux操作系统(使用终端) -</p> 
 <pre><code class="lang-bash">$ echo $JAVA_HOME
</code></pre> 
 <p><strong>第2步</strong> - 从 <a target="_blank" href="www.elastic.co" title="www.elastic.co">www.elastic.co</a> 下载最新的 Elasticsearch，注意选择对应版本 - </p> 
 <ul> 
  <li>对于Windows操作系统，请下载ZIP文件。</li>
  <li>对于UNIX操作系统，请下载TAR文件。</li>
  <li>对于Debian操作系统，请下载DEB文件。</li>
  <li>对于Red Hat和其他Linux发行版，请下载RPN文件。</li>
  <li>APT和Yum实用程序也可用于在许多Linux发行版中用来安装Elasticsearch。</li>
 </ul> 
 <p><strong>第3步</strong> - Elasticsearch的安装过程非常容易，下面介绍在不同的操作系统如何安装 -</p> 
 <ul> 
  <li><strong>Windows操作系统</strong> − 解压缩zip包，并安装Elasticsearch。</li>
  <li><strong>UNIX操作系统</strong> - 在任何位置提取tar文件，并安装Elasticsearch。<pre><code class="lang-bash">$tar –xvf elasticsearch-5.2.0.tar.gz
</code></pre> </li>
  <li><p><strong>使用APT实用程序的Linux操作系统</strong> -<br>下载并安装公共签名密钥 -</p> <pre><code class="lang-bash">$ wget -qO - http://packages.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add -
</code></pre> <p>保存存储库定义 -</p> <pre><code class="lang-bash">$ echo "deb http://packages.elastic.co/elasticsearch/2.x/debian stable main" | sudo tee -a /etc/apt/sources.list.d/elasticsearch-2.x.list
</code></pre> <p>运行更新 -</p> <pre><code class="lang-bash">$ sudo apt-get update
</code></pre> <p>现在就可以使用以下命令来安装了 -</p> <pre><code class="lang-bash">$ sudo apt-get install elasticsearch
</code></pre> </li>
  <li><p><strong>使用YUM实用程序的Debian Linux操作系统</strong> -<br>下载并安装公共签名密钥 -</p> <pre><code class="lang-bash">$ rpm --import http://packages.elastic.co/GPG-KEY-elasticsearch
</code></pre> <p>在“<code>/etc/yum.repos.d/</code>”目录中用<code>.repo</code>作为后缀在文件中添加以下文本。 例如，在<code>elasticsearch.repo</code>文件中，添加以下文本 - </p> <pre><code class="lang-bash">[elasticsearch-5.x]
name = Elasticsearch repository for5.x packages
baseurl = http://packages.elastic.co/elasticsearch/5.x/centos
gpgcheck = 1
gpgkey = http://packages.elastic.co/GPG-KEY-elasticsearch
enabled = 1
</code></pre> <p>现在可以使用以下命令安装Elasticsearch：</p> <pre><code class="lang-bash">$ yum install elasticsearch
</code></pre> <p><strong>第4步</strong> - 进入到Elasticsearch主目录和<code>bin</code>文件夹。在Windows系统下可运行<code>elasticsearch.bat</code>文件，或者在UNIX rum Elasticsearch文件的情况下，可以使用命令提示符和通过终端执行相同操作。</p> </li>
 </ul> 
 <p>在Windows中 -</p> 
 <pre><code class="lang-bash">&gt; cd elasticsearch-5.1.0/bin
&gt; elasticsearch
</code></pre> 
 <p>在Linux中 -</p> 
 <pre><code class="lang-shell">$ cd elasticsearch-5.1.0/bin
$ ./elasticsearch
</code></pre> 
 <blockquote> 
  <p>注意 - 在Windows系统中，可能会收到错误，指出未设置<code>JAVA_HOME</code>，请将环境变量设置为“<code>C:\Program Files\Java\jre1.8.0_65</code>”或设置实际安装java的位置。</p> 
 </blockquote> 
 <p><strong>第5步</strong> - Elasticsearch Web界面的默认端口是<code>9200</code>，或者可以通过更改<code>bin</code>目录中的<code>elasticsearch.yml</code>文件中的<code>http.port</code>字段值来更改。可以通过浏览<code>http：// localhost:9200</code>来检查服务器是否已启动并正在运行。如果没有问题，它将返回一个JSON对象，其中包含有关安装的Elasticsearch信息有以下方式 -</p>   
 <pre><code class="lang-json">{
   "name" : "Brain-Child",
   "cluster_name" : "elasticsearch", "version" : {
      "number" : "5.1.0",
      "build_hash" : "72cd1f1a3eee09505e036106146dc1949dc5dc87",
      "build_timestamp" : "2015-11-18T22:40:03Z",
      "build_snapshot" : false,
      "lucene_version" : "5.3.1"
   },
   "tagline" : "You Know, for Search"
}
</code></pre> 
 <p><strong>第6步</strong> - 可以从 www.telerik.com 安装 fiddler2 作为 Elasticsearch 的前端。</p> 
 <ul> 
  <li>在<code>fiddler2</code>的配置窗口中，您可以点击<code>Elasticsearch</code>的地址添加索引，如果需要，那么类型/映射也使用HTTP POST方法，例如 -
   <ul> 
    <li>地址栏 - <a target="_blank" href="http://localhost:9200/schools/school">http://localhost:9200/schools/school</a></li>
    <li>请求正文 - 可添加JSON对象，这将获得索引存储。</li>
   </ul> </li>
  <li><p>可以使用相同方式来搜索任何东西，只需在URL的结尾处添加“<code>_search</code>”关键字，并在请求正文中发送一个查询，例如 -</p> 
   <ul> 
    <li>地址栏 - POST <a target="_blank" href="http://localhost:9200/city/schools/_search">http://localhost:9200/city/schools/_search</a></li>
    <li>请求正文 - <code>{ "query":{ "match_all":{} } }</code><br>此查询将返回该索引中属于该特定类型的所有内容。</li>
   </ul> </li>
  <li><p>可以通过将相同的URL放在地址栏中，并使用HTTP DELETE方法进行匹配来删除特定的索引或类型。</p> </li>
 </ul>
 <br>      
</div></body></html>