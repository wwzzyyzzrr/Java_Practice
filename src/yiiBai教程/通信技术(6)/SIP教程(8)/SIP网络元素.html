<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">SIP网络元素</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 还有一些实体，帮助SIP创建网络。在SIP内每个网络元件被标识SIP URI(统一资源标识符)，它是像一个地址或标识。下面是网络元素：</p> 
 <ul> 
  <li> 用户代理</li> 
  <li> 代理服务器</li> 
  <li> 注册服务器</li> 
  <li> 重定向服务器</li> 
  <li> 位置服务器</li> 
 </ul> 
 <h2> 用户代理</h2> 
 <p> 它是端点和SIP网络中最重要的网络元件中的一个。端点可以启动，修改或终止会话。用户代理的SIP网络的最智能设备或网络元件。它可能是一个软件电话，移动电话或平板电脑。</p> 
 <p> 用户代理在逻辑上分成两部分：</p> 
 <ul> 
  <li> <p> <strong>用户代理客户端（UAC）</strong>&nbsp;- 发送请求和接收响应的实体。</p> </li> 
  <li> <p> <strong>用户代理服务器（UAS）</strong>- 接收一个请求，并发送应答的实体。</p> </li> 
 </ul> 
 <p> SIP是基于客户端 - 服务器架构，其中来电者的电话作为其发起呼叫，被叫方的电话作为其响应呼叫服务器的客户端。</p> 
 <h2> 代理服务器</h2> 
 <p> 它是采用一个请求从用户代理，并将其转发给另一个用户的网络元件。</p> 
 <ul> 
  <li> <p> 基本上是一个代理服务器的作用是很象一个路由器。</p> </li> 
  <li> <p> 它具有一定的智能，以了解一个SIP请求，并将其推进，在URI的帮助下推送。</p> </li> 
  <li> <p> 代理服务器位于两个用户代理之间。</p> </li> 
  <li> <p> 有可能是在源和目的地之间，最大能有70个代理服务器。</p> </li> 
 </ul> 
 <p> 有两种类型的代理服务器：</p> 
 <ul> 
  <li> <p> <strong>无状态代理服务器</strong>&nbsp;- 它简单地转发接收到的消息。这种类型的服务器不存储呼叫或事务处理信息。</p> </li> 
  <li> <p> <strong>状态代理服务器</strong>- 这种类型的代理服务器的跟踪每个请求和响应的接收，并可以根据需要在将来使用。它可重发的请求时，如果没有从在时间上响应另一侧。</p> </li> 
 </ul> 
 <h2> 注册服务器</h2> 
 <p> 在注册服务器接受来自用户代理的注册请求。它可以帮助用户在自己的网络中进行身份验证。它存储的URI和用户数据库的位置在同一域内帮助其他SIP服务器。</p> 
 <p> 看看下面的例子，显示SIP注册的过程。</p> 
 <img alt="SIP Registration Example" src="/uploads/allimg/150214/0UF55594-0.jpg" style="box-sizing: border-box; vertical-align: middle; max-width: 100%; display: block; margin-left: auto; margin-right: auto; padding-bottom: 4px; color: rgb(49, 49, 49);  font-size: 14px; line-height: 22px;"> 
 <p> 在这里，主叫方想要向TMC域名注册。所以它发送一个REGISTER请求TMC的注册服务器和服务器返回200 OK响应，因为它授权客户端。</p> 
 <h2> 重定向服务器</h2> 
 <p> 重定向服务器接收请求，并期待在由注册商创建的位置数据库请求的接收人。</p> 
 <p> 重定向服务器使用数据库获取的位置信息，并响应使用3xx（重定向响应）给用户。我们将在本教程后面讨论响应代码。</p> 
 <h2> 位置服务器</h2>   
 <p> 定位服务器提供了对来电者的可能位置的重定向和代理服务器的信息。</p> 
 <p> 只有一个代理服务器或重定向服务器可以联系一个位置服务器。</p> 
 <p> 下图描述了每个网络元素在建立会话所扮演的角色。</p> 
 <img alt="Location Server" src="/uploads/allimg/150214/0UF54507-1.jpg" style="box-sizing: border-box; vertical-align: middle; max-width: 100%; display: block; margin-left: auto; margin-right: auto; padding-bottom: 4px; color: rgb(49, 49, 49);  font-size: 14px; line-height: 22px;"> 
 <h2> SIP系统架构</h2> 
 <p> SIP被构造为分层协议，这意味着它的行为是在一组相当独立的处理阶段来描述与每个阶段之间只有松散耦合。</p> 
 <img alt="System Architecture" src="/uploads/allimg/150214/0UF5HF-2.jpg" style="box-sizing: border-box; vertical-align: middle; max-width: 100%; display: block; margin-left: auto; margin-right: auto; padding-bottom: 4px; color: rgb(49, 49, 49);  font-size: 14px; line-height: 22px;"> 
 <ul> 
  <li> <p> SIP的最下层是它的语法和编码。它的编码是用扩充Backus-Naur 范式语法（BNF）指定。</p> </li> 
  <li> <p> 在第二个层次是传送层。它定义了一个客户端发送请求和接收响应以及一个服务器如何接收请求和发送响应通过网络。所有的SIP元素包含一个传输层。</p> </li> 
  <li> <p> 接下来是处理层。事务是由一个客户端的事务（使用传输层）发送一个请求到服务器事务，连同所有响应从服务器事务回客户端发送的请求。通过一系列的交易，一个用户代理客户端（UAC）完成任何任务发生。无状态代理不包含事务层。</p> </li> 
  <li> <p> 事务层以上的层称为事务用户。每个SIP实体，除了无状态代理，都是一个事务用户。</p> </li> 
 </ul> 
 <br>      
</div></body></html>