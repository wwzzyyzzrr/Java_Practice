<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">SIP基本呼叫流程</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 下图显示了一个SIP会话的基本呼叫流程。</p> 
 <img alt="SIP Call Flow" src="/uploads/allimg/150214/0J63B2M-0.jpg" style="box-sizing: border-box; vertical-align: middle; max-width: 100%; display: block; margin-left: auto; margin-right: auto; padding-bottom: 4px; color: rgb(49, 49, 49);  font-size: 14px; line-height: 22px;"> 
 <p> 下面给出的是上述呼叫流程的一步一步的解释：</p> 
 <ul> 
  <li> <p> 被发送到代理服务器的INVITE请求负责发起会话。</p> </li> 
  <li> <p> 代理服务器发送100立即给调用者(Alice)试图响应停止重传的INVITE请求。</p> </li> 
  <li> <p> 代理服务器搜索Bob在位置服务器的地址。得到的地址后，将其转发INVITE请求进一步。</p> </li> 
  <li> <p> 此后，180 Ringing(临时响应)由Bob产生被返回给Alice。</p> </li> 
  <li> <p> 200 OK响应很快产生后，Bob拿起手机来。</p> </li> 
  <li> <p> Bob从Alice收到ACK，当它得到200 OK。</p> </li> 
  <li> <p> 同时，该会话被建立和RTP分组(对话)开始从两端流出。</p> </li> 
  <li> <p> 谈话结束后，任何参与者(甲和乙)可以发送一个BYE请求终止会话。</p> </li> 
  <li> <p> BYE达到直接绕过代理服务器从Alice给Bob。</p> </li> 
  <li> <p> 最后Bob发送200 OK响应确认BYE并且会话被终止。</p> </li> 
  <li> <p> 另外，在上述的基本呼叫流程，有3个合约(标记为1，2，3)提供。</p> </li> 
 </ul> 
 <p> 完整的呼叫(从INVITE到200行)被称为一个对话。</p> 
 <h2> SIP梯形</h2> 
 <p> 如何做一个代理的帮助与其他连接一个用户？让我们找出使用以下图的帮助。</p> 
 <img alt="SIP Trapezoid" src="/uploads/allimg/150214/0J63A529-1.jpg" style="box-sizing: border-box; vertical-align: middle; max-width: 100%; display: block; margin-left: auto; margin-right: auto; padding-bottom: 4px; color: rgb(49, 49, 49);  font-size: 14px; line-height: 22px;"> 
 <p> 图中示出的拓扑结构称为SIP的梯形。该过程发生如下：</p> 
 <ul> 
  <li> <p> 当主叫方发起呼叫，INVITE消息被发送到代理服务器。一旦接收到INVITE时，代理服务器将尝试解决该被叫方的地址到DNS服务器。</p> </li> 
  <li> <p> 获取下一个航线后，呼叫者的代理服务器（Proxy1，也称为呼出代理服务器）转发INVITE请求到被叫方的代理服务器充当入站代理服务器（Proxy2）被叫方。</p> </li> 
  <li> <p> 入站代理服务器接触位置服务器，以获取有关在用户注册的被叫方的地址信息。</p> </li> 
  <li> <p> 从位置服务器获得信息后，将其转发该呼叫到其目的地。</p> </li> 
  <li> <p> 一旦用户代理了解他们的地址，他们可以绕过通话，即通过对话直接。</p> </li> 
 </ul> 
 <br>      
</div></body></html>