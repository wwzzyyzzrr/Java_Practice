<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">WebGL Context上下文</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    要编写一个WebGL的应用程序，第一步是让WebGL渲染上下文 - Context 对象。这个对象与 WebGL 绘制缓冲区进行交互，可以调用所有WebGL的方法。执行以下操作来获取WebGL的上下文-
  </div> 
 </div> 
 <div> 
  <ul> 
   <li> 
    <div>
      创建HTML5&nbsp;canvas
    </div> </li> 
   <li> 
    <div>
      获取画布&nbsp;canvas 的 ID
    </div> </li> 
   <li> 
    <div>
      获取WebGL
    </div> </li> 
  </ul> 
  <h2> 创建HTML5&nbsp;canvas元素</h2> 
  <div>
    我们知道，建立一个HTML5&nbsp;canvas 元素&nbsp;-
  </div> 
  <ul> 
   <li> 
    <div>
      在HTML5主体内写入canvas语句声明
    </div> </li> 
   <li> 
    <div>
      给定&nbsp;canvas&nbsp;一个ID
    </div> </li> 
   <li> 使用高度和宽度(height &amp; width)属性(可选)更改画布尺寸</li> 
  </ul> 
  <div>
    一个例子在这里应该更清楚。
  </div> 
  <h3> 示例</h3> 
  <div>
    下面的例子说明如何创建一个 canvas 元素。创建了一个边框使用 CSS 可视性画布的尺寸(500×500)。复制并粘贴到下面的代码到&nbsp;my_canvas.html&nbsp;文件。
  </div> 
  <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; color: rgb(49, 49, 49); font-size: 14px;">
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Canvas示例  -www.yiibai.com&lt;/title
      &lt;style&gt;
         #mycanvas{border:1px solid blue;}
      &lt;/style&gt;
   &lt;/head&gt;
	
   &lt;body&gt;
      &lt;canvas id = "mycanvas" width = "300" height = "300"&gt;&lt;/canvas&gt;
   &lt;/body&gt;
	
&lt;/html&gt;</pre> 
  <div>
    这将产生以下结果&nbsp;-
   <br> 
   <img alt="" src="/uploads/tutorial/20151220/1-151220205136404.png" style="width: 589px; height: 432px;">
   <br> 
   <img data-attr-org-img-file="file:///E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/20d5d106a07143feb5c1b8c7befdf59b/clipboard.png" data-attr-org-src-id="C5AA5A392249400AA3B5ABCDDDB1D8A0" data-media-type="image" src="file:///E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/20d5d106a07143feb5c1b8c7befdf59b/clipboard.png">
  </div> 
  <div>
    获取Canvas的ID
  </div> 
  <div>
    Canvas&nbsp;ID是通过调用DOM(文档对象模型)的getElementById()方法获得的。这个方法接受一个字符串值作为参数，所以我们传递了当前&nbsp;Canvas&nbsp;的名字。
  </div> 
  <div>
    例如，如果&nbsp;canvas&nbsp;名称是my_canvas，则canvas&nbsp;ID被得到&nbsp;-&nbsp;如图如下
  </div> 
  <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; color: rgb(49, 49, 49); font-size: 14px; background-color: rgb(241, 241, 241);">
var canvas = document.getElementById('my_Canvas');</pre> 
  <h2> 获取WebGL的绘图上下文</h2> 
  <div>
    为了得到 WebGLRenderingContext 对象(或图形的WebGL上下文对象或只在WebGL的情况下)，调用当前 HTMLCanvasElement 的getContext()方法。getContext()的语法如下&nbsp;-
  </div> 
  <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; color: rgb(49, 49, 49); font-size: 14px; background-color: rgb(241, 241, 241);">
canvas.getContext(contextType, contextAttributes);</pre> 
  <div>
    通过&nbsp;WebGL字符串或experimental-webgl&nbsp;作为&nbsp;contentType。contextAttributes参数是可选的。&nbsp;(虽然在进行这一步，请确保您的浏览器实现了WebGL 1.0版本(OpenGL&nbsp;ES&nbsp;2.0))。
  </div> 
  <div>
    下面的代码片段展示了如何获取WebGL的渲染上下文。在这里，gl是参考变量所获得的上下文对象。
  </div> 
  <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; color: rgb(49, 49, 49); font-size: 14px; background-color: rgb(241, 241, 241);">
var canvas = document.getElementById('my_Canvas');
var gl = canvas.getContext('experimental-webgl');</pre> 
  <h2> WebGLContextAttributes</h2> 
  <div>
    参数 WebGLContextAttributes 不是强制性的。此参数提供接受布尔值，如下面列出各种选项&nbsp;-
  </div> 
  <table border="1" cellpadding="2" cellspacing="0" style="border-collapse: collapse; margin-top: 10px; margin-bottom: 10px; color: rgb(49, 49, 49); Verdana, Geneva, Tahoma,  Helvetica,  background-color: inherit;"> 
   <tbody style="background-color: inherit;"> 
    <tr style="background-color: inherit;"> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> <b style="background-color: inherit;">Alpha</b></td> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 
      <div style="min-width: 2px; background-color: inherit;">
        如果它的值是&nbsp;true，它提供了一个alpha缓冲区到画布上。默认情况下，它的值是&nbsp;true
      </div> </td> 
    </tr> 
    <tr style="background-color: inherit;"> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> <b style="background-color: inherit;">depth</b></td> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 
      <div style="min-width: 2px; background-color: inherit;">
        如果它的值是true，会得到一个绘图的缓冲区，其中包含至少16位的深度缓冲。默认情况下，它的值是true
      </div> </td> 
    </tr> 
    <tr style="background-color: inherit;"> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> <b style="background-color: inherit;">stencil</b></td> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 
      <div style="min-width: 2px; background-color: inherit;">
        如果它的值是true，会得到一个绘图的缓冲区，其中包含至少8位的模板缓存。默认情况下，它的值是false
      </div> </td> 
    </tr> 
    <tr style="background-color: inherit;"> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> <b style="background-color: inherit;">antialias</b></td> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 
      <div style="min-width: 2px; background-color: inherit;">
        如果它的值是true，会得到一个绘图缓冲区，执行抗锯齿。默认情况下，它的值是true
      </div> </td> 
    </tr> 
    <tr style="background-color: inherit;"> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> <b style="background-color: inherit;">premultipliedAlpha</b></td> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 
      <div style="min-width: 2px; background-color: inherit;">
        如果它的值是true，会得到一个绘图缓冲区，其中包含的颜色与预乘alpha。默认情况下它的值是true
      </div> </td> 
    </tr> 
    <tr style="background-color: inherit;"> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> <b style="background-color: inherit;">preserveDrawingBuffer</b></td> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 
      <div style="min-width: 2px; background-color: inherit;">
        如果它的值是true，缓冲区将不会被清零，直到被清除或由作者改写将保留它们的值。默认情况下，它的值是false
      </div> </td> 
    </tr> 
   </tbody> 
  </table> 
  <div>
    下面的代码片段展示了如何创建一个WebGL的上下文模板缓存，这将不执行抗锯齿。
  </div>   
  <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; color: rgb(49, 49, 49); font-size: 14px; background-color: rgb(241, 241, 241);">
var canvas = document.getElementById('canvas1');
var context = canvas.getContext('webgl', { antialias: false, stencil: true });</pre> 
  <div>
    在创建&nbsp;WebGLRenderingContext&nbsp;的时候，一个绘图缓冲器被创建。上下文对象管理OpenGL&nbsp;状态，并呈现到图形缓冲区。
  </div> 
  <h2> WebGLRenderingContext</h2> 
  <div>
    它是 WebGL 的主要接口。它表示 WebGL 绘图上下文。该接口包含了所有用于在绘图缓冲执行各种任务的方法。此接口的属性给出在下表中。
  </div> 
  <table border="1" cellpadding="2" cellspacing="0" style="border-collapse: collapse; margin-top: 10px; margin-bottom: 10px; color: rgb(49, 49, 49); Verdana, Geneva, Tahoma,  Helvetica,  background-color: inherit;"> 
   <tbody style="background-color: inherit;"> 
    <tr style="background-color: inherit;"> 
     <th style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: rgb(238, 238, 238);"> S.No.</th> 
     <th style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: rgb(238, 238, 238);"> 
      <div style="background-color: inherit;">
        属性和说明
      </div> </th> 
    </tr> 
    <tr style="background-color: inherit;"> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 1</td> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> <p style="margin: 5px 0px; background-color: inherit; color: rgb(0, 0, 0); text-align: justify; font-size: 15px !important;"> <b style="background-color: inherit;">Canvas</b></p> 
      <div style="min-width: 2px; background-color: inherit;">
        这是一个对创建此&nbsp;canvas&nbsp;元素的上下文
      </div> </td> 
    </tr> 
    <tr style="background-color: inherit;"> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 2</td> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> <p style="margin: 5px 0px; background-color: inherit; color: rgb(0, 0, 0); text-align: justify; font-size: 15px !important;"> <b style="background-color: inherit;">drawingBufferWidth</b></p> 
      <div style="min-width: 2px; background-color: inherit;">
        此属性表示绘图缓冲器的实际宽度。它可以不同于 HTMLCanvasElement 的宽度属性。
      </div> </td> 
    </tr> 
    <tr style="background-color: inherit;"> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 3</td> 
     <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> <p style="margin: 5px 0px; background-color: inherit; color: rgb(0, 0, 0); text-align: justify; font-size: 15px !important;"> <b style="background-color: inherit;">drawingBufferHeight</b></p> 
      <div style="min-width: 2px; background-color: inherit;">
        此属性表示绘图缓冲器的实际高度。它可以不同于 HTMLCanvasElement 的高度属性。
      </div> </td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
 <br> 
 <br>      
</div></body></html>