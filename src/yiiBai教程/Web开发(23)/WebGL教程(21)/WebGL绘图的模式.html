<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">WebGL绘图的模式</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    在前面的章节，我们讨论了如何使用WebGL画一个三角形。除了三角形，WebGL支持其他各种绘图模式。本章介绍了通过WebGL支持的绘图模式。 
  </div> 
 </div> 
 <div> 
  <h2> 
   <div>
     mode参数 
   </div> </h2> 
  <div>
    让我们看看这些方法的语法&nbsp;-&nbsp;drawElements()，并绘制Arrays()。 
  </div> 
  <pre>void drawElements(enum mode, long count, enum type, long offset);

void drawArrays(enum mode, int first, long count);</pre> 
  <div>
    这两种方法接受一个参数:&nbsp;mode。使用此参数，程序员可以选择WebGL的绘图模式。 
  </div> 
  <div>
    通过 WebGL 的所提供的绘图模式列在下表中。 
  </div> 
  <table border="1" cellpadding="2" cellspacing="0" style="font-size:14px;color:#313131;font-family:Verdana, Geneva, Tahoma,  Helvetica, background-color:inherit;"> 
   <tbody> 
    <tr> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> S.No. </th> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> 模式 </th> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> 描述 </th> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> 1 </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> gl.POINTS </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 
      <div style="background-color:inherit;">
        要绘制一系列的点 
      </div> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> 2 </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> gl.LINES </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 
      <div style="background-color:inherit;">
        要绘制了一系列未连接直线段(单独行) 
      </div> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> 3 </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> gl.LINE_STRIP </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 
      <div style="background-color:inherit;">
        要绘制一系列连接的线段 
      </div> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> 4 </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> gl.LINE_LOOP </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 
      <div style="background-color:inherit;">
        要绘制一系列连接的线段。它还连接的第一和最后的顶点，以形成一个环 
      </div> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> 5 </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> gl.TRIANGLES </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 
      <div style="background-color:inherit;">
        要绘制一系列独立的三角形 
      </div> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> 6 </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> gl.TRIANGLE_STRIP </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 
      <div style="background-color:inherit;">
        要绘制了一系列相连的三角形中条状 
      </div> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> 7 </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> gl.TRIANGLE_FAN </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 
      <div style="background-color:inherit;">
        要绘制了一系列相连的三角形共享的第一个顶点的扇形 
      </div> </td> 
    </tr> 
   </tbody> 
  </table> 
  <h2> 
   <div>
     示例&nbsp;-&nbsp;绘制三个平行线 
   </div> </h2> 
  <div>
    下面的示例演示了如何使用 gl.LINES 绘制三条平行线。 
  </div> 
  <pre>&lt;!doctype html&gt;
&lt;html&gt;
   &lt;body&gt;
      &lt;canvas width = "300" height = "300" id = "my_Canvas"&gt;&lt;/canvas&gt;

      &lt;script&gt;

         /*======= Creating a canvas =========*/

         var canvas = document.getElementById('my_Canvas');
         var gl = canvas.getContext('experimental-webgl');


         /*======= Defining and storing the geometry ======*/

         var vertices = [
            -0.7,-0.1,0,
            -0.3,0.6,0,
            -0.3,-0.3,0,
            0.2,0.6,0,
            0.3,-0.3,0,
            0.7,0.6,0 
         ]
          
         // Create an empty buffer object
         var vertex_buffer = gl.createBuffer();

         // Bind appropriate array buffer to it
         gl.bindBuffer(gl.ARRAY_BUFFER, vertex_buffer);
      
         // Pass the vertex data to the buffer
         gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);

         // Unbind the buffer
         gl.bindBuffer(gl.ARRAY_BUFFER, null);

         /*=================== Shaders ====================*/

         // Vertex shader source code
         var vertCode =
            'attribute vec3 coordinates;' +
            'void main(void) {' +
               ' gl_Position = vec4(coordinates, 1.0);' +
            '}';

         // Create a vertex shader object
         var vertShader = gl.createShader(gl.VERTEX_SHADER);

         // Attach vertex shader source code
         gl.shaderSource(vertShader, vertCode);

         // Compile the vertex shader
         gl.compileShader(vertShader);

         // Fragment shader source code
         var fragCode =
            'void main(void) {' +
               'gl_FragColor = vec4(0.0, 0.0, 0.0, 0.1);' +
            '}';

         // Create fragment shader object
         var fragShader = gl.createShader(gl.FRAGMENT_SHADER);

         // Attach fragment shader source code
         gl.shaderSource(fragShader, fragCode);

         // Compile the fragmentt shader
         gl.compileShader(fragShader);

         // Create a shader program object to store
         // the combined shader program
         var shaderProgram = gl.createProgram();

         // Attach a vertex shader
         gl.attachShader(shaderProgram, vertShader);

         // Attach a fragment shader
         gl.attachShader(shaderProgram, fragShader);

         // Link both the programs
         gl.linkProgram(shaderProgram);

         // Use the combined shader program object
         gl.useProgram(shaderProgram);

         /*======= Associating shaders to buffer objects ======*/

         // Bind vertex buffer object
         gl.bindBuffer(gl.ARRAY_BUFFER, vertex_buffer);

         // Get the attribute location
         var coord = gl.getAttribLocation(shaderProgram, "coordinates");

         // Tutorials an attribute to the currently bound VBO
         gl.vertexAttribTutorialser(coord, 3, gl.FLOAT, false, 0, 0);

         // Enable the attribute
         gl.enableVertexAttribArray(coord);

         /*============ Drawing the triangle =============*/

         // Clear the canvas
         gl.clearColor(0.5, 0.5, 0.5, 0.9);

         // Enable the depth test
         gl.enable(gl.DEPTH_TEST);

         // Clear the color and depth buffer
         gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

         // Set the view port
         gl.viewport(0,0,canvas.width,canvas.height);

         // Draw the triangle
         gl.drawArrays(gl.LINES, 0, 6);

         // POINTS, LINE_STRIP, LINE_LOOP, LINES,
         // TRIANGLE_STRIP,TRIANGLE_FAN, TRIANGLES
      
      &lt;/script&gt;
		
   &lt;/body&gt;
&lt;/html&gt;</pre> 
  <div>
    这将产生以下结果&nbsp;-
   <br> 
   <img src="/uploads/tutorial/20151220/1-151220214355c1.png" alt="">
   <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/8a9082d9c806497aab3783d951e0c3da/clipboard.png"> 
  </div> 
  <h2> 
   <div>
     绘图模式 
   </div> </h2> 
  <div>
    另外，在上述程序中，如果替换 drawArrays()改为描画模式中的一个的模式时，它每次将产生不同的输出。 
  </div> 
  <table border="1" cellpadding="2" cellspacing="0" style="font-size:14px;color:#313131;font-family:Verdana, Geneva, Tahoma,  Helvetica, background-color:inherit;"> 
   <tbody> 
    <tr> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> 
      <div style="background-color:inherit;">
        绘图模式 
      </div> </th> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> 输出 </th> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> LINE_STRIP </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/87e18822ba2040c4aa1954cbb3dec039/line_strip.jpeg" alt="Line Strip"> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> LINE_LOOP </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/d5260287aea242bd959b049dcb4ed162/line_loop.jpeg" alt="Line Loop"> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> TRIANGLE_STRIP </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/68521c6d081b4810969a9ee0bddd7f4a/angle_strip.jpeg" alt="Triangle Strip"> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> TRIANGLE_FAN </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/ad44a0b8ef13461f8f3f0475c467c15d/riangle_fan.jpeg" alt="Triangle Fan"> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> TRIANGLES </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/020870e9e1504fc9a061c40cccb73320/triangles.jpeg" alt="Triangles"><br> </td> 
    </tr> 
   </tbody> 
  </table> 
 </div>
 <br>      
</div></body></html>