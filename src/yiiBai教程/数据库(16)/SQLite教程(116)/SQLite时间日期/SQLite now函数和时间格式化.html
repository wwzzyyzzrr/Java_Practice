<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">SQLite now函数和时间格式化</h1><div style="width:100%;float:left;" class="article-content">   
 <p>SQLite “<code>now</code>”实际上并不是一个函数，但是“<code>now</code>”是一个时间字符串参数，用于各种SQLite函数来获取当前的日期和时间。</p> 
 <p><strong>语法：</strong></p> 
 <p>SQLite中<code>now</code>函数有三种类型的语法：</p> 
 <pre><code class="lang-sql">date('now')
</code></pre> 
 <p>或者 - </p> 
 <pre><code class="lang-sql">time('now')
</code></pre> 
 <p>或者 - </p> 
 <pre><code class="lang-sql">strftime(format, 'now')  
-- 其它用法
strftime('%Y-%m-%d','now')  
strftime('%Y-%m-%d %H-%M','now')  
strftime('%Y-%m-%d %H-%M-%S','now')
</code></pre> 
 <p>使用<code>strftime()</code>函数表达当前日期/时间时，是使用第三种语法。 这里的“<code>format</code>”可以是以下任何一个：</p> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>索引</th> 
    <th>解释/描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td><code>%Y</code></td> 
    <td><code>4</code>位数表示年份(0000至9999)</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td><code>%W</code></td> 
    <td>表示一年之中的第几周(00至53)</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td><code>%w</code></td> 
    <td>星期几(<code>0</code>到<code>6</code>，其中<code>0</code>表示星期日)</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td><code>%m</code></td> 
    <td>表示一年之中的第几月(01至12)</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td><code>%d</code></td> 
    <td>表示一个月之中的第几天(00至31)</td> 
   </tr> 
   <tr> 
    <td>6</td> 
    <td><code>%H</code></td> 
    <td>小时 (00 至 24)</td> 
   </tr> 
   <tr> 
    <td>7</td> 
    <td><code>%M</code></td> 
    <td>分钟 (00 至 60)</td> 
   </tr> 
   <tr> 
    <td>8</td> 
    <td><code>%S</code></td> 
    <td>秒(00至59)</td> 
   </tr> 
   <tr> 
    <td>9</td> 
    <td><code>%s</code></td> 
    <td>自<code>1970-01-01</code>以来的秒数</td> 
   </tr> 
   <tr> 
    <td>10</td> 
    <td><code>%f</code></td> 
    <td>小数秒(<code>SS.SSS</code>)</td> 
   </tr> 
   <tr> 
    <td>11</td> 
    <td><code>%j</code></td> 
    <td>一年之中的第几天(001 至 366)</td> 
   </tr> 
   <tr> 
    <td>12</td> 
    <td><code>%J</code></td> 
    <td>儒略日的数字值</td> 
   </tr> 
  </tbody> 
 </table> 
 <p><strong>示例-1：</strong></p> 
 <p>检索当前日期：</p>   
 <pre><code class="lang-sql">SELECT date('now');  
SELECT strftime('%Y-%m-%d','now');
</code></pre> 
 <p>执行上面语句，得到以下结果 - </p> 
 <pre><code class="lang-sql">sqlite&gt; SELECT date('now');
2017-05-24
sqlite&gt; SELECT strftime('%Y-%m-%d','now');
2017-05-24
sqlite&gt;
</code></pre> 
 <p><strong>示例-2：</strong></p> 
 <p>检索当前时间：</p> 
 <pre><code class="lang-sql">SELECT strftime('%Y-%m-%d %H:%M:%S','now');
SELECT time('now'); -- (HH-MM-SS Format)  
SELECT strftime('%H-%M-%S','now'); --  (HH-MM-SS Format)   
SELECT strftime('%H-%M-%f','now'); -- (HH-MM-SS.SSS Format)   
SELECT strftime('%H-%M','now');  --(HH-MM Format)
</code></pre> 
 <p>执行上面语句，得到以下结果 - </p> 
 <pre><code class="lang-sql">sqlite&gt; SELECT strftime('%Y-%m-%d %H:%M:%S','now');
2017-05-24 14:53:55
sqlite&gt; SELECT time('now'); -- (HH-MM-SS Format)
14:53:55
sqlite&gt; SELECT strftime('%H-%M-%S','now'); --  (HH-MM-SS Format)
14-53-55
sqlite&gt; SELECT strftime('%H-%M-%f','now'); -- (HH-MM-SS.SSS Format)
14-53-55.214
sqlite&gt; SELECT strftime('%H-%M','now');  --(HH-MM Format)
14-53
sqlite&gt;
</code></pre>
 <br>      
</div></body></html>