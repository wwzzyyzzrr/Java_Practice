<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">SQLite juliandday()函数</h1><div style="width:100%;float:left;" class="article-content">   
 <p>SQLite <code>julianday()</code>函数应用修饰符，然后将日期作为输入日期后的儒略日(Julian day,JD)返回。</p> 
 <p>儒略日(Julian day，JD)是指由公元前4713年1月1日，协调世界时中午12时开始所经过的天数，多为天文学家采用，用以作为天文学的单一历法，把不同历法的年表统一起来。如果计算相隔若干年的两个日期之间间隔的天数，利用儒略日就比较方便。</p> 
 <p><strong>语法：</strong></p> 
 <pre><code class="lang-sql">julianday(timestring [, modifier1, modifier2, ... modifier_n ] )
</code></pre> 
 <p><strong>示例1：</strong></p> 
 <p>检索当前日期：</p> 
 <pre><code class="lang-sql">SELECT julianday('2017-09-13');  
SELECT julianday('2017-09-13 16:45');  
SELECT julianday('2017-09-13 16:45:30');  
SELECT julianday('now');
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">sqlite&gt; SELECT julianday('2017-09-13');
2458009.5
sqlite&gt; SELECT julianday('2017-09-13 16:45');
2458010.19791667
sqlite&gt; SELECT julianday('2017-09-13 16:45:30');
2458010.19826389
sqlite&gt; SELECT julianday('now');
2457898.09934488
sqlite&gt;
</code></pre> 
 <p><strong>示例2：</strong></p> 
 <p>检索本月的第一天：</p> 
 <pre><code class="lang-sql">SELECT julianday('2017-07-13', 'start of month');  
SELECT julianday('now', 'start of month');  
SELECT julianday('2017-08-15', '-6 days');  
SELECT julianday('now', '-6 days');
</code></pre> 
 <p>执行上面查询语句，得到以下结果 -</p> 
 <pre><code class="lang-shell">sqlite&gt; SELECT julianday('2017-07-13', 'start of month');
2457935.5
sqlite&gt; SELECT julianday('now', 'start of month');
2457874.5
sqlite&gt; SELECT julianday('2017-08-15', '-6 days');
2457974.5
sqlite&gt; SELECT julianday('now', '-6 days');
2457892.10142766
sqlite&gt;
</code></pre> 
 <p><strong>示例3：</strong></p> 
 <p>检索本月的最后一天：</p> 
 <pre><code class="lang-sql">SELECT julianday('2017-09-07', 'start of month', '+1 month', '-1 day');  
SELECT julianday('now', 'start of month', '+1 month', '-1 day');  
SELECT julianday('2017-09-07', '+24 days');  
SELECT julianday('now', '+24 days');
</code></pre> 
 <p>执行上面代码，得到以下结果 -</p>   
 <pre><code class="lang-shell">sqlite&gt; SELECT julianday('2017-09-07', 'start of month', '+1 month', '-1 day'); 
2458026.5
sqlite&gt; SELECT julianday('now', 'start of month', '+1 month', '-1 day');
2457904.5
sqlite&gt; SELECT julianday('2017-09-07', '+24 days');
2458027.5
sqlite&gt; SELECT julianday('now', '+24 days');
2457922.10232523
sqlite&gt;
</code></pre> 
 <p><strong>示例4：</strong></p> 
 <p>在当前日期上添加/减去年数和天数：</p> 
 <pre><code class="lang-sql">SELECT julianday('2017-09-14', '+2 years');  
SELECT julianday('now', '+5 years');  
SELECT julianday('now', '-7 days');
</code></pre> 
 <p>执行上面代码，得到以下结果 -</p> 
 <pre><code class="lang-shell">sqlite&gt; SELECT julianday('2017-09-14', '+2 years');
2458740.5
sqlite&gt; SELECT julianday('now', '+5 years');
2459724.10358212
sqlite&gt; SELECT julianday('now', '-7 days');
2457891.10358736
sqlite&gt;
</code></pre>
 <br>      
</div></body></html>