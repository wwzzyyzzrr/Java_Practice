<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">SQLite date()函数</h1><div style="width:100%;float:left;" class="article-content">   
 <p>SQLite <code>date()</code>函数用于检索日期并以“<code>YYYY-MM-DD</code>”格式返回。</p> 
 <p><strong>语法</strong></p> 
 <pre><code class="lang-sql">date(timestring, [ modifier1, modifier2, ... modifier_n ] )
</code></pre> 
 <p>这里，<code>timestring</code>是一个日期值，可以是以下任何一个：</p> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th><code>timestring</code>的值</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td><code>now</code></td> 
    <td>用来返回当前日期的字面值</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td><code>YYYY-MM-DD</code></td> 
    <td>指定格式为<code>YYYY-MM-DD</code>的日期值</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td><code>YYYY-MM-DD HH:MM</code></td> 
    <td>指定格式为<code>YYYY-MM-DD HH:MM</code>的日期值</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td><code>YYYY-MM-DD HH:MM:SS</code></td> 
    <td>指定格式为<code>YYYY-MM-DD HH:MM:SS</code>的日期值</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td><code>YYYY-MM-DD HH:MM:SS.SSS</code></td> 
    <td>指定格式为<code>YYYY-MM-DD HH:MM:SS.SSS</code>的日期值</td> 
   </tr> 
   <tr> 
    <td>6</td> 
    <td><code>HH:MM</code></td> 
    <td>指定格式为<code>HH:MM</code>的日期值</td> 
   </tr> 
   <tr> 
    <td>7</td> 
    <td><code>HH:MM:SS</code></td> 
    <td>指定格式为<code>HH:MM:SS</code>的日期值</td> 
   </tr> 
   <tr> 
    <td>8</td> 
    <td><code>HH:MM:SS.SSS</code></td> 
    <td>指定格式为<code>HH:MM:SS.SSS</code>的日期值</td> 
   </tr> 
   <tr> 
    <td>9</td> 
    <td><code>YYYY-MM-DDTHH:MM</code></td> 
    <td>指定格式化为<code>YYYY-MM-DDTHH：MM</code>的日期值，其中<code>T</code>是一个文本字符分隔符，用于分隔日期和时间。</td> 
   </tr> 
   <tr> 
    <td>10</td> 
    <td><code>YYYY-MM-DDTHH:MM:SS</code></td> 
    <td>指定格式化为<code>YYYY-MM-DDTHH:MM:SS</code>的日期值，其中<code>T</code>是一个文本字符分隔符，用于分隔日期和时间。</td> 
   </tr> 
   <tr> 
    <td>11</td> 
    <td><code>YYYY-MM-DDTHH:MM:SS.SSS</code></td> 
    <td>指定格式化为<code>YYYY-MM-DDTHH:MM:SS.SSS</code>的日期值，其中<code>T</code>是一个文本字符分隔符，用于分隔日期和时间。</td> 
   </tr> 
   <tr> 
    <td>12</td> 
    <td><code>DDDDDDDDDD</code></td> 
    <td>指定儒略日的日期数</td> 
   </tr> 
  </tbody> 
 </table> 
 <ul> 
  <li><em>modifier1</em>, <em>modifier2</em>, <em>… modifier_n</em>: 这些修饰符是可选的。这些字符与时间字符串一起使用来添加或减少时间，日期或年份。</li>
 </ul> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>修辞符</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td><code>[+-]NNN years</code></td> 
    <td>用于指定添加/减去日期的年数</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td><code>[+-]NNN months</code></td> 
    <td>用于指定添加/减去日期的月数</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td><code>[+-]NNN days</code></td> 
    <td>用于指定添加/减去日期的天数</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td><code>[+-]NNN hours</code></td> 
    <td>用于指定添加/减去日期的小时数</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td><code>[+-]NNN minutes</code></td> 
    <td>用于指定添加/减去日期的分钟数</td> 
   </tr> 
   <tr> 
    <td>6</td> 
    <td><code>[+-]NNN seconds</code></td> 
    <td>用于指定添加/减去日期的秒数</td> 
   </tr> 
   <tr> 
    <td>7</td> 
    <td><code>[+-]NNN.NNNN seconds</code></td> 
    <td>用于指定添加/减去日期的秒数(和小数秒)</td> 
   </tr> 
   <tr> 
    <td>8</td> 
    <td><code>start of year</code></td> 
    <td>用于将日期重新转移到年初</td> 
   </tr> 
   <tr> 
    <td>9</td> 
    <td><code>start of month</code></td> 
    <td>用于将日期重新转移到月初</td> 
   </tr> 
   <tr> 
    <td>10</td> 
    <td><code>start of day</code></td> 
    <td>用于将日期重新移动到一天的开始</td> 
   </tr> 
   <tr> 
    <td>11</td> 
    <td><code>weekday N</code></td> 
    <td>用于将日期向前移动到工作日数为<code>N</code>的下一个日期(0=Sunday, 1=Monday, 2=Tuesday, 3=Wednesday, 4=Thursday, 5=Friday, 6=Saturday)</td> 
   </tr> 
   <tr> 
    <td>12</td> 
    <td><code>unixepoch</code></td> 
    <td>它与<code>DDDDDDDDDD</code>时间字符串一起用于将日期解释为UNIX时间(即：自<code>1970-01-01</code>以来的秒数)</td> 
   </tr> 
   <tr> 
    <td>13</td> 
    <td><code>localtime</code></td> 
    <td>用于将日期调整为本地时间，假设时间戳以<code>UTC</code>表示</td> 
   </tr> 
   <tr> 
    <td>14</td> 
    <td><code>utc</code></td> 
    <td>它用于将日期调整为<code>utc</code>，假设时间戳以本地时间表达</td> 
   </tr> 
  </tbody> 
 </table> 
 <p><strong>示例1：</strong></p> 
 <p>获取当前日期：</p>   
 <pre><code class="lang-sql">sqlite&gt; SELECT date('now');
2017-05-23
sqlite&gt;
</code></pre> 
 <p><strong>示例2：</strong></p> 
 <p>检索本月的第一天，有四种方法可以查询一个月的第一天：</p> 
 <pre><code class="lang-sql">SELECT date('2017-12-17', 'start of month');  
SELECT date('now', 'start of month');  
SELECT date('2019-10-16', '-15 days');   
SELECT date('now', '-23 days');
</code></pre> 
 <p>执行上面查询，得到以下结果 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201705/2405/108150544_62712.png" alt=""></p> 
 <p><strong>示例3：</strong></p> 
 <p>检索本月的最后一天，<code>date()</code>函数可用于检索月份的最后一天。有四种方法可以获取一个月的最后一天：</p> 
 <pre><code class="lang-sql">SELECT date('2019-04-13', 'start of month','+1 month', '-1 day');  

SELECT date('now', 'start of month','+1 month', '-1 day');  

SELECT date('2018-04-13', '+17 days');  

SELECT date('now', '+8 days');
</code></pre> 
 <p>执行上面查询，得到以下结果 - </p> 
 <pre><code class="lang-shell">sqlite&gt; SELECT date('2019-04-13', 'start of month','+1 month', '-1 day');
2019-04-30
sqlite&gt;
sqlite&gt; SELECT date('now', 'start of month','+1 month', '-1 day');
2017-05-31
sqlite&gt;
sqlite&gt; SELECT date('2018-04-13', '+17 days');
2018-04-30
sqlite&gt;
sqlite&gt; SELECT date('now', '+8 days');
2017-05-31
sqlite&gt;
</code></pre> 
 <p><strong>示例4：</strong></p> 
 <p>在当前日期上添加/减去年份，在当前日期加上/减去<code>5</code>个年数：</p> 
 <pre><code class="lang-sql">SELECT date('now','+5 years');  

SELECT date('2018-06-13','+5 years');  

SELECT date('now','-5 years');  

SELECT date('2018-06-13','-5 years');
</code></pre> 
 <p>执行上面查询，得到以下结果 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201705/2405/174150552_40283.png" alt=""></p> 
 <p><strong>示例5：</strong></p> 
 <p>将天数添加到当前日期，通过上述方式，可以在当前日期上添加和减去天数，有以下几种方法可以实现：</p> 
 <pre><code class="lang-sql">SELECT date('now','+5 days');  

SELECT date('2018-05-13','+5 days');  

SELECT date('now','-5 days');  

SELECT date('2018-06-13','-5 days');
</code></pre> 
 <p>执行上面查询，得到以下结果 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201705/2405/392150554_76987.png" alt=""></p>
 <br>      
</div></body></html>