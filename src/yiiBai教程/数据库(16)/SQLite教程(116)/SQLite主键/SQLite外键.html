<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">SQLite外键</h1><div style="width:100%;float:left;" class="article-content">   
 <p>SQLite <code>Foreign Key</code>语句用于指定一个表中的值也出现在另一个表中。 它在SQLite数据库中执行强制引用完整性。 被引用的表称为父表，而具有外键(或引用父表)的表称为子表。 子表中的外键通常会引用父表中的主键。</p> 
 <p>在SQLite中，只能在<code>CREATE TABLE</code>语句中定义外键。</p> 
 <h2 id="h2-u521Bu5EFAu5916u952E"><a name="创建外键" class="reference-link"></a><span class="header-link octicon octicon-link"></span>创建外键</h2>
 <p><strong>语法</strong></p> 
 <pre><code class="lang-sql">CREATE TABLE table_name  
(  
    column1 datatype [ NULL | NOT NULL ],  
    column2 datatype [ NULL | NOT NULL ],  
    ...  
    CONSTRAINT fk_column  
    FOREIGN KEY (column1, column2, ... column_n)  
    REFERENCES parent_table (column1, column2, ... column_n)  
);
</code></pre> 
 <p><strong>示例：</strong></p> 
 <p>创建一个以<code>department</code>表作为引用表(父表)拥有外键的 <code>employees</code> 表， <code>employees</code> 表的<code>department_id</code>列引用父表<code>department</code>的<code>department_id</code>列作为外键。</p>   
 <pre><code class="lang-sql">-- 父表
CREATE TABLE departments  
(
    department_id INTEGER PRIMARY KEY AUTOINCREMENT,  
    department_name VARCHAR  
);  

-- 拥有外键的表
CREATE TABLE employees  
(
    employee_id INTEGER PRIMARY KEY AUTOINCREMENT,  
    last_name VARCHAR NOT NULL,  
    first_name VARCHAR,  
    department_id INTEGER,  
    CONSTRAINT fk_departments  
    FOREIGN KEY (department_id)  
    REFERENCES departments(department_id)  
);
</code></pre> 
 <p>这里在<code>department</code>表中创建一个主键<code>department_id</code>。 然后，在<code>employees</code>表上创建一个名为<code>fk_departments</code>的外键，该<code>department_id</code>字段引用<code>department</code>表的<code>department_id</code>字段。</p>
 <br>      
</div></body></html>