<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">SQLite Union All操作符</h1><div style="width:100%;float:left;" class="article-content">   
 <p>SQLite <code>UNION ALL</code>运算符用于组合两个或多个<code>SELECT</code>语句的结果，但是不忽略重复的行(含有重复的行记录)。</p> 
 <p>在SQLite <code>UNION ALL</code>中，查询结果表还包括重复值。 其它规则适用于<code>Union</code>操作符。</p> 
 <p><strong>语法：</strong></p> 
 <pre><code class="lang-sql">SELECT expression1, expression2, ... expression_n  
FROM tables  
[WHERE conditions]  
UNION ALL  
SELECT expression1, expression2, ... expression_n  
FROM tables  
[WHERE conditions];
</code></pre> 
 <p>假设有两个表：<code>student</code>和<code>department</code>。</p> 
 <pre><code class="lang-sql">sqlite&gt; .tables
department  student
sqlite&gt;
</code></pre> 
 <p><code>student</code>表中具有以下数据：</p> 
 <pre><code class="lang-shell">sqlite&gt; select * from student;
1|Maxsu|27|Shengzhen|20000.0
2|Minsu|25|Beijing|15000.0
3|Avgsu|23|Shanghai|2000.0
4|Linsu|25|Guangzhou|65000.0
5|Sqlsu|26|Haikou|25000.0
6|Javasu|21|Shengzhen|18000.0
7|Linsu|27|Haikou|10000.0
8|Minsu|23|Guangzhou|5000.0
9|Maxsu|23|Shenzhen|9000.0
sqlite&gt;
</code></pre> 
 <p><code>department</code>表中具有以下数据：</p> 
 <pre><code class="lang-sql">sqlite&gt; select * from department;
1|财务部|1
2|技术部|2
3|技术部|3
4|市场部|4
5|市场部|5
sqlite&gt;
</code></pre> 
 <p><strong>示例1：</strong></p> 
 <p>使用<code>union all</code>操作符返回单个字段，这个简单示例只返回来自两个字段具有相同数据类型的多个SELECT语句中的一个字段。<br>下面来看看上面的两个表：<code>student</code>和<code>department</code>，并在<code>UNION ALL</code>操作符从两个表中选择一个<code>id</code>。</p>   
 <pre><code class="lang-sql">SELECT ID FROM STUDENT  
UNION ALL   
SELECT ID FROM DEPARTMENT;
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201705/2405/983120527_39513.png" alt=""></p> 
 <p><strong>示例2：</strong> </p> 
 <p><code>UNION ALL</code>内部和外部连接，按照以下条件和<code>UNION ALL</code>子句，将上述两个表：<code>student</code>和<code>department</code>作为内部联接和外部联接。</p> 
 <pre><code class="lang-sql">SELECT EMP_ID, NAME, DEPT FROM STUDENT INNER JOIN DEPARTMENT  
ON STUDENT.ID = DEPARTMENT.EMP_ID  
UNION ALL  
SELECT EMP_ID, NAME, DEPT FROM STUDENT LEFT OUTER JOIN DEPARTMENT  
ON STUDENT.ID = DEPARTMENT.EMP_ID;
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201705/2405/942120528_58658.png" alt=""></p>
 <br>      
</div></body></html>