<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">SQLite AVG()函数</h1><div style="width:100%;float:left;" class="article-content">   
 <p>SQLite <code>AVG()</code>函数用于检索表达式或给定列的平均值。</p> 
 <p><strong>语法</strong></p> 
 <pre><code class="lang-sql">SELECT AVG(aggregate_expression)  
FROM tables  
[WHERE conditions];
</code></pre> 
 <p>在<code>GROUP BY</code>子句中使用<code>AVG()</code>函数时的语法：</p> 
 <pre><code class="lang-sql">SELECT expression1, expression2, ... expression_n  
AVG(aggregate_expression)  
FROM tables  
[WHERE conditions]  
GROUP BY expression1, expression2, ... expression_n;
</code></pre> 
 <p><strong>示例1：</strong></p> 
 <p>假设有一个名为<code>student</code>的表，具有以下数据：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201705/2405/877110548_33452.png" alt=""></p> 
 <p>从<code>student</code>表中检索学生的平均费用(<code>fees</code>)：</p> 
 <pre><code class="lang-sql">SELECT AVG(FEES) AS "Avg Fees"  
FROM STUDENT  
WHERE ID &gt; 0;
</code></pre> 
 <p>执行上面查询代码，得到以下结果 - </p> 
 <pre><code class="lang-sql">sqlite&gt; SELECT AVG(FEES) AS "Avg Fees"
   ...&gt; FROM STUDENT
   ...&gt; WHERE ID &gt; 0;
18777.7777777778
sqlite&gt;
</code></pre> 
 <p><strong>示例2：</strong></p> 
 <p>使用带有<code>DISTINCT</code>子句的<code>AVG()</code>函数，从<code>student</code>表中获取<code>FEES</code>大于<code>10000</code>并且平均不同费用。</p> 
 <pre><code class="lang-sql">SELECT AVG(DISTINCT  FEES) AS "Avg Fees"  
FROM STUDENT  
WHERE FEES &gt; 10000;
</code></pre> 
 <p>执行上面查询代码，得到以下结果 - </p> 
 <pre><code class="lang-sql">sqlite&gt; SELECT AVG(DISTINCT  FEES) AS "Avg Fees"
   ...&gt; FROM STUDENT
   ...&gt; WHERE FEES &gt; 10000;
28600.0
sqlite&gt;
</code></pre> 
 <p><strong>示例3：</strong></p> 
 <p>使用数学公式在<code>AVG()</code>函数中计算求平均值。</p> 
 <p>可以使用数学公式根据您的要求检索平均值，如下求每个月的平均值 - </p>   
 <pre><code class="lang-sql">SELECT AVG(FEES / 12) AS "Average Monthly Fees"  
FROM STUDENT;
</code></pre> 
 <p>执行上面查询代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">sqlite&gt; SELECT AVG(FEES / 12) AS "Average Monthly Fees"
   ...&gt; FROM STUDENT;
1564.81481481481
sqlite&gt;
</code></pre> 
 <p><strong>示例4：</strong></p> 
 <p>使用具有的<code>GROUP BY</code>子句的<code>AVG()</code>函数：</p> 
 <p>从<code>student</code>表中检索<code>NAME</code>和<code>FEES</code>，并按<code>AGE</code>分组数据：</p> 
 <pre><code class="lang-sql">SELECT NAME, SUM(FEES) AS "Avg Fees by Name"  
FROM STUDENT  
GROUP BY AGE;
</code></pre> 
 <p>执行上面代码，得到以下结果 -</p> 
 <pre><code class="lang-sql">sqlite&gt; SELECT NAME, SUM(FEES) AS "Avg Fees by Name"
   ...&gt; FROM STUDENT
   ...&gt; GROUP BY AGE;
Javasu|18000.0
Maxsu|16000.0
Linsu|80000.0
Sqlsu|25000.0
Linsu|30000.0
sqlite&gt;
</code></pre>
 <br>      
</div></body></html>