<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Memcached连接</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 要连接到memcache服务器，需要使用telnet命令到主机和端口名称。</p> 
 <h2> 语法</h2> 
 <p> memcached 的 telnet 命令的基本语法如下所示：</p> 
 <pre class="prettyprint prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">$telnet HOST PORT</span></pre> 
 <p> 在这里，Host 和Port 是memcached服务器运行的IP和端口</p> 
 <h3> 例子</h3> 
 <p> 下面给出的示例演示如何连接到memcached服务器，并运行一个简单的set和get命令。在这个例子中，假定memcached服务器在主机IP是127.0.0.1，端口11211上运行</p> 
 <pre class="prettyprint prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
$telnet 127.0.0.1 11211
Trying 127.0.0.1...
Connected to 127.0.0.1.
Escape character is '^]'.
// now store some data and get it from memcached server
set yiibai 0 900 9
memcached
STORED
get yiibai
VALUE yiibai 0 9
memcached
END</pre> 
 <h2> 从Java应用程序连接</h2> 
 <p> 要从Java程序连接memcached服务器，需要添加memcached的jar包到类路径，如图前面的章节。</p> 
 <h3> 示例</h3> 
 <pre class="prettyprint prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
import net.spy.memcached.MemcachedClient;
public class MemcachedJava {
   public static void main(String[] args) {
      //Connecting to Memcached server on localhost
      MemcachedClient mcc = new MemcachedClient(new InetSocketAddress("127.0.0.1", 11211));
      System.out.println("Connection to server sucessfully");
      //not set data into memcached server
      System.out.println("set status:"+mcc.set("yiibai", 900, "memcached").done);
      //Get value from cache
      System.out.println("Get from Cache:"+mcc.get("yiibai"));
 }
}</pre> 
 <p> 在上面的程序，假设memcached服务器的主机IP是127.0.0.1，并在端口11211上运行。</p> 
 <h3> 输出</h3> 
 <p> 当上述程序编译和运行，它提供了以下的输出：</p>   
 <pre class="result prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
Connection to server successfully
set status:true
Get from Cache:memcached</pre> 
 <br>      
</div></body></html>