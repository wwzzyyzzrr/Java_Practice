<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">PostgreSQL左外连接</h1><div style="width:100%;float:left;" class="article-content">   
 <p>外连接是内联的延伸，外连接有三种类型。它们分别如下 -</p> 
 <ul> 
  <li>左外连接</li>
  <li>右外连接</li>
  <li>全外连接</li>
 </ul> 
 <h2 id="h2-u5DE6u5916u8FDEu63A5"><a name="左外连接" class="reference-link"></a><span class="header-link octicon octicon-link"></span>左外连接</h2>
 <p>左外连接返回从“<code>ON</code>”条件中指定的左侧表中的所有行，只返回满足条件的另一个表中的行。<br>如下图中所表示：<br><img src="http://www.yiibai.com/uploads/images/201704/1004/429220435_83653.jpg" alt=""></p> 
 <p><strong>语法：</strong></p> 
 <pre><code class="lang-shell">SELECT table1.columns, table2.columns  
FROM table1  
LEFT OUTER JOIN table2  
ON table1.common_filed = table2.common_field;
</code></pre> 
 <h2 id="h2-u793Au4F8B"><a name="示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例</h2>
 <p>看这个例子，现在看看下面一个表1 - “<code>EMPLOYEES</code>”，具有以下数据。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/0904/143110400_90418.png" alt=""></p> 
 <p><strong>表2</strong>： <code>DEPARTMENT</code> </p> 
 <p>创建另一个表“<code>DEPARTMENT</code>”并插入以下值。</p> 
 <pre><code class="lang-sql">-- Table: public.department

-- DROP TABLE public.department;

CREATE TABLE public.department
(
  id integer,
  dept text,
  fac_id integer
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.department
  OWNER TO postgres;

-- 插入数据
INSERT INTO department VALUES(1,'IT', 1);
INSERT INTO department VALUES(2,'Engineering', 2);
INSERT INTO department VALUES(3,'HR', 7);
</code></pre> 
 <p>现在，<code>DEPARTMENT</code>有以下数据 -<br><img src="http://www.yiibai.com/uploads/images/201704/0904/518110401_49928.png" alt=""></p> 
 <p>执行以下左连接查询：</p>   
 <pre><code class="lang-sql">SELECT EMPLOYEES.ID, EMPLOYEES.NAME, DEPARTMENT.DEPT  
FROM EMPLOYEES 
LEFT OUTER JOIN DEPARTMENT  
ON EMPLOYEES.ID = DEPARTMENT.ID;
</code></pre> 
 <p>得到以下结果 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/0904/387110405_70043.png" alt=""></p> 
 <p>从上面图中可以看到，左表(<code>EMPLOYEES</code>)全部列出来，而右表(<code>DEPARTMENT</code>)没有匹配上的项全留为空值。</p>
 <br>      
</div></body></html>