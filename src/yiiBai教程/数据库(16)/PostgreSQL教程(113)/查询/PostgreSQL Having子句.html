<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">PostgreSQL Having子句</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在PostgreSQL中，HAVING子句与<a target="_blank" href="http://www.yiibai.com/postgresql/postgresql-group-by-clause.html" title="GROUP BY">GROUP BY</a>子句组合使用，用于选择函数结果满足某些条件的特定行。</p> 
 <p><strong>语法：</strong></p> 
 <pre><code class="lang-sql">SELECT column1, column2  
FROM table1, table2  
WHERE [ conditions ]  
GROUP BY column1, column2  
HAVING [ conditions ]  
ORDER BY column1, column2
</code></pre> 
 <p><strong>示例1：</strong></p> 
 <p>我们来看一下表“<code>EMPLOYEES</code>”，具有以下数据。<br><img src="http://www.yiibai.com/uploads/images/201704/0804/227100418_70145.png" alt=""></p> 
 <p>在这个例子中，它将显示名称(<code>name</code>)数量小于<code>2</code>的记录。</p> 
 <p>执行以下查询：</p> 
 <pre><code class="lang-sql">SELECT NAME   
FROM EMPLOYEES  
GROUP BY NAME HAVING COUNT (NAME) &lt; 2;
</code></pre> 
 <p>得到结果如下 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/0804/229100419_81777.png" alt=""></p> 
 <p><strong>示例2：</strong></p> 
 <p>我们在“<code>EMPLOYEES</code>”表中插入一些重复的记录，首先添加以下数据：</p> 
 <pre><code class="lang-sql">INSERT INTO EMPLOYEES VALUES (7, 'Minsu', 24, 'Delhi', 135000);  
INSERT INTO EMPLOYEES VALUES (8, 'Manisha', 19, 'Noida', 125000);
</code></pre> 
 <p>现在完整的数据如下所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/0804/840100422_77861.png" alt=""></p> 
 <p>执行以下查询表“<code>EMPLOYEES</code>”中<code>name</code>字段值计数大于<code>1</code>的名称。</p>   
 <pre><code class="lang-sql">SELECT NAME,COUNT (NAME) 
FROM EMPLOYEES  
GROUP BY NAME HAVING COUNT (NAME) &gt; 1;
</code></pre> 
 <p>得到结果如下 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/0804/238100424_29665.png" alt=""></p> 
 <p>这是因为名字为 <code>Minsu</code>和 <code>Manisha</code> 有两条记录。</p>
 <br>      
</div></body></html>