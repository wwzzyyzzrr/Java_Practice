<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">SQL EXCEPT子句</h1><div style="width:100%;float:left;" class="article-content">   
 <p> SQL EXCEPT子句/操作符用于合并两个SELECT语句，并从那些没有被第二个SELECT语句返回的第一个SELECT语句返回行。这意味着EXCEPT仅返回行，在第二个SELECT语句不可用。</p> 
 <p> 正如使用UNION操作，同样的规则时，使用EXCEPT操作符适用。MySQL不支持EXCEPT运算符。</p> 
 <h2> 语法</h2> 
 <p> EXCEPT基本的语法如下：</p> 
 <pre class="prettyprint" style="border-radius: 0px; font-size: 12px; overflow: auto;">
SELECT column1 [, column2 ]
FROM table1 [, table2 ]
[WHERE condition]

EXCEPT

SELECT column1 [, column2 ]
FROM table1 [, table2 ]
[WHERE condition]</pre> 
 <p> 在这里，给定的条件可能是根据您的需要给定任意的表达。</p> 
 <h2> 例子：</h2> 
 <p> 考虑下面的两个表中，(a)CUSTOMERS表如下：</p> 
 <pre class="prettyprint" style="border-radius: 0px; font-size: 12px; overflow: auto;">
+----+----------+-----+-----------+----------+
| ID | NAME     | AGE | ADDRESS   | SALARY   |
+----+----------+-----+-----------+----------+
|  1 | Ramesh   |  32 | Ahmedabad |  2000.00 |
|  2 | Khilan   |  25 | Delhi     |  1500.00 |
|  3 | kaushik  |  23 | Kota      |  2000.00 |
|  4 | Chaitali |  25 | Mumbai    |  6500.00 |
|  5 | Hardik   |  27 | Bhopal    |  8500.00 |
|  6 | Komal    |  22 | MP        |  4500.00 |
|  7 | Muffy    |  24 | Indore    | 10000.00 |
+----+----------+-----+-----------+----------+</pre> 
 <p> (b)另一个ORDERS表如下：</p> 
 <pre class="prettyprint" style="border-radius: 0px; font-size: 12px; overflow: auto;">
+-----+---------------------+-------------+--------+
|OID  | DATE                | CUSTOMER_ID | AMOUNT |
+-----+---------------------+-------------+--------+
| 102 | 2009-10-08 00:00:00 |           3 |   3000 |
| 100 | 2009-10-08 00:00:00 |           3 |   1500 |
| 101 | 2009-11-20 00:00:00 |           2 |   1560 |
| 103 | 2008-05-20 00:00:00 |           4 |   2060 |
+-----+---------------------+-------------+--------+</pre> 
 <p> 现在，让我们在SELECT语句中加入这两个表如下：</p> 
 <div style="float:left;margin-bottom: 10px;">  
 </div>
 <div style="float:left;margin-bottom: 10px;">  
 </div>  
 <pre class="prettyprint" style="border-radius: 0px; font-size: 12px; overflow: auto;">
SQL&gt; SELECT  ID, NAME, AMOUNT, DATE
     FROM CUSTOMERS
     LEFT JOIN ORDERS
     ON CUSTOMERS.ID = ORDERS.CUSTOMER_ID
EXCEPT
     SELECT  ID, NAME, AMOUNT, DATE
     FROM CUSTOMERS
     RIGHT JOIN ORDERS
     ON CUSTOMERS.ID = ORDERS.CUSTOMER_ID;</pre> 
 <p> 这将产生以下结果：</p> 
 <pre class="prettyprint" style="border-radius: 0px; font-size: 12px; overflow: auto;">
+----+---------+--------+---------------------+
| ID | NAME    | AMOUNT | DATE                |
+----+---------+--------+---------------------+
|  1 | Ramesh  |   NULL | NULL                |
|  5 | Hardik  |   NULL | NULL                |
|  6 | Komal   |   NULL | NULL                |
|  7 | Muffy   |   NULL | NULL                |
+----+---------+--------+---------------------+</pre> 
 <br>      
</div></body></html>