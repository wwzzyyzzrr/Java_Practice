<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">MariaDB Distinct子句</h1><div style="width:100%;float:left;" class="article-content">   
 <p>MariaDB <code>DISTINCT</code>子句用于在<code>SELECT</code>语句中从结果中删除重复项。</p> 
 <p><strong>语法：</strong> </p> 
 <pre><code class="lang-sql">SELECT DISTINCT expressions  
FROM tables  
[WHERE conditions];
</code></pre> 
 <blockquote> 
  <p>注意：当在<code>DISTINCT</code>子句中仅使用表达式时，查询将返回该表达式的唯一值。当您使用多个表达式在<code>DISTINCT</code>子句时，查询将返回多个表达式的唯一组合。<br><code>DISTINCT</code>子句不会忽略<code>NULL</code>值。因此，在SQL语句中使用<code>DISTINCT</code>子句时，结果集将包含<code>NULL</code>作为不同的值。</p> 
 </blockquote> 
 <h4 id="h4-1-"><a name="1. 使用单一表达式示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1. 使用单一表达式示例</h4>
 <p>有一个名称为<code>students</code>的表，有一些重复的条目。例如，就有两个学生的名字叫：<code>Maxsu</code>。可以先来看看<code>students</code>表的中的全部数据记录。</p> 
 <pre><code class="lang-sql">MariaDB [testdb]&gt; select * from students;
+------------+--------------+-----------------+----------------+
| student_id | student_name | student_address | admission_date |
+------------+--------------+-----------------+----------------+
|          1 | Maxsu        | Haikou          | 2017-01-07     |
|          3 | JMaster      | Beijing         | 2016-05-07     |
|          4 | Mahesh       | Guangzhou       | 2016-06-07     |
|          5 | Kobe         | Shanghai        | 2016-02-07     |
|          6 | Blaba        | Shengzhen       | 2016-08-07     |
|          7 | Maxsu        | Sanya           | 2017-08-08     |
+------------+--------------+-----------------+----------------+
6 rows in set (0.00 sec)
</code></pre> 
 <p>现在，使用<code>DISTINCT</code>子句查询去除表中的重复项。参考以下语句 - </p> 
 <pre><code class="lang-sql">SELECT DISTINCT student_name FROM Students;
</code></pre> 
 <p>执行上面语句，得到以下结果 - </p> 
 <pre><code class="lang-sql">MariaDB [testdb]&gt; SELECT DISTINCT student_name FROM Students;
+--------------+
| student_name |
+--------------+
| Maxsu        |
| JMaster      |
| Mahesh       |
| Kobe         |
| Blaba        |
+--------------+
5 rows in set (0.00 sec)
</code></pre> 
 <p>可以看到上面结果中，在使用<code>DISTINCT</code>子句之后，重复的条目被删除返回一次。即，名字为：<code>Maxsu</code>的行记录只有一条。</p> 
 <h4 id="h4-2-"><a name="2. 使用多个表达式" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2. 使用多个表达式</h4>
 <p>可以使用<code>DISTINCT</code>子句从MariaDB中的多个表达式中删除重复项。为了更容易说明问题，我们首先再向<code>students</code>表中插入一些数据。</p> 
 <pre><code class="lang-sql">INSERT INTO students  
(student_name, student_address, admission_date)
VALUES('Maxsu','Haikou','2015-11-17 00:00:00');
</code></pre> 
 <p>在执行上面插入语句后，<code>students</code>表中名字为：<code>Maxsu</code>的学生一共有<code>3</code>有三位，两位的地址在：<code>Haikou</code>，一位的地址在：<code>Sanya</code>，如下所示 - </p>   
 <pre><code class="lang-sql">MariaDB [testdb]&gt; select * from students;
+------------+--------------+-----------------+----------------+
| student_id | student_name | student_address | admission_date |
+------------+--------------+-----------------+----------------+
|          1 | Maxsu        | Haikou          | 2017-01-07     |
|          3 | JMaster      | Beijing         | 2016-05-07     |
|          4 | Mahesh       | Guangzhou       | 2016-06-07     |
|          5 | Kobe         | Shanghai        | 2016-02-07     |
|          6 | Blaba        | Shengzhen       | 2016-08-07     |
|          7 | Maxsu        | Sanya           | 2017-08-08     |
|          8 | Maxsu        | Haikou          | 2015-11-17     |
+------------+--------------+-----------------+----------------+
7 rows in set (0.00 sec)
</code></pre> 
 <p>假设查询时，相同名字并且在同一个地址只显示为一条，怎么做？参考以下查询语句 - </p> 
 <pre><code class="lang-sql">SELECT DISTINCT student_name, student_address FROM Students;
</code></pre> 
 <p>执行上面语句，得到以下结果 - </p> 
 <pre><code class="lang-sql">MariaDB [testdb]&gt; SELECT DISTINCT student_name,student_address FROM Students;
+--------------+-----------------+
| student_name | student_address |
+--------------+-----------------+
| Maxsu        | Haikou          |
| JMaster      | Beijing         |
| Mahesh       | Guangzhou       |
| Kobe         | Shanghai        |
| Blaba        | Shengzhen       |
| Maxsu        | Sanya           |
+--------------+-----------------+
6 rows in set (0.00 sec)
</code></pre> 
 <p>从上面查询的结果集中，可以看到当前只显示一条。即：<code>student_name</code>为：<code>Maxsu</code>以及<code>student_address</code>为<code>Haikou</code>的学生信息只有一条。</p>
 <br>      
</div></body></html>