<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">MySQL删除表数据</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在本教程中，您将学习如何使用MySQL <code>DELETE</code>语句从单个表中删除数据。</p> 
 <h2 id="h2-1-mysql-delete-"><a name="1. MySQL DELETE语句介绍" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1. MySQL DELETE语句介绍</h2>
 <p>要从表中删除数据，请使用MySQL <code>DELETE</code>语句。下面说明了<code>DELETE</code>语句的语法：</p> 
 <pre><code class="lang-sql">DELETE FROM table_name
WHERE condition;
</code></pre> 
 <p>在上面查询语句中 - </p> 
 <ul> 
  <li>首先，指定删除数据的表(<code>table_name</code>)。</li>
  <li>其次，使用条件来指定要在<code>WHERE</code>子句中删除的行记录。如果行匹配条件，这些行记录将被删除。</li>
 </ul> 
 <blockquote> 
  <p>请注意，<code>WHERE</code>子句是可选的。如果省略<code>WHERE</code>子句，<code>DELETE</code>语句将删除表中的所有行。</p> 
 </blockquote> 
 <p>除了从表中删除数据外，<code>DELETE</code>语句返回删除的行数。</p> 
 <p>要使用单个<code>DELETE</code>语句从多个表中删除数据，请阅读下一个教程中将介绍的<a target="_blank" href="http://www.yiibai.com/mysql/delete-join.html" title="DELETE JOIN语句">DELETE JOIN语句</a>。</p> 
 <p>要删除表中的所有行，而不需要知道删除了多少行，那么应该使用<a target="_blank" href="http://www.yiibai.com/mysql/truncate-table.html" title="TRUNCATE TABLE">TRUNCATE TABLE</a>语句来获得更好的执行性能。</p> 
 <p>对于具有<a target="_blank" href="http://www.yiibai.com/mysql/foreign-key.html" title="外键约束">外键约束</a>的表，当从父表中删除行记录时，子表中的行记录将通过使用<a target="_blank" href="http://www.yiibai.com/mysql/on-delete-cascade.html" title="ON DELETE CASCADE">ON DELETE CASCADE</a>选项自动删除。</p> 
 <h2 id="h2-2-mysql-delete-"><a name="2. MySQL DELETE的例子" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2. MySQL DELETE的例子</h2>
 <p>我们将使用<a target="_blank" href="http://www.yiibai.com/mysql/sample-database.html" title="示例数据库(yiibaidb)">示例数据库(yiibaidb)</a>中的<code>employees</code>表进行演示。</p> 
 <pre><code class="lang-sql">+-------------+--------------+------+-----+---------+----------------+
| Field       | Type         | Null | Key | Default | Extra          |
+-------------+--------------+------+-----+---------+----------------+
| emp_id      | int(11)      | NO   | PRI | NULL    | auto_increment |
| emp_name    | varchar(255) | NO   |     | NULL    |                |
| performance | int(11)      | YES  | MUL | NULL    |                |
| salary      | float        | YES  |     | NULL    |                |
+-------------+--------------+------+-----+---------+----------------+
4 rows in set
</code></pre> 
 <blockquote> 
  <p>请注意，一旦删除数据，它就会永远消失。 因此，在执行<code>DELETE</code>语句之前，应该先<a target="_blank" href="http://www.yiibai.com/mysql/how-to-backup-database-using-mysqldump.html" title="备份数据库">备份数据库</a>，以防万一要找回删除过的数据。</p> 
 </blockquote> 
 <p>假设要删除<code>officeNumber</code>为<code>4</code>的员工，则使用<code>DELETE</code>语句与<code>WHERE</code>子句作为以下查询：</p> 
 <pre><code class="lang-sql">DELETE FROM employees 
WHERE
    officeCode = 4;
</code></pre> 
 <p>要删除<code>employees</code>表中的所有行，请使用不带<a target="_blank" href="http://www.yiibai.com/mysql/where.html" title="WHERE">WHERE</a>子句的<code>DELETE</code>语句，如下所示：</p> 
 <pre><code class="lang-sql">DELETE FROM employees;
</code></pre> 
 <p>在执行上面查询语句后，<code>employees</code>表中的所有行都被删除。</p> 
 <h2 id="h2-mysql-delete-limit-"><a name="MySQL DELETE和LIMIT子句" class="reference-link"></a><span class="header-link octicon octicon-link"></span>MySQL DELETE和LIMIT子句</h2>
 <p>如果要限制要删除的行数，则使用<a target="_blank" href="http://www.yiibai.com/mysql/limit.html" title="LIMIT">LIMIT</a>子句，如下所示：</p> 
 <pre><code class="lang-sql">DELETE FROM table
LIMIT row_count;
</code></pre> 
 <p>请注意，表中的行顺序未指定，因此，当您使用<code>LIMIT</code>子句时，应始终使用<code>ORDER BY</code>子句，不然删除的记录可能不是你所预期的那样。</p>   
 <pre><code class="lang-sql">DELETE FROM table_name
ORDER BY c1, c2, ...
LIMIT row_count;
</code></pre> 
 <p>考虑在<a target="_blank" href="http://www.yiibai.com/mysql/sample-database.html" title="示例数据库(yiibaidb)">示例数据库(yiibaidb)</a>中的<code>customers</code>表，其表结构如下：</p> 
 <pre><code class="lang-sql">mysql&gt; desc customers;
+------------------------+---------------+------+-----+---------+-------+
| Field                  | Type          | Null | Key | Default | Extra |
+------------------------+---------------+------+-----+---------+-------+
| customerNumber         | int(11)       | NO   | PRI | NULL    |       |
| customerName           | varchar(50)   | NO   |     | NULL    |       |
| contactLastName        | varchar(50)   | NO   |     | NULL    |       |
| contactFirstName       | varchar(50)   | NO   |     | NULL    |       |
| phone                  | varchar(50)   | NO   |     | NULL    |       |
| addressLine1           | varchar(50)   | NO   |     | NULL    |       |
| addressLine2           | varchar(50)   | YES  |     | NULL    |       |
| city                   | varchar(50)   | NO   |     | NULL    |       |
| state                  | varchar(50)   | YES  |     | NULL    |       |
| postalCode             | varchar(15)   | YES  |     | NULL    |       |
| country                | varchar(50)   | NO   |     | NULL    |       |
| salesRepEmployeeNumber | int(11)       | YES  | MUL | NULL    |       |
| creditLimit            | decimal(10,2) | YES  |     | NULL    |       |
+------------------------+---------------+------+-----+---------+-------+
13 rows in set
</code></pre> 
 <p>例如，以下语句按客户名称按字母排序客户，并删除前<code>10</code>个客户：</p> 
 <pre><code class="lang-sql">DELETE FROM customers
ORDER BY customerName
LIMIT 10;
</code></pre> 
 <p>类似地，以下<code>DELETE</code>语句选择法国(<em>France</em>)的客户，按升序按信用额度(<code>creditLimit</code>)进行排序，并删除前<code>5</code>个客户：</p> 
 <pre><code class="lang-sql">DELETE FROM customers
WHERE country = 'France'
ORDER BY creditLimit
LIMIT 5;
</code></pre> 
 <p>类似地，以下<code>DELETE</code>语句选择法国(<em>France</em>)的客户，按升序按信用额度(<code>creditLimit</code>)进行排序，并删除前<code>5</code>个客户：</p> 
 <pre><code class="lang-sql">DELETE FROM customers
WHERE country = 'France'
ORDER BY creditLimit
LIMIT 5;
</code></pre> 
 <p>在本教程中，您已经学会了如何使用MySQL <code>DELETE</code>语句从表中删除数据。</p>
 <br>      
</div></body></html>