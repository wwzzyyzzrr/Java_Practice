<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">DB2模式</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 本章介绍和描述模式的概念。</p> 
 <h2> 介绍</h2> 
 <p> 模式是数据库中的逻辑分类命名对象的集合。</p> 
 <p> 在数据库中，不能创建具有相同名称的多个数据库对象。要执行此操作，模式提供了一组环境。可以在数据库中创建多个模式，也可以创建多个同名的数据库对象，用不同的模式组。</p> 
 <img alt="schemas" src="/uploads/allimg/141216/1-141216093H5910.png"> 
 <p> 模式可以包含表，函数，索引，表空间，过程，触发器等。例如，您可以创建命名为“Professional”和“Personal”为“employee”数据库中的两个不同的模式。它能够使两个不同的表具有相同名称的“employee”。在这种环境中，一个表具有专业的信息，而另一个具有雇员的个人信息。尽管有两个表具有相同的名称，他们有两个不同的模式“Personal”和“Professional”。因此，可以使用户不会遇到任何问题的工作。当有对表的命名约束，此功能非常有用。</p> 
 <p> 让我们来看看相关模式的几个命令：</p> 
 <h2> 获得当前活动的模式</h2> 
 <p> 语法:</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2 </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">get</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> schema  </span></pre> 
 <p> 例如：[为了获得当前数据库架构]</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2 </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">get</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> schema   </span></pre> 
 <h2> 以目前的环境设置另一个模式</h2> 
 <p> 语法：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2 </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">set</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> schema</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=&lt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">schema_name</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  </span></pre> 
 <p> 例如：[要整理'schema1“到当前实例环境]</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2 </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">set</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> schema</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">schema1 </span></pre> 
 <h2> 创建新模式</h2> 
 <p> 语法：[要创建具有授权的用户ID的新模式]</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2 create schema </span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">&lt;schema_name&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> authroization </span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">&lt;inst_user&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span></pre> 
 <p> 例如：要创建“schema1”模式使用授权“db2inst2”]</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2 create schema schema1 authorization db2inst2 </span></pre> 
 <h2> 练习</h2> 
 <p> 让我们创建具有相同名称的两个不同的表，但它们分别在两种不同的模式。在这里，将创建员工表有两个不同的模式，一个用于个人及其他专业信息。</p> 
 <p> 步骤1：创建两个模式。</p> 
 <p> 模式1：[要创建一个模式名为professional]</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2 create schema professional authorization db2inst2 </span></pre> 
 <p> <strong>模式1：</strong>[ 要创建一个模式名为personal&nbsp;]&nbsp;</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2 create schema personal authorization db2inst2</span></pre> 
 <p> <strong>第 2 步：</strong>创建两个表具有相同名称的员工详细信息</p> 
 <p> <strong>表1: &nbsp;</strong>professional.employee</p> 
 <p> [使用模式名“professional”在数据库中创建新表'employee']</p>   
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2 create table professional</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">employee</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">id number</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> name 
varchar</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">20</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">),</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> profession varchar</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">20</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">),</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> join_date date</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
salary number</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">);</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span></pre> 
 <p> <strong>表2:&nbsp;</strong>&nbsp;personal.employee</p> 
 <p> [要在同一个数据库中的新表'employee'，使用模式名称'personal']</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2 create table personal</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">employee</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">id number</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> name 
varchar</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">20</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">),</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> d_birth date</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> phone bigint</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> address 
varchar</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">200</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">));</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  </span></pre> 
 <p> 在执行这些步骤后，会得到两个表具有相同名称的“employee”，在两个不同的模式。</p> 
 <br>      
</div></body></html>