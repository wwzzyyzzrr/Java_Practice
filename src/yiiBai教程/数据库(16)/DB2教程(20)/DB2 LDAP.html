<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">DB2 LDAP</h1><div style="width:100%;float:left;" class="article-content">   
 <p> LDAP是轻量级目录访问协议。 LDAP是一个全球性的目录服务，工业标准协议，该协议是基于客户端 - 服务器模型，运行在一个层中TCP/IP栈的上方。LDAP提供了一个工具来连接，访问，修改和搜索互联网目录。</p> 
 <p> 在LDAP服务器包含该组织在一个目录树的形式信息。在客户端请求的服务器，以提供信息或在一个特定的信息执行一些操作。服务器对客户机提供所需的信息，如果它有一个，或者它是指客户到另一台服务器上所需的信息操作。然后，客户端获取从另一个服务器所需的信息。</p> 
 <p> 目录树结构保持在所有参与的服务器相同。这是LDAP目录服务的一个突出特点。因此，无论哪个的服务器是由客户端的简称，在客户端总是得到在无差错的方式所需的信息。在这里，我们使用LDAP验证IBM DB2作为替代操作系统认证。</p> 
 <p> 有两种类型的LDAP：</p> 
 <ol> 
  <li> 透明度</li> 
  <li> 插件</li> 
 </ol> 
 <p> 让我们来看看如何配置透明LDAP。</p> 
 <h2> 配置LDAP</h2> 
 <p> 要开始使用LDAP配置，需要配置LDAP服务器。</p> 
 <h3> LDAP服务器配置</h3> 
 <p> 创建一个slapd.conf的文件，它包含所有有关LDAP用户和组对象的信息。当安装LDAP服务器，默认情况下它被配置在机器上的基本LDAP目录树。</p> 
 <p> 下面所示的表表示修改后的文件配置。</p> 
 <p> 文本高亮度显示黄代码框表示为以下几点：</p> 
 <p> DBA user-id = “db2my1”, group = “db1my1adm”, password= “db2my1” ；管理员 user-id = “my1adm”, group = “dbmy1ctl”.</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># base dn: example.com </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
dn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com 
dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> example 
o</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> example 
objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> organization 
objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dcObject 
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># pc box db </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
dn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db697</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com 
dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db697 
o</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db697 
objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> organization 
objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dcObject 
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># Group: db</span>
  <sid style="box-sizing: border-box;">
   <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">adm </span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span>
   <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># </span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
dn</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> cn</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dbmy1adm</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db697</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com 
cn</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dbmy1adm 
objectClass</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> top 
objectClass</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> posixGroup 
gidNumber</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span>
   <span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">400</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
objectClass</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> groupOfNames 
member</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2my1</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">cn</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dbmy1adm</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db697</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com 
memberUid</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2my1 
</span>
   <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># </span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span>
   <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># User: db2</span>
   <sid style="box-sizing: border-box;">
    <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"> </span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span>
    <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># </span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
dn</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2my1</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">cn</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dbmy1adm</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db697</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com 
cn</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2my1 
sn</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2my1 
uid</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2my1 
objectClass</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> top 
objectClass</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> inetOrgPerson 
objectClass</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> posixAccount 
uidNumber</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span>
    <span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">400</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
gidNumber</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span>
    <span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">400</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
loginShell</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span>
    <span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/bin/</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">csh 
homeDirectory</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span>
    <span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/db2/</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2my1 
</span>
    <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># </span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span>
    <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># Group: db</span>
    <sid style="box-sizing: border-box;">
     <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">ctl </span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span>
     <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># </span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
dn</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> cn</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dbmy1ctl</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db697</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com 
cn</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dbmy1ctl 
objectClass</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> top 
objectClass</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> posixGroup 
gidNumber</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span>
     <span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">404</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
objectClass</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> groupOfNames 
member</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">my1adm</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">cn</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dbmy1adm</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db697</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com 
memberUid</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> my1adm 
</span>
     <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># </span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span>
     <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># User: </span>
     <sid style="box-sizing: border-box;">
      <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">adm </span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span>
      <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># </span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
dn</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">my1adm</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">cn</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dbmy1ctl</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db697</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com 
cn</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> my1adm 
sn</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> my1adm 
uid</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> my1adm 
objectClass</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> top 
objectClass</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> inetOrgPerson 
objectClass</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> posixAccount 
uidNumber</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span>
      <span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">404</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
gidNumber</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span>
      <span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">404</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
loginShell</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span>
      <span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/bin/</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">csh 
homeDirectory</span>
      <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span>
      <span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/home/</span>
      <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">my1adm </span>
     </sid>
    </sid>
   </sid>
  </sid></pre> 
 <p> 保存上面的文件为“/var/lib/slapd.conf'，然后通过以下命令将这些值添加到LDAP服务器执行此文件。这是一个linux命令;不是DB2命令。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">ldapadd r</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">D </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">‘</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Manager</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">”</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">–</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">W </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">–</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">f 
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">var</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">lib</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">slapd</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">conf </span></pre> 
 <p> 注册DB2用户和DB2组的LDAP服务器后，登录到已安装的实例和数据库的特定用户。需要配置LDAP客户端，以确认客户端在服务器的位置，无论是远程或本地。</p> 
 <h3> LDAP客户端配置</h3> 
 <p> LDAP客户端的配置保存在文件'ldap.conf'。可用于配置参数两个文件，一个是常见的，另一种是指定的。第一个在“/etc/ldap.conf”，而后者位于“/etc/openldap/ldap.conf”。</p> 
 <p> 下面的数据是常见的LDAP客户端提供的配置文件</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># File: /etc/ldap.conf  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># The file contains lots of more entries and many of them  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># are comments. You show only the interesting values for now  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
host localhost  
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">base</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
ldap_version </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">3</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
pam_password crypt  
pam_filter objectclass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">posixAccount  
nss_map_attribute uniqueMember member 
nss_base_passwd dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
nss_base_shadow dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
nss_base_group dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com </span></pre> 
 <p> 需要根据DB2配置改变服务器和域信息的位置。如果使用相同的系统服务器，提到它作为'localhost'为'host'和'基本'，可以配置中提到“slapd.conf”文件LDAP服务器。</p> 
 <p> 插入式验证模式（PAM）是用于身份验证服务的API。这是具有加密的密码和类型的posixAccount特殊LDAP对象LDAP身份验证的通用接口。这种类型的所有LDAP对象表示便携式操作系统界面（POSIX）帐户的属性。</p> 
 <p> 网络安全服务（NSS）是一组库，以支持安全功能的客户端和服务器应用程序的跨平台开发。这包括像SSL，TLS，PKCS S/MIME等安全标准库。</p> 
 <p> 需要指定基本DN这个接口和两个附加属性映射。 OpenLDAP客户端配置文件中包含如下条目：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">host localhost  
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">base</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com</span></pre> 
 <p> 直到这一点，刚才定义的主机LDAP的服务和基础DN。</p> 
 <h2> OpenLDAP验证环境</h2> 
 <p> 当配置LDAP服务器和LDAP客户端，通信同时验证。</p> 
 <p> 第一步：检查本地LDAP服务器正在运行。使用下面的命令：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">ps </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">ef </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">|</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> grep </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">i ldap</span></pre> 
 <p> 该命令应列出LDAP守护进程，表示LDAP服务器：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/usr/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">lib</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">openldap</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">slapd </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">h ldap</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">/// -u ldap -g ldap -o slp=on</span></pre> 
 <p> 这表示LDAP服务器正在运行，正在等待来自客户端的请求。如果没有这样的过程以前的命令就可以启动LDAP服务器，使用的“rcldap”命令。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">rcldap start </span></pre> 
 <p> 当服务器启动时，可以将文件“‘/var/log/messages/发出以下命令。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">tail </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">–</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">f </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">var</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">log</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">messages </span></pre> 
 <h2> 测试连接到LDAP服务器ldapsearch</h2> 
 <p> ldapsearch命令，打开到LDAP服务器的连接，结合它并执行它可以通过使用特殊的参数'-x'指定搜索查询使用-x参数，而不是一个简单的身份验证机制连接到LDAP服务器喜欢简单的身份验证和安全层更复杂的机制（SASL）</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">ldapsearch </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">–</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">x  </span></pre> 
 <p> LDAP服务器应该具有下面给出的回应答复，包含所有LDAP数据交换格式（LDIF）的LDAP条目。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># extended LDIF  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">#  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># LDAPv3  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># base &lt;&gt; with scope subtree  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># filter: (objectclass=*) </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># requesting: ALL  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># example.com  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
dn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> example  
o</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> example  
objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> organization  
objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dcObject  
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># search result  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
search</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">2</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
result</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">0</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Success</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># numResponses: 2  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># numEntries: 1  </span></pre> 
 <h2> 配置DB2</h2> 
 <p> 使LDAP服务器和客户机的工作后，需要配置DB2数据库使用LDAP。让我们来讨论如何安装和配置数据库使用LDAP环境，为DB2用户的认证过程。</p> 
 <h2> 配置DB2和LDAP互动插件</h2> 
 <p> IBM提供了一个免费的包LDAP插件DB2。 DB2包包括三个DB2安全性插件为每个以下内容：</p> 
 <ul> 
  <li> 服务器端验证</li> 
  <li> 客户端身份验证</li> 
  <li> 组查找</li> 
 </ul> 
 <p> 根据要求，可以使用任何三个插件或全部。这个插件不支持，其中一些用户在LDAP和其他定义的操作系统环境。如果决定使用LDAP插件，需要定义与LDAP服务器中的数据库相关联的所有用户。同样的原则也适用于组插件。</p> 
 <p> 必须决定哪些插件强制规定系统。在方案中使用的客户端身份验证插件，用户ID和密码验证提供一个连接或语句出现在客户端系统上。这样的数据库管理器配置参数SRVCON_AUTH或认证需要被设置为值客户端。客户端的认证是难以确保和通常不建议。服务器插件通常建议，因为它执行的用户ID和密码的服务器端验证，如果客户端执行CONNECT或附加声明，这是安全的方式。服务器插件还提供了一种映射LDAP用户ID DB2授权ID。</p> 
 <p> 现在，可以开始安装DB2安全性插件和配置，需要考虑DB2所需的目录信息树。DB2使用间接的授权，这意味着一个用户属于一个组，这个组被授予较少的部门。需要定义所有DB2用户和DB2组的LDAP目录。</p> 
 <h1> 图片/镜像</h1> 
 <p> LDIF文件openldap.ldif应包含下面的代码：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">#  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># LDAP root object  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># example.com  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">#  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
dn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> example  
o</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> example  
objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> organization  
objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dcObject 
 </span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">#  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 </span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># db2 groups  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 </span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">#  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 dn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dasadm1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
 cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dasadm1  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> top  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> posixGroup  
 gidNumber</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">300</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> groupOfNames 
 member</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dasusr1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dasadm1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
 memberUid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dasusr1  
 dn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2grp1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
 cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2grp1  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> top  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> posixGroup  
 gidNumber</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">301</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> groupOfNames  
 member</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2inst2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2grp1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  memberUid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2inst2  
 dn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2fgrp1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
 cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2fgrp1  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> top 
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> posixGroup  
 gidNumber</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">302</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> groupOfNames 
 member</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2fenc1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2fgrp1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
 memberUid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2fenc1  
 </span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">#  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 </span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);"># db2 users  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 </span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">#  </span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 dn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dasusr1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dasadm1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
 dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
 cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dasusr1  
 sn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dasusr1  
 uid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dasusr1  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> top  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> inetOrgPerson 
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> posixAccount 
 uidNumber</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">300</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
 gidNumber</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">300</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
 loginShell</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/bin/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">bash 
 homeDirectory</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/home/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dasusr1  
 dn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2inst2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2grp1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
 cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2inst2  
 sn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2inst2  
 uid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2inst2  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> top  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> inetOrgPerson  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> posixAccount  
 uidNumber</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">301</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
 gidNumber</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">301</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
 loginShell</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/bin/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">bash  
 homeDirectory</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/home/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2inst2  
 dn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2fenc1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2fgrp1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
 cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2fenc1  
 sn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2fenc1  
 uid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2fenc1  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> top  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> inetOrgPerson  
 objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> posixAccount  
 uidNumber</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">303</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
 gidNumber</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">303</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
 loginShell</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/bin/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">bash  
 homeDirectory</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/home/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2fenc1 
 </span></pre> 
 <p> 创建一个名为“db2.ldif”文件，并粘贴上面的例子进去。使用这个文件，添加定义结构LDAP目录。</p> 
 <p> 到DB2用户和DB2组添加到LDAP目录中，则需要用户为“rootdn”LDAP服务器绑定，以得到确切的特权。</p> 
 <p> 执行以下语法，以填补LDAP目录中的信息与在LDIF文件'db2.ldif“中定义所有的对象</p>   
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">ldapadd </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">–</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">x </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">–</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">D </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">“</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">cn</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Manager</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">”</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">–</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">W </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">–</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">f </span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">&lt;path&gt;</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">ldif </span></pre> 
 <p> 使用多个参数执行搜索结果</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">ldapsearch </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">–</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">x </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">|</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">more </span></pre> 
 <h2> 编写文件系统使用DB2</h2> 
 <p> 创建我们的LDAP用户db2inst2实例。此用户需要与主目录内的两个空文件的主目录。在创建一个新的实例，需要创建一个用户谁将会是实例的所有者。</p> 
 <p> 创建实例用户后，应该有创建文件“.profile”，并在用户主目录“.login'，这将是DB2进行修改。在目录中创建这个文件，执行以下命令：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">mkdir </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">home</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2inst2  
mkdir </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">home</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2inst2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">login 
mkdir </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">home</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2inst2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">profile  </span></pre> 
 <p> 已经注册了DB2的LDAP目录相关所有用户和组，现在可以使用名称为“db2inst2”的实例所有者ID“db2inst2”创建一个实例，并使用受防护用户ID“db2fenc1'，这是需要用户运行定义函数（UDF）或存储过程。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">/opt/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">ibm</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">V10</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">instance</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2icrt </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">–</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">u db2fenc1 db2inst2  
DBI1070I </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Program</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2icrt completed successfully</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  </span></pre> 
 <p> 现在检查的实例主目录。可以看到新的子目录所谓的“SQLLIB”和.profile文件和定制DB2使用.login文件。</p> 
 <h2> 配置认证公共插件在DB2 LDAP支持</h2> 
 <p> 所需的LDAP插件复制到相应目录DB2：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">cp            </span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">/</span>
  <db2_ldap_pakg style="box-sizing: border-box;">
   <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">/</span>
   <os style="box-sizing: border-box;">
    <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">/v10/IBMLDAPauthserver.so  </span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">home</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2inst2</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">sqllib</span>
    <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
    <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">security</span>
    <bit style="box-sizing: border-box;">
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">plugin</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">server</span>
     <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/.</span>
     <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
 
cp            </span>
     <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">/</span>
     <db2_ldap_pakg style="box-sizing: border-box;">
      <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">/</span>
      <os style="box-sizing: border-box;">
       <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">/v10/IBMLDAPgroups.so </span>
       <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span>
       <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
       <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">home</span>
       <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
       <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2inst2</span>
       <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
       <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">sqllib</span>
       <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
       <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">security</span>
       <bit style="box-sizing: border-box;">
        <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
        <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">plugin</span>
        <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
        <span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">group</span>
        <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/.</span>
       </bit>
      </os>
     </db2_ldap_pakg>
    </bit>
   </os>
  </db2_ldap_pakg></pre> 
 <p> 一旦插件被复制到指定目录下，登录到DB2实例所有者和更改数据库管理器配置使用这些插件。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Su</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">–</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2inst2  
db2inst2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2 update dbm cfg </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">using</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> svrcon_pw_plugin 
</span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">IBMLDAPauthserver</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
db2inst2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2 update dbm cfg </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">using</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> group_plugin 
</span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">IBMLDAPgroups</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
db2inst2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2 update dbm cfg </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">using</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> authentication 
SERVER_ENCRYPT 
db2inst2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2stop 
db2inst2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2start  </span></pre> 
 <p> 这一修改生效启动DB2实例之后。重新启动实例后，需要安装和配置名为“IBMLDAPSecurity.ini”，使DB2插件工作使用当前LDAP配置的主要DB2 LDAP配置文件。</p> 
 <p> IBMLDAPSecurity.ini文件包含</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;-----------------------------------------------------------</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> SERVER RELATED VALUES  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;-----------------------------------------------------------</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Name</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> of your LDAP server</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">s</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">).</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">This</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">is</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> a space separated list of LDAP server addresses</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">with</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> an optional port number </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">for</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> each one</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> host1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">[:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">port</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">]</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">[</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">host2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:[</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">port2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">]</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">...</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">]</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">The</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">default</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> port number </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">is</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">389</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">or</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">636</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">if</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> SSL </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">is</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> enabled</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
LDAP_HOST </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">my</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">ldap</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">server  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;-----------------------------------------------------------</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> USER RELATED VALUES  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;-----------------------------------------------------------</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
rs  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> LDAP </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">object</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">class</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> used </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">for</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">use</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> USER_OBJECTCLASS </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> posixAccount  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> LDAP user attribute that represents the </span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">"userid"</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">This</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> attribute </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">is</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> combined </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">with</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> the USER_OBJECTCLASS </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">and</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> USER_BASEDN </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">if</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> specified</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> to construct an LDAP search  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> filter </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">when</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> a user issues a DB2 CONNECT statement </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">with</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> an  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> unqualified userid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">For</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">using</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> the </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">default</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> values 
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">in</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">this</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> configuration file</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2 connect to MYDB user bob  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">using</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> bobpass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> results </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">in</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> the following search filter</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">OrgPerson</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)(</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">uid</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">bob</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">&amp;(</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">objectClass</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">inet USERID_ATTRIBUTE </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid  
representing the DB2 authorization ID  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> LDAP user attribute</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> AUTHID_ATTRIBUTE </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;-----------------------------------------------------------</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> GROUP RELATED VALUES  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;-----------------------------------------------------------</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
ps  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> LDAP </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">object</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">class</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> used </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">for</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> grou GROUP_OBJECTCLASS </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> groupOfNames  
at represents the name of the </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">group</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> LDAP </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">group</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> attribute th GROUPNAME_ATTRIBUTE </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> cn  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Determines</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> the method used to find the </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">group</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> memberships  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">for</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> a user</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Possible</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> values are</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">:</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> SEARCH_BY_DN </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Search</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">for</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> groups that list the user </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">as</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> a member</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Membership</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">is</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> indicated </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">by</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> the  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">group</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> attribute </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">defined</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">as</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> GROUP_LOOKUP_ATTRIBUTE</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">.</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> USER_ATTRIBUTE </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">-</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> A user</span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">'s groups are listed as attributes  
; of the user object itself. Search for the  
; user attribute defined as  
TRIBUTE to get the groups.  
; GROUP_LOOKUP_AT GROUP_LOOKUP_METHOD = SEARCH_BY_DN  
; GROUP_LOOKUP_ATTRIBUTE  
; Name of the attribute used to determine group membership,  
; as described above.  
llGroups  
; GROUP_LOOKUP_ATTRIBUTE = ibm-a GROUP_LOOKUP_ATTRIBUTE = member </span></pre> 
 <p> 现在，找到当前实例目录中的IBMLDAPSecurity.ini文件。上面的示例内容复制到相同的。</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Cp</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
</span><span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">/</span>
  <ibm_db_installation_directory style="box-sizing: border-box;">
   <span class="com" style="box-sizing: border-box; color: rgb(136, 0, 0);">/db2_ldap_pkg/IBMLDAPSecurity.ini  </span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">home</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2inst2</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">sqllib</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">cfg</span>
   <span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">/</span>
   <span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span>
  </ibm_db_installation_directory></pre> 
 <p> 现在，需要重新启动DB2实例，采用如下两种语法：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">db2inst2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2stop 

</span><span class="typ" style="box-sizing: border-box; color: rgb(127, 0, 85);">Db2inst2</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">&gt;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> db2start </span></pre> 
 <p> 此时，如果尝试'db2start“命令，会得到安全错误消息。因为DB2的安全配置还没有正确配置LDAP环境。</p> 
 <h2> 定制两种配置</h2> 
 <p> 保持LDAP_HOST名称可修改处理，其配置在slapd.conf文件中。</p> 
 <p> 现在编辑 IMBLDAPSecurity.ini 文件，并键入LDAP_HOST名称。同时在所述文件中的LDAP_HOST名称必须相同。</p> 
 <p> 文件的内容如下所示：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">      </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;-----------------------------------------------------------</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
      </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> SERVER RELATED VALUES  
      </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;-----------------------------------------------------------</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
      LDAP_HOST </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> localhost  
      </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;-----------------------------------------------------------</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
      </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> USER RELATED VALUES  
      </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">----------------------------</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
      </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;-------------------------------</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
      USER_OBJECTCLASS </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> posixAccount  
      USER_BASEDN </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
      USERID_ATTRIBUTE </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid  
      AUTHID_ATTRIBUTE </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> uid  
      </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;-----------------------------------------------------------</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
      </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> GROUP RELATED VALUES  
      </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">;-----------------------------------------------------------</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  
      GROUP_OBJECTCLASS </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> groupOfNames 
	  GROUP_BASEDN </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">example</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">dc</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">com  
      GROUPNAME_ATTRIBUTE </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> cn  
      GROUP_LOOKUP_METHOD </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> SEARCH_BY_DN  
      GROUP_LOOKUP_ATTRIBUTE </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> member </span></pre> 
 <p> 改变这些值后，LDAP立即生效，并与LDAP DB2环境完美地工作。</p> 
 <p> 可以注销并重新登录到“db2inst2”的用户。</p> 
 <p> 现在，实例正在使用LDAP目录。</p> 
 <br>      
</div></body></html>