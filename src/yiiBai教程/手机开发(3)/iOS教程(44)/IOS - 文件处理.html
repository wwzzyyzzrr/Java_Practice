<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">IOS - 文件处理</h1><div style="width:100%;float:left;" class="article-content">   
 <h2> 简介</h2> 
 <p> 文件处理不能直观地与应用程序进行说明，因此，用于处理文件的主要方法解释如下。请注意，应用程序包只有读取权限，我们不会修改文件。无论如何，我们可以修改应用程序的文件目录。</p> 
 <h2> 文件处理的方法</h2> 
 <p> 下面列出了用于访问和操作文件的方法的列表中。下面我们就来替换，FilePath2 FILEPATH 和 FilePath1字符串到我们所需的完整的文件路径，以获得所需的动作</p> 
 <h2> 检查文件是否存在一个路径中</h2> 
 <pre class="prettyprint prettyprinted" style="width: 549.7742919921875px; font-size: 13.333333969116211px;">
<span class="pln" style="margin: 0px; padding: 0px;">   </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSFileManager</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">*</span><span class="pln" style="margin: 0px; padding: 0px;">fileManager </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSFileManager</span><span class="pln" style="margin: 0px; padding: 0px;"> defaultManager</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">];</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="com" style="margin: 0px; padding: 0px; color: rgb(136, 0, 0);">//Get documents directory</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSArray</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">*</span><span class="pln" style="margin: 0px; padding: 0px;">directoryPaths </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSSearchPathForDirectoriesInDomains</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSDocumentDirectory</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSUserDomainMask</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span class="pln" style="margin: 0px; padding: 0px;"> YES</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSString</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">*</span><span class="pln" style="margin: 0px; padding: 0px;">documentsDirectoryPath </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span class="pln" style="margin: 0px; padding: 0px;">directoryPaths objectAtIndex</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:</span><span class="lit" style="margin: 0px; padding: 0px; color: rgb(0, 102, 102);">0</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">];</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">if</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">([</span><span class="pln" style="margin: 0px; padding: 0px;">fileManager fileExistsAtPath</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">""</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">]==</span><span class="pln" style="margin: 0px; padding: 0px;">YES</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">)</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span class="pln" style="margin: 0px; padding: 0px;">
        </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSLog</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"File exists"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span class="pln" style="margin: 0px; padding: 0px;">
    </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span class="pln" style="margin: 0px; padding: 0px;">    </span></pre> 
 <h2> 比较两个文件的内容</h2> 
 <pre class="prettyprint prettyprinted" style="width: 549.7742919921875px; font-size: 13.333333969116211px;">
<span class="pln" style="margin: 0px; padding: 0px;">   </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">if</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">([</span><span class="pln" style="margin: 0px; padding: 0px;">fileManager contentsEqualAtPath</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"FilePath1"</span><span class="pln" style="margin: 0px; padding: 0px;"> andPath</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">" FilePath2"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">])</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span class="pln" style="margin: 0px; padding: 0px;">
      </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSLog</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"Same content"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span></pre> 
 <h2> 检查是否可写，可读和可执行</h2> 
 <pre class="prettyprint prettyprinted" style="width: 549.7742919921875px; font-size: 13.333333969116211px;">
<span class="pln" style="margin: 0px; padding: 0px;">   </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">if</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">([</span><span class="pln" style="margin: 0px; padding: 0px;">fileManager isWritableFileAtPath</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"FilePath"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">])</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span class="pln" style="margin: 0px; padding: 0px;">
      </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSLog</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"isWritable"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">if</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">([</span><span class="pln" style="margin: 0px; padding: 0px;">fileManager isReadableFileAtPath</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"FilePath"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">])</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span class="pln" style="margin: 0px; padding: 0px;">
      </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSLog</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"isReadable"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">if</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span class="pln" style="margin: 0px; padding: 0px;">fileManager isExecutableFileAtPath</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"FilePath"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">]){</span><span class="pln" style="margin: 0px; padding: 0px;">
      </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSLog</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"is Executable"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span></pre> 
 <h2> 移动文件</h2> 
 <pre class="prettyprint prettyprinted" style="width: 549.7742919921875px; font-size: 13.333333969116211px;">
<span class="pln" style="margin: 0px; padding: 0px;">   </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">if</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">([</span><span class="pln" style="margin: 0px; padding: 0px;">fileManager moveItemAtPath</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"FilePath1"</span><span class="pln" style="margin: 0px; padding: 0px;"> 
   toPath</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"FilePath2"</span><span class="pln" style="margin: 0px; padding: 0px;"> error</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:</span><span class="pln" style="margin: 0px; padding: 0px;">NULL</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">]){</span><span class="pln" style="margin: 0px; padding: 0px;">
      </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSLog</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"Moved successfully"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span></pre> 
 <h2> 复制文件</h2>   
 <pre class="prettyprint prettyprinted" style="width: 549.7742919921875px; font-size: 13.333333969116211px;">
<span class="pln" style="margin: 0px; padding: 0px;">   </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">if</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">([</span><span class="pln" style="margin: 0px; padding: 0px;">fileManager copyItemAtPath</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"FilePath1"</span><span class="pln" style="margin: 0px; padding: 0px;"> 
   toPath</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"FilePath2"</span><span class="pln" style="margin: 0px; padding: 0px;">  error</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:</span><span class="pln" style="margin: 0px; padding: 0px;">NULL</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">])</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span class="pln" style="margin: 0px; padding: 0px;">
      </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSLog</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"Copied successfully"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span></pre> 
 <h2> 删除文件</h2> 
 <pre class="prettyprint prettyprinted" style="width: 549.7742919921875px; font-size: 13.333333969116211px;">
<span class="pln" style="margin: 0px; padding: 0px;">   </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">if</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">([</span><span class="pln" style="margin: 0px; padding: 0px;">fileManager removeItemAtPath</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"FilePath"</span><span class="pln" style="margin: 0px; padding: 0px;"> error</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:</span><span class="pln" style="margin: 0px; padding: 0px;">NULL</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">])</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span class="pln" style="margin: 0px; padding: 0px;">
      </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSLog</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"Removed successfully"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span></pre> 
 <h2> 读取文件</h2> 
 <div style="float:left;margin-bottom: 10px;">  
 </div>
 <div style="float:left;margin-bottom: 10px;">  
 </div>
 <pre class="prettyprint prettyprinted" style="width: 549.7742919921875px; font-size: 13.333333969116211px;">
<span class="pln" style="margin: 0px; padding: 0px;">   </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">NSData</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">*</span><span class="pln" style="margin: 0px; padding: 0px;">data </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span class="pln" style="margin: 0px; padding: 0px;">fileManager contentsAtPath</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"Path"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">];</span></pre> 
 <h2> 写文件</h2> 
 <pre class="prettyprint prettyprinted" style="width: 549.7742919921875px; font-size: 13.333333969116211px;">
<span class="pln" style="margin: 0px; padding: 0px;">   </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span class="pln" style="margin: 0px; padding: 0px;">fileManager createFileAtPath</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:@</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">""</span><span class="pln" style="margin: 0px; padding: 0px;"> contents</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:</span><span class="pln" style="margin: 0px; padding: 0px;">data attributes</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:</span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">nil</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">];</span></pre> 
 <h2> 接下来是什么？</h2> 
 <p> 我们已经成功地了解各种文件访问和操纵技术，现在可以做各种操作文件和使用。</p> 
 <br>      
</div></body></html>