<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Meteor跟踪器</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    跟踪器是用于当模板会话变量发生了变化自动更新的一个小型库。 
  </div> 
 </div> 
 <div> 
  <div>
    为了向你展示跟踪器是如何工作的，我们将创建按钮将用于更新会话。 
  </div> 
  <p> <strong>meteorApp/import/ui/meteorApp.html</strong> </p> 
  <pre>&lt;head&gt;
   &lt;title&gt;meteorApp&lt;/title&gt;
&lt;/head&gt;
 
&lt;body&gt;
   &lt;div&gt;
      {{&gt; myTemplate}}
   &lt;/div&gt;
&lt;/body&gt;
 
&lt;template name = "myTemplate"&gt;
   &lt;button id = "myButton"&gt;CLICK ME&lt;/button&gt;
&lt;/template&gt;&nbsp;</pre> 
  <p style="text-align:justify;"> 下一步，我们将设置启动会话&nbsp;myData&nbsp;的值，并创建Session&nbsp;对象。Tracker.autorun方法用于持续关注&nbsp;mySession&nbsp;的值。每当这个对象的变化，该模板将自动更新。为了测试它，我们将设置单击事件进行更新。 </p> 
  <p> <strong>meteorApp/client/main.js</strong> </p> 
  <pre>if (Meteor.isClient) {
  
   var myData = 0
   Session.set('mySession', myData);

   Tracker.autorun(function () {
      var sessionData = Session.get('mySession');
      console.log(sessionData)
   });

   Template.myTemplate.events({
      'click #myButton': function(){
         Session.set('mySession', myData ++);
      }
   });
}</pre> 
  <div>
    如果我们点击 Click&nbsp;Me 按钮五次，我们将看到跟踪每一次日志新值会更新。
   <br> 
   <img src="/uploads/tutorial/20160424/1-16042420493c18.jpg" alt="">
   <br> 
  </div> 
  <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/cc229878020141aa86ce1e5aa85badae/tracker-log.jpeg" alt="Meteor Tracker Log">
  <br> 
 </div>
 <br>      
</div></body></html>