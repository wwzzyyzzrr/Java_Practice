<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Cordova第一个应用</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    在上一个教程中，我们学习了如何安装Cordova&nbsp;并设置了环境。在这一个节中我们创建第一个混合Cordova应用程序。 
  </div> 
 </div> 
 <div> 
  <h2> 第1步 - 创建App </h2> 
  <div>
    在命令提示符下打开要安装应用程序的目录。我们将在桌面上创建它。 
  </div> 
  <pre>D:\worksp\cordova&gt;cordova create CordovaProject io.cordova.hellocordova CordovaApp</pre> 
  <ul style="background-color:inherit;color:#313131;font-family:Verdana, Geneva, Tahoma,  Helvetica,;"> 
   <li> <p style="text-align:justify;"> CordovaProject&nbsp;是创建应用程序的目录名。 </p> </li> 
   <li> <p style="text-align:justify;"> io.cordova.hellocordova&nbsp;是默认的反向域名值(类似Java包的命名)。如果可能使用自己的域名的值。 </p> </li> 
   <li> <p style="text-align:justify;"> CordovaApp&nbsp;是应用程序的标题。 </p> </li> 
  </ul> 
  <h2> 第2步 -&nbsp;添加平台 </h2> 
  <p style="text-align:justify;"> 你需要在命令提示符下，打开您的项目目录。在我们的例子是CordovaProject。您应该只选择您需要的平台。为了能够使用指定的平台，你需要安装特定的平台SDK。由于我们使用的是Windows开发，我们可以使用下面的平台。我们还安装了Android&nbsp;SDK中，所以我们将只针对安装Android平台来讲解本教程。 </p> 
  <pre><span style="background-color:inherit;font-family:微软雅黑;font-size:14px;line-height:1.5;">D:\worksp\cordova\CordovaProject</span>&gt; cordova platform add android</pre> 
  <div>
    有时候也可以在Windows操作系统中使用其他平台。 
  </div> 
  <pre><span style="background-color:inherit;font-family:微软雅黑;font-size:14px;line-height:1.5;">D:\worksp\cordova\CordovaProject</span>\CordovaProject&gt;cordova platform add wp8</pre> 
  <pre><span style="background-color:inherit;font-family:微软雅黑;font-size:14px;line-height:1.5;">D:\worksp\cordova\CordovaProject</span>\CordovaProject&gt;cordova platform add amazon-fireos</pre> 
  <pre><span style="background-color:inherit;font-family:微软雅黑;font-size:14px;line-height:1.5;">D:\worksp\cordova\CordovaProject</span>\CordovaProject&gt;cordova platform add windows</pre> 
  <pre><span style="background-color:inherit;font-family:微软雅黑;font-size:14px;line-height:1.5;">D:\worksp\cordova\CordovaProject</span>\CordovaProject&gt;cordova platform add blackberry10</pre> 
  <pre><span style="background-color:inherit;font-family:微软雅黑;font-size:14px;line-height:1.5;">D:\worksp\cordova\CordovaProject</span>\CordovaProject&gt;cordova platform add firefoxos&nbsp;</pre> 
  <p style="text-align:justify;"> 如果您在Mac上开发，可以使用&nbsp;− </p> 
  <pre>$ cordova platform add IOS</pre> 
  <pre>$ cordova platform add amazon-fireos</pre> 
  <pre>$ cordova platform add android</pre> 
  <pre>$ cordova platform add blackberry10</pre> 
  <pre>$ cordova platform add firefoxos&nbsp;</pre> 
  <p style="font-family:Verdana, Geneva, Tahoma,  Helvetica, text-align:justify;font-size:15px !important;background-color:inherit;"> <span style="background-color:inherit;font-family:微软雅黑;font-size:14px;line-height:1.5;">您也可以从项目中删除使用的平台&nbsp;</span>− </p> 
  <pre>D:\worksp\cordova\CordovaProject&gt;cordova platform rm android</pre> 
  <h2> 
   <div>
     第3步&nbsp;- 构建和运行 
   </div> </h2> 
  <div>
    在这一步中，我们正在为应用程序指定平台，所以我们可以在移动设备或模拟器中运行它。 
  </div> 
  <pre>D:\worksp\cordova\CordovaProject&gt; cordova build android</pre> 
  <div>
    执行上面的命令后，它会自动下载相关依赖包，需要等一段时间(根据你的网络带宽决定时间)。注：每次修改HMTL代码最好重新构建过代码。
   <br> 
   <img src="http://www.yiibai.com/uploads/tutorial/20160217/1-16021G53640144.png" alt="">
   <br> 
  </div> 
  <div>
    现在我们可以运行应用程序。如果使用的是默认的模拟器，应该使用&nbsp;- 
  </div> 
  <pre>D:\worksp\cordova\CordovaProject&gt; cordova emulate android</pre> 
  <div> 
   <img src="/uploads/tutorial/20160217/1-16021GG233H8.png" alt="">
   <br> 如上提示，需要更新模拟器到最新的 android-23 版本，在 Android Studio 中配置并更新对应的 SDK 版本后再次执行，它将启动模拟器(比较慢，需要点耐心)。如下图：
   <br> 
   <img src="/uploads/tutorial/20160217/1-16021GGU4103.png" alt="">
   <br> 
  </div> 
  <div>
    当仿真器启动后，可使用仿真器或真实设备应调试使用&nbsp;- 
  </div> 
  <pre>D:\worksp\cordova\CordovaProject&gt; cordova run android&nbsp;</pre> 
  <p style="text-align:justify;"> 注&nbsp;- 可以考虑使用 genymotion&nbsp;Android 模拟器，因为它比默认的速度更快，反应更迅速。可以从这里<a target="_blank" href="https://www.genymotion.com/">下载</a>。也可以通过启用选项从USB调试，并通过USB连接线将其连接到您的电脑使用真实的设备进行测试。&nbsp;对于某些特定设备还需要安装USB驱动程序。 </p> 
  <p> 打开 Android Studio 导入上面创建成功的工程，运行这个工程，得到结果如下： </p> 
  <p style="text-align:justify;"> 当我们运行应用程序，将在我们指定平台上安装它。如果一切都没有错误并执行完成后，输出显示的默认启动应用程序的屏幕如下所示。 </p> 
 </div> 
 <div> 
  <img src="/uploads/tutorial/20160217/1-16021GG94V00.png" alt="">
  <br> 
 </div> 
 <div>
   可能出错信息：
  <br> 
  <pre class="prettyprint lang-bsh">D:\worksp\cordova\CordovaProject&gt;cordova build android
ERROR building one of the platforms: Failed to find 'ANDROID_HOME' environment v
ariable. Try setting setting it manually.
Failed to find 'android' command in your 'PATH'. Try update your 'PATH' to inclu
de path to valid SDK directory.
You may not have the required environment or OS to build this project
Error: Failed to find 'ANDROID_HOME' environment variable. Try setting setting i
t manually.
Failed to find 'android' command in your 'PATH'. Try update your 'PATH' to inclu
de path to valid SDK directory.</pre> 
 </div> 
 <div> 
  <p> 解决参考：配置环境变量 </p> 
  <pre>ANDROID_HOME=E:\Program Files\adt-bundle-windows-x86_64-<span style="background-color:inherit;color:#006666;">20131030</span>\sdk
PATH=<span style="background-color:inherit;color:#660066;">%PATH</span><span style="background-color:inherit;color:#660066;">%;</span><span style="background-color:inherit;color:#660066;">%ANDROID_HOME</span><span style="background-color:inherit;color:#660066;">%\</span>tools;<span style="background-color:inherit;color:#660066;">%ANDROID_HOME</span><span style="background-color:inherit;color:#660066;">%\</span>platform-tools</pre> 
 </div> 
 <div> 
  <p> 附上cordova常用命令列表 </p> 
  <table border="1" cellpadding="2" cellspacing="0" style="font-size:14px;color:#444444;font-family:'Microsoft YaHei', Verdana, sans-serif, 宋体;"> 
   <tbody> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> 命令 </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 说明 </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> cordova create &lt;工程路径&gt; &lt;包名&gt; &lt;工程名&gt; </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 创建cordova工程，例如：cordova create helloworld_prj "com.yiibai.helloworld" "helloworld" </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> cordova build android </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 给cordova项目添加android平台。 </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> cordova run android<br> </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 编译和运行项目。 </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> cordova install android<br> </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 将编译好的应用程序安装到模拟器上。 </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> cordova plugin add &lt;<span style="background-color:inherit;font-size:13px;">插件完全限定名&gt;</span> </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 给项目添加插件。 </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> cordova plugin remove &lt;<span style="background-color:inherit;font-size:13.3333px;">插件完全限定名&gt;</span> </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 删除插件。 </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> cordova plugin list<br> </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 查看插件列表。 </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> cordova platforms add android&nbsp;<br> </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 添加平台支持。 </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> cordova build android<br> </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 编译代码<br> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> cordova emulate android<br> </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 在模拟器上运行(前提是创建好AVD)<br> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> cordova serve android<br> </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 在浏览器运行&nbsp;<br> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> cordova run android<br> </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> 通过USB直接安装到真机 </td> 
    </tr> 
   </tbody> 
  </table> 在我们接下来的教程中，我们将告诉你如何配置Cordova应用。 
 </div>
 <br>      
</div></body></html>