<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Cordova白名单</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    这个插件可以让我们实现对应用程序白名单导览策略。当我们创建新的&nbsp;Cordova&nbsp;项目，白名单插件默认安装并执行。您可以打开config.xml文件看看&nbsp;Cordova提供&nbsp;allow-intent&nbsp;默认设置。 
  </div> 
 </div> 
 <div> 
  <h2> 
   <div>
     导航白名单 
   </div> </h2> 
  <p style="text-align:justify;"> 在简单的例子，下面我们允许链接到一些外部URL。此代码放置在 config.xml 中。导航到&nbsp;file://&nbsp;URL 默认是允许的。 </p> 
  <pre>&lt;allow-navigation href = "http://example.com/*" /&gt;&nbsp;</pre> 
  <p style="text-align:justify;"> 星号符号，*，用于允许导览到多个值。&nbsp;在上面的例子中，我们允许导览到 example.com 所有子域。同样可以应用到协议或前缀到主机。 </p> 
  <pre>&lt;allow-navigation href = "*://*.example.com/*" /&gt;</pre> 
  <h2> 
   <div>
     意图白名单 
   </div> </h2> 
  <p style="text-align:justify;"> 还有它用allow-intent&nbsp;元素来指定哪些网址系统可以打开&nbsp;。可以在config.xml中看到&nbsp;Cordova&nbsp;已经允许对我们来说需要的一些链接。 </p> 
  <h2> 
   <div>
     网络请求白名单 
   </div> </h2> 
  <p style="text-align:justify;"> 当看到config.xml文件里面，有&nbsp;&lt;access&nbsp;origin="*"&nbsp;/&gt;元素。这个元素允许应用程序通过&nbsp;Cordova&nbsp;钩子所有的网络请求。&nbsp;如果你想只允许特定的请求，可以从 config.xml 中删除，并自行设置。 </p> 
  <div>
    如前面实例相同的原理。 
  </div> 
  <pre>&lt;access origin = "http://example.com" /&gt;&nbsp;</pre> 
  <p style="text-align:justify;"> 这将允许来自所有网络请求&nbsp;http://example.com. </p> 
  <h2> 
   <div>
     内容安全策略 
   </div> </h2> 
  <div>
    可以看到当前的安全策略在应用程序的 index.htmll 中头元素中。 
  </div>   
  <pre>&lt;meta http-equiv = "Content-Security-Policy" content = "default-src 
   'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 
   'self' 'unsafe-inline'; media-src *"&gt;&nbsp;</pre> 
  <p style="text-align:justify;"> 这是默认配置。如果你想允许一切从同一来源和 example.com 可以使用&nbsp;− </p> 
  <pre>&lt;meta http-equiv = "Content-Security-Policy" content = "default-src 'self' foo.com"&gt;</pre> 
  <div>
    还可以允许的一切，但限制CSS和JavaScript相同的源。 
  </div> 
  <pre>&lt;meta http-equiv = "Content-Security-Policy" content = "default-src *; 
   style-src 'self' 'unsafe-inline'; script-src 'self' 
   'unsafe-inline' 'unsafe-eval'"&gt;</pre> 
  <div>
    由于这是初学者教程中，我们推荐的默认Cordova&nbsp;选项。当熟悉了Cordova&nbsp;，你可以尝试设置一些不同的值。 
  </div> 
  <div> 
   <br> 
  </div> 
 </div>
 <br>      
</div></body></html>