<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Android Hello World示例</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在开始使用Android SDK编写第一个示例之前，必须确保已经按照<a target="_blank" href="http://www.yiibai.com/android/android_environment_setup.html" title="Android环境设置教程">Android环境设置教程</a>中的说明正确设置了您的Android开发环境。</p> 
 <p>下面来看看如何编写一个简单的Android应用程序，它将打印“Hello World！”。</p> 
 <blockquote> 
  <p>注：理解这篇教程，对后面的学习非常重要。了解项目中每个目录和每个文件的功能和作用。</p> 
 </blockquote> 
 <h2 id="h2--android-"><a name="创建Android应用程序" class="reference-link"></a><span class="header-link octicon octicon-link"></span>创建Android应用程序</h2>
 <p>第一步是使用Android Studio创建一个简单的Android应用程序。 当点击Android Studio图标启动完成时，它将显示如下所示的屏幕 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1812/566141241_23604.png" alt=""></p> 
 <p>可以通过调用<em>Start a new Android Studio Project</em> 来开始创建应用程序开发。 在新的安装框架中应询问应用程序名称，包装信息和项目的位置。<img src="http://www.yiibai.com/uploads/images/201712/1812/363141244_14761.png" alt=""></p> 
 <p>输入应用程序名称(<em>HelloWorld</em>)后，选择应用程序运行的Android目标设备，在这里需要指定最小的SDK，在这个教程中，选择最小SDK为 <em>API 21：Android 5.0(Lollipop)</em> -</p> 
 <p>下一级安装应该包含选择移动设备的活动，它指定应用程序的默认布局。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1812/522141249_46800.png" alt=""></p> 
 <p>选择一个空的<code>Activity</code>，如下所示 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1812/944141251_35853.png" alt=""></p> 
 <p>配置<code>Activity</code>，默认即可，点击<em>完成</em>。如下所示 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1812/820141253_37785.png" alt=""></p> 
 <p>在完成之后，开发开发工具将显示如下界面，我们可以开始编写应用程序的代码了。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1812/401151202_87133.png" alt=""></p> 
 <h2 id="h2-u8FD0u884Cu5E94u7528u7A0Bu5E8F"><a name="运行应用程序" class="reference-link"></a><span class="header-link octicon octicon-link"></span>运行应用程序</h2>
 <p>下面来看看，如何运行这个<code>"Hello World！"</code> 应用程序。假设您在创建环境的时候创建了AVD。 要从Android Studio运行应用程序，请打开项目的一个活动文件，然后单击工具栏上的“运行app”图标。如下图中箭头指向的位置 -<br><img src="http://www.yiibai.com/uploads/images/201712/1812/249151206_22365.png" alt=""></p> 
 <p>选择<em>发布目标</em>，如下图所示 -<br><img src="http://www.yiibai.com/uploads/images/201712/1812/637151208_29688.png" alt=""></p> 
 <blockquote> 
  <p>注意：在这个过程中，<em>Android Studio</em> 可能需要安装一些其它的依懒组件，这就要求必须能连接到互联网络了。安装过程如下 - </p> 
 </blockquote> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1812/133151211_56377.png" alt=""></p> 
 <p><em>Android Studio</em> 在配置的AVD上安装应用程序并启动它，如果您的设置和应用程序一切正常，它将显示以下“模拟器”窗口 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1812/471211248_89123.png" alt=""></p> 
 <h2 id="h2-android-"><a name="Android项目结构概述" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Android项目结构概述</h2>
 <p>以下是<em>Android Studio</em>中的的项目结构图：</p> 
 <p>下面对上面文件或目录的解释 -</p> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>文件或目录</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td><code>AndroidManifest.xml</code></td> 
    <td>这是清单文件，它描述了应用程序的基本特征并定义了它的每个组件。</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td><code>java</code></td> 
    <td>这包含项目的<code>.java</code>源文件。 默认情况下，它包含一个具有活动类的<code>MainActivity.java</code>源文件，该<code>Activity</code>类在应用程序使用应用程序图标启动时运行。</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td><code>res/drawable</code></td> 
    <td>以前的Android版本使用这个文件夹来存储图像，当前版本使用<code>mipmap</code>文件夹来存储图像。这个目录几乎不再使用。</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td><code>res/layout</code></td> 
    <td>这是定义应用程序用户界面的文件的目录。</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td><code>res/menu</code></td> 
    <td>包含将显示在操作栏上的项目的XML菜单文件夹</td> 
   </tr> 
   <tr> 
    <td>6</td> 
    <td><code>res/mipmap</code></td> 
    <td>使用来包含<code>mipmap</code>图像</td> 
   </tr> 
   <tr> 
    <td>7</td> 
    <td><code>res/values</code></td> 
    <td>这是包含资源集合(如字符串和颜色定义)的其他各种XML文件的目录。</td> 
   </tr> 
  </tbody> 
 </table> 
 <h4 id="h4-1-androidmanifest-xml"><a name="1. AndroidManifest.xml" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1. AndroidManifest.xml</h4>
 <p>无论您作为应用程序的一部分开发什么组件，都必须在<code>AndroidManifest.xml</code>中声明其所有组件。这个文件作为Android OS和应用程序之间的接口，所以如果没有在这个文件中声明你的组件，那么操作系统将不会考虑它。 例如，默认清单文件将如下面的文件所示 -</p> 
 <pre><code class="lang-xml">

</code></pre> 
 <h4 id="h4-2-res-mipmap"><a name="2. res/mipmap" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2. res/mipmap</h4>
 <p>需要更多地了解<code>mipmap</code>文件夹中的图像，请参阅下面的图像，<code>mipmap</code>文件夹中有一个图像文件。</p> 
 <p>在使用Android应用程序时偶尔遇到的一个问题是，比如看到的图像比较模糊，像素化或笨拙地拉伸。 解决此问题的方法是为Android支持的每种密度创建一个可绘制的文件夹，并将正确缩放的图像放在每个文件夹中。 Android支持6种不同的密度范围(以每英寸点数衡量)：</p> 
 <ul> 
  <li><em>ldpi</em>：低密度屏幕; 大约<em>120dpi</em>。</li>
  <li><em>mdpi</em>：中等密度(在传统的HVGA)屏幕上; 大约<em>160dpi</em>。</li>
  <li><em>hdpi</em>：高密度屏幕; 大约<em>240dpi</em>。</li>
  <li><em>xhdpi</em>：超高密度屏幕; 大约<em>320dpi</em>。 在API级别8中添加</li>
  <li><em>nodpi</em>：这可以用于位图资源，不想缩放到匹配设备密度。</li>
  <li><em>tvdpi</em>：屏幕介于<em>mdpi</em>和<em>hdpi</em>之间; 大约<em>213dpi</em>。这不被视为“主要”密度组。 它主要用于电视机，大多数应用程序不需要它 - 为大多数应用程序提供<em>mdpi</em>和<em>hdpi</em>资源已足够，系统将根据需要进行扩展。此限定符是在API级别<code>13</code>中引入的。</li>
 </ul> 
 <h2 id="h2-android-activity-"><a name="Android Activity生命周期" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Android Activity生命周期</h2>
 <p>首先，了解<em>Activity</em>是什么？<br><code>Activity</code>是支持屏幕或UI的Java代码。换句话说，用户界面的构建块就是<code>Activity</code>。 <code>Activity</code>类是Android中的一个预定义类，每个拥有UI的应用程序都必须继承它来创建窗口。<br>例如，<code>MainActivity</code>类是一个<code>Activity</code>，它从库中的<code>Activity</code>类扩展而来。 下图说明了一个<code>Activity</code>的生命周期。</p> 
 <p><code>Activity</code>的一个生命周期描述了一个<code>Activity</code>开始启动后的进程，直到应用程序关闭。 包括<code>Activity</code>暂时停止的进程，恢复等等。<br><img src="http://www.yiibai.com/uploads/images/201712/1912/991141221_91702.png" alt=""></p> 
 <p>为了更容易理解，可以修改<code>MainActivity</code>类的代码，覆盖<code>onStart()</code>，<code>onResume()</code>等方法，添加显示方法已经运行的消息。重新运行应用程序，看看会发生什么？</p>   
 <pre><code class="lang-java">package com.yiibai.myapplication;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.Menu;
import android.view.MenuItem;

public class MainActivity extends AppCompatActivity {
    public static final String TAG ="MyMessage";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        // Print Log
        Log.i(TAG,"onCreate");
    }

    @Override
    protected void onStop() {
        super.onStop();
        // Print Log
        Log.i(TAG,"onStop");
    }

    @Override
    protected void onDestroy() {
        super.onDestroy();
        // Print Log
        Log.i(TAG,"onDestroy");
    }

    @Override
    protected void onPause() {
        super.onPause();
        // Print Log
        Log.i(TAG,"onPause");
    }

    @Override
    protected void onResume() {
        super.onResume();
        // Print Log
        Log.i(TAG,"onResume");      }

    @Override
    protected void onStart() {
        super.onStart();
        // Print Log
        Log.i(TAG,"onStart");
    }

    @Override
    protected void onRestart() {
        super.onRestart();
        // Print Log
        Log.i(TAG,"onRestart");      }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        // Print Log
        Log.i(TAG, "onCreateOptionsMenu");
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        // Print Log
        Log.i(TAG, "onOptionsItemSelected");

        // Handle action bar item clicks here. The action bar will
        // automatically handle clicks on the Home/Up button, so long
        // as you specify a parent activity in AndroidManifest.xml.
        int id = item.getItemId();

        return super.onOptionsItemSelected(item);
    }
}
</code></pre> 
 <p>重新运行应用程序，并且看到记录在<code>logcat</code>窗口上的消息。<br><img src="http://www.yiibai.com/uploads/images/201712/1912/977191212_17377.png" alt=""></p> 
 <p>可以将筛选器设置为<code>logcat</code>，只显示日志记录的消息。<br><img src="http://www.yiibai.com/uploads/images/201712/1912/858191214_20043.png" alt=""></p> 
 <p>过滤器名称：<code>My Filter</code><br>日志标记(正则表达式)：<code>MyMessage</code><br><img src="http://www.yiibai.com/uploads/images/201712/1912/614191214_32930.png" alt=""></p> 
 <p>现在，<em>logcat</em> 窗口只显示指定的消息。<br><img src="http://www.yiibai.com/uploads/images/201712/1912/769191215_41095.png" alt=""></p> 
 <h2 id="h2-android-"><a name="Android应用程序如何运行？" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Android应用程序如何运行？</h2>
 <p>您已经成功运行了第一个Android应用程序，现在来回顾一下从应用程序调用以来Android如何运行。<br><img src="http://www.yiibai.com/uploads/images/201712/1912/422141237_84796.png" alt=""></p> 
 <p>在“项目”窗口中看到的不是涉及创建应用程序的所有组件。有些组件是由编译器程序自动生成的。 而且它不显示在项目窗口上。 例如，根据项目中源文件的结构，编译器将创建一个<em>R.java</em> 源文件，该文件为项目上的资源定义常量。<br>要在Android Studio上查看<em>R.java</em> 文件，请打开<code>MainActivity</code>类，右键单击<code>R.layout.main_activity</code>，然后选择执行(<em>Go to / Implementation</em>)<br><img src="http://www.yiibai.com/uploads/images/201712/1912/654141235_52875.png" alt=""><br><img src="http://www.yiibai.com/uploads/images/201712/1912/781141236_42907.png" alt=""></p> 
 <p>在<em>R.java</em>类中定义的常量是根据<em>Project</em>中的资源来创建的：<br><img src="http://www.yiibai.com/uploads/images/201712/1912/587141234_21562.png" alt=""></p> 
 <p>因此，在项目的某个地方，可以使用常量来引用项目中的资源。例如，<code>R.layout.activity_main</code>是一个常量，它表示<code>res/layout</code>文件夹中的<code>activity_main.xml</code>文件。</p> 
 <p>工作原理：<br><img src="http://www.yiibai.com/uploads/images/201712/1912/664141229_56052.png" alt=""></p>
 <br>      
</div></body></html>