<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Android AutoCompleteTextView(自动完成)实例</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 如果想获得建议，当在一个可编辑的文本字段中键入，可以通过AutoCompleteTextView做到这一点。当用户输入它会自动提供建议。建议列表显示在下拉菜单，从中用户可以选择一个项目，以取代与编辑框的内容。</p> 
 <p> 为了使用AutoCompleteTextView 需要首先在XML中创建一个AutoCompletTextView字段。其语法如下给出。</p> 
 <pre class="prettyprint" style="border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; font-size: 12px; overflow: auto;">
&lt;AutoCompleteTextView
      android:id="@+id/autoCompleteTextView1"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:layout_alignParentTop="true"
      android:layout_centerHorizontal="true"
      android:layout_marginTop="65dp"
      android:ems="10" &gt;</pre> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> 在此之后，必须在java中得到这个TextView，参考语法如下给出：</p> 
 <pre class="prettyprint" style="border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; font-size: 12px; overflow: auto;">
private AutoCompleteTextView actv;
actv = (AutoCompleteTextView) findViewById(R.id.autoCompleteTextView1); </pre> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> 需要做的下一件事就是指定要显示的建议项目列表。可以指定列表项为ava字符串数组或在strings.xml中。其语法如下给出。</p> 
 <pre class="prettyprint" style="border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; font-size: 12px; overflow: auto;">
   String[] countries = getResources().
   getStringArray(R.array.list_of_countries);
   ArrayAdapter
  <string>
    adapter = new ArrayAdapter
   <string>
    
   (this,android.R.layout.simple_list_item_1,countries);
   actv.setAdapter(adapter);

   </string>
  </string></pre> 
 <p> 数组适配器类负责显示数据列表中的文本字段的视图。setAdapter方法用于设置autoCompleteTextView的适配器。除了这些方法，自动完成的其它方法在下面列出。</p> 
 <table class="src" style="margin: 8px 0px; padding: 0px;  border-color: rgb(214, 214, 214); width: 560px; border-collapse: collapse; vertical-align: top; color: rgb(0, 0, 0);  background-color: rgb(247, 247, 247);"> 
  <tbody style="margin: 0px; padding: 0px;"> 
   <tr style="margin: 0px; padding: 0px;"> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214); background-color: rgb(238, 238, 238);"> Sr.No</th> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214); background-color: rgb(238, 238, 238);"> 方法及说明</th> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 1</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> <b style="margin: 0px; padding: 0px;">getAdapter()</b><br style="margin: 0px; padding: 0px;"> 这个方法返回用于自动完成筛选列表适配器</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 2</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> <b style="margin: 0px; padding: 0px;">getCompletionHint()</b><br style="margin: 0px; padding: 0px;"> 此方法返回在匹配列表的底部显示可选的提示文本</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 3</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> <b style="margin: 0px; padding: 0px;">getDropDownAnchor()</b><br style="margin: 0px; padding: 0px;"> 此方法返回返回ID视图自动完成下拉列表固定</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 4</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> <b style="margin: 0px; padding: 0px;">getListSelection()</b><br style="margin: 0px; padding: 0px;"> 此方法返回下拉视图选择的位置（如果有一个）</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 5</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> <b style="margin: 0px; padding: 0px;">isPopupShowing()</b><br style="margin: 0px; padding: 0px;"> 此方法指示弹出式菜单是否显示</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 6</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> <b style="margin: 0px; padding: 0px;">setText(CharSequence text, boolean filter)</b><br style="margin: 0px; padding: 0px;"> 此方法设置的文本，但它可以禁用过滤</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 7</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> <b style="margin: 0px; padding: 0px;">showDropDown()</b><br style="margin: 0px; padding: 0px;"> 此方法显示在下拉屏幕上</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2> 例子</h2> 
 <p> 下面的例子演示了如何使用AutoCompleteTextView类。创建了一个基本的应用程序，在输入并在设备上会显示建议。</p> 
 <p> 为了试验这个例子，需要在实际设备或模拟器运行此程序。</p> 
 <table class="src" style="margin: 8px 0px; padding: 0px;  border-color: rgb(214, 214, 214); width: 560px; border-collapse: collapse; vertical-align: top; color: rgb(0, 0, 0);  background-color: rgb(247, 247, 247);"> 
  <tbody style="margin: 0px; padding: 0px;"> 
   <tr style="margin: 0px; padding: 0px;"> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214); background-color: rgb(238, 238, 238);"> 步骤</th> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214); background-color: rgb(238, 238, 238);"> 描述</th> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 1</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 使用Android Studio创建Android应用程序，并将其命名为AutoComplete，创建这个项目确保目标SDK编译在Android SDK的最新版本以及使用更高级别的API。</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 2</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 修改&nbsp;src/MainActivity.java文件添加AutoCompleteTextView代码</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 3</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 修改所需的布局XML文件res/layout/activity_main.xml&nbsp;添加GUI组件</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 4</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 修改 res/values/string.xml&nbsp;文件，并添加必要的字符串组件</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 5</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 修改 AndroidManifest.xml 以添加必要的权限</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 6</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 运行应用程序并选择运行Android的设备，并在其上安装的应用并验证结果</td> 
   </tr> 
  </tbody> 
 </table> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> 下面是文件&nbsp;<b style="margin: 0px; padding: 0px;">src/com.yiibai.autocomplete/MainActivity.java </b>的内容：</p> 
 <pre class="prettyprint" style="border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; font-size: 12px; overflow: auto;">
package com.yiibai.autocomplete;

import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;
import android.widget.ArrayAdapter;
import android.widget.AutoCompleteTextView;
import android.widget.MultiAutoCompleteTextView;

public class MainActivity extends Activity {

   private AutoCompleteTextView actv;
   private MultiAutoCompleteTextView mactv;

   @Override
   protected void onCreate(Bundle savedInstanceState) {
      super.onCreate(savedInstanceState);
      setContentView(R.layout.activity_main);


       String[] countries = getResources().
       getStringArray(R.array.list_of_countries);
        ArrayAdapter
  <string>
    adapter = new ArrayAdapter
   <string>
    
       (this,android.R.layout.simple_list_item_1,countries);


       actv = (AutoCompleteTextView) findViewById(R.id.autoCompleteTextView1);
       mactv = (MultiAutoCompleteTextView) findViewById
       (R.id.multiAutoCompleteTextView1);

       actv.setAdapter(adapter);
       mactv.setAdapter(adapter);

       mactv.setTokenizer(new MultiAutoCompleteTextView.CommaTokenizer());


   }

   @Override
   public boolean onCreateOptionsMenu(Menu menu) {
      // Inflate the menu; this adds items to the action bar if it is present.
      getMenuInflater().inflate(R.menu.main, menu);
      return true;
   }

}&nbsp;
   </string>
  </string></pre> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> 下面是文件&nbsp;<b style="margin: 0px; padding: 0px;">activity_main.xml&nbsp;</b>的内容</p> 
 <pre class="prettyprint" style="border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; font-size: 12px; overflow: auto;">
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
   xmlns:tools="http://schemas.android.com/tools"
   android:layout_width="match_parent"
   android:layout_height="match_parent"
   android:paddingBottom="@dimen/activity_vertical_margin"
   android:paddingLeft="@dimen/activity_horizontal_margin"
   android:paddingRight="@dimen/activity_horizontal_margin"
   android:paddingTop="@dimen/activity_vertical_margin"
   tools:context=".MainActivity" &gt;

   &lt;AutoCompleteTextView
      android:id="@+id/autoCompleteTextView1"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:layout_alignParentTop="true"
      android:layout_centerHorizontal="true"
      android:layout_marginTop="65dp"
      android:ems="10" &gt;

      &lt;requestFocus /&gt;
   &lt;/AutoCompleteTextView&gt;

   &lt;MultiAutoCompleteTextView
      android:id="@+id/multiAutoCompleteTextView1"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:layout_alignLeft="@+id/autoCompleteTextView1"
      android:layout_centerVertical="true"
      android:ems="10" /&gt;

   &lt;TextView
      android:id="@+id/textView1"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:layout_alignParentLeft="true"
      android:layout_alignParentTop="true"
      android:text="@string/auto_complete"
      android:textAppearance="?android:attr/textAppearanceMedium" /&gt;

   &lt;TextView
      android:id="@+id/textView2"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:layout_above="@+id/multiAutoCompleteTextView1"
      android:layout_alignParentLeft="true"
      android:layout_marginBottom="19dp"
      android:text="@string/multi_auto_complete"
      android:textAppearance="?android:attr/textAppearanceMedium" /&gt;

&lt;/RelativeLayout&gt;&nbsp;</pre> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> 下面是文件&nbsp;<b style="margin: 0px; padding: 0px;">Strings.xml&nbsp;</b>的内容</p> 
 <div style="float:left;margin-bottom: 10px;">  
 </div>
 <div style="float:left;margin-bottom: 10px;">  
 </div>  
 <pre class="prettyprint" style="border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; font-size: 12px; overflow: auto;">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;

   &lt;string name="app_name"&gt;AutoComplete&lt;/string&gt;
   &lt;string name="action_settings"&gt;Settings&lt;/string&gt;
   &lt;string name="hello_world"&gt;Hello world!&lt;/string&gt;
   &lt;string name="auto_complete"&gt;AutoComplete&lt;/string&gt;
   &lt;string name="multi_auto_complete"&gt;Multi AutoComplete&lt;/string&gt;
   &lt;string-array name="list_of_countries"&gt;
      &lt;item &gt;USA&lt;/item&gt;
      &lt;item &gt;Uk&lt;/item&gt;
      &lt;item &gt;Canada&lt;/item&gt;
      &lt;item &gt;Australia&lt;/item&gt;
      &lt;item &gt;France&lt;/item&gt;
      &lt;item &gt;Italy&lt;/item&gt;
      &lt;item &gt;China&lt;/item&gt;
      &lt;item &gt;Japan&lt;/item&gt;
      &lt;item &gt;Spain&lt;/item&gt;
      &lt;/string-array&gt;

&lt;/resources&gt;&nbsp;</pre> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> 下面是文件&nbsp;<b style="margin: 0px; padding: 0px;">AndroidManifest.xml </b>的内容</p> 
 <pre class="prettyprint" style="border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; font-size: 12px; overflow: auto;">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
   package="com.yiibai.autocomplete"
   android:versionCode="1"
   android:versionName="1.0" &gt;

   &lt;uses-sdk
      android:minSdkVersion="8"
      android:targetSdkVersion="17" /&gt;

   &lt;application
      android:allowBackup="true"
      android:icon="@drawable/ic_launcher"
      android:label="@string/app_name"
      android:theme="@style/AppTheme" &gt;
      &lt;activity
         android:name="com.yiibai.autocomplete.MainActivity"
         android:label="@string/app_name" &gt;
         &lt;intent-filter&gt;
            &lt;action android:name="android.intent.action.MAIN" /&gt;

            &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
         &lt;/intent-filter&gt;
      &lt;/activity&gt;
   &lt;/application&gt;

&lt;/manifest&gt;</pre> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> 让我们试着运行Androidmanager应用程序。将安装该应用程序在AVD，AVD将显示如下画面。</p> 
 <img alt="Anroid Capture Tutorial" src="/uploads/allimg/150123/2045045364-1.jpg" style="margin: auto; padding: 0px 0px 10px; border: 0px; max-width: 560px; height: auto; display: block; color: rgb(0, 0, 0); "> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> 现在只是在文本视图以查看国家的建议。正如输入两个两个字母这是<b style="margin: 0px; padding: 0px;">ca</b>，它显示的建议是：canada</p> 
 <img alt="Anroid Capture Tutorial" src="/uploads/allimg/150123/2045042459-2.jpg" style="margin: auto; padding: 0px 0px 10px; border: 0px; max-width: 560px; height: auto; display: block; color: rgb(0, 0, 0); "> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> multiAutoCompleteTextView演示建议不仅是一个单词，同样也可以对于整个文本。由于写第一个字母，当开始写入第二个字后，它会显示建议。这可以示出在下面的图片。</p> 
 <img alt="Anroid Capture Tutorial" src="/uploads/allimg/150123/204504D16-3.jpg" style="margin: auto; padding: 0px 0px 10px; border: 0px; max-width: 560px; height: auto; display: block; color: rgb(0, 0, 0); ">
 <br> 
 <div>
   以上代码下载：
  <a target="_blank" href="http://pan.baidu.com/s/1o6G8Lq6">http://pan.baidu.com/s/1o6G8Lq6</a>
 </div> 
 <br>      
</div></body></html>