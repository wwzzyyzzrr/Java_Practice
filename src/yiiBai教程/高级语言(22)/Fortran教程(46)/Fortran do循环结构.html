<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Fortran do循环结构</h1><div style="width:100%;float:left;" class="article-content">   
 <p> do循环结构使得一个语句或一系列语句，以进行迭代，当一个给定的条件为真。</p> 
 <h2> 语法</h2> 
 <p> do循环的一般形式是：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">do</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">var</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> start</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> stop </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">[,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">step</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">]</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">    
   </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">!</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> statement</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">(</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">s</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">)</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">…</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">end</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">do</span></pre> 
 <p> 这里,</p> 
 <ul> 
  <li> 循环变量var应该是一个整数</li> 
  <li> start 是初始值</li> 
  <li> stop 是最终值</li> 
  <li> 步骤step是递增，如果此被省略，则变量var以单位增加</li> 
 </ul> 
 <p> 例如：</p> 
 <pre class="prettyprint notranslate prettyprinted" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
<span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">!</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> compute factorials
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">do</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> n </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">10</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">
   nfact </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> nfact </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">*</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> n  
   </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">!</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> printing the value of n </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">and</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> its factorial
   </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">print</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">*,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  n</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">" "</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> nfact   
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">end</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">do</span></pre> 
 <h2> 流程图</h2> 
 <p> 这里是控制 do 循环结构的流程：</p> 
 <ul> 
  <li> <p> 初始步骤首先被执行，并且仅一次。这一步可以声明和初始化任何循环控制变量。在我们的例子中，变量var被初始化开始的值。</p> </li> 
  <li> <p> 接下来，计算条件。如果为true，则执行循环体。如果是假，则循环体不执行，只是在循环之后流量控制跳转到下一个语句。在我们的情况下，该条件就是在变量var达到其最终值stop。</p> </li> 
  <li> <p> 所述循环体执行后，控制流跳转回至increment 语句。这个语句可以更新循环控制变量var。</p> </li> 
  <li> <p> 条件现在重新评估。如果为true，循环执行的过程重复（循环体，再递增一步，然后再条件）。直到条件为假，循环终止。</p> </li> 
 </ul> 
 <img alt="Do Loop" src="/uploads/allimg/141120/1520441141-0.jpg"> 
 <p> 示例 1&nbsp;</p> 
 <p> 这个例子将输出数字11到20：</p> 
 <pre class="prettyprint notranslate tryit prettyprinted" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); cursor: default; background-image: url(http://www.yiibai.com/fortran/images/tryit.jpg) !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: 100% 0%; background-repeat: no-repeat !important;">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">program printNum 
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">implicit</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> none  

   </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">!</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> define variables
   integer </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">::</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> n
   
   </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">do</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> n </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">11</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">20</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">     
      </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">!</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> printing the value of n 
      </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">print</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">*,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  n 
   </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">end</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">do</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
   
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">end</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> program printNum  </span></pre> 
 <p> 让我们编译和运行上面的程序，这将产生以下结果：</p>   
 <pre class="result notranslate" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
11
12
13
14
15
16
17
18
19
20</pre> 
 <p> <strong>实例 2&nbsp;</strong></p> 
 <p> 这个程序计算数字1到10的阶乘：</p> 
 <pre class="prettyprint notranslate tryit prettyprinted" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); cursor: default; background-image: url(http://www.yiibai.com/fortran/images/tryit.jpg) !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: 100% 0%; background-repeat: no-repeat !important;">
<span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">program factorial  
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">implicit</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> none  

   </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">!</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> define variables
   integer </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">::</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> nfact </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">1</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">   
   integer </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">::</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> n  
   
   </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">!</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> compute factorials   
   </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">do</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> n </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">1</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="lit" style="box-sizing: border-box; color: rgb(0, 102, 102);">10</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">      
      nfact </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">=</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> nfact </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">*</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> n 
      </span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">!</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">print</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> values
      </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">print</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">*,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);">  n</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="str" style="box-sizing: border-box; color: rgb(0, 136, 0);">" "</span><span class="pun" style="box-sizing: border-box; color: rgb(102, 102, 0);">,</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> nfact   
   </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">end</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> </span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">do</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> 
   
</span><span class="kwd" style="box-sizing: border-box; color: rgb(0, 0, 136);">end</span><span class="pln" style="box-sizing: border-box; color: rgb(0, 0, 0);"> program factorial  </span></pre> 
 <p> 让我们编译和运行上面的程序，这将产生以下结果：</p> 
 <pre class="result notranslate" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 604px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
1         1
2         2
3         6
4        24
5       120
6       720
7      5040
8     40320
9    362880
10  3628800</pre> 
 <br>      
</div></body></html>