<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">C++文件和流</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在C++编程中，我们使用<code>iostream</code>标准库，它提供了<code>cin</code>和<code>cout</code>方法，分别从输入和输出读取流。</p> 
 <p>要从文件读取和写入，我们使用名称为<code>fstream</code>的标准C++库。 下面来看看看在<code>fstream</code>库中定义的数据类型是：</p> 
 <table> 
  <thead> 
   <tr> 
    <th>数据类型</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td><code>fstream</code></td> 
    <td>它用于创建文件，向文件写入信息以及从文件读取信息。</td> 
   </tr> 
   <tr> 
    <td><code>ifstream</code></td> 
    <td>它用于从文件读取信息。</td> 
   </tr> 
   <tr> 
    <td><code>ofstream</code></td> 
    <td>它用于创建文件以及写入信息到文件。</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-c-filestream-"><a name="C++ FileStream示例：写入文件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C++ FileStream示例：写入文件</h2>
 <p>下面来看看看使用C++ FileStream编程写一个定稿文本文件：<code>testout.txt</code>的简单例子。</p> 
 <pre><code class="lang-cpp">#include &lt;iostream&gt;  
#include &lt;fstream&gt;  
using namespace std;  
int main () {  
  ofstream filestream("testout.txt");  
  if (filestream.is_open())  
  {  
    filestream &lt;&lt; "Welcome to javaTpoint.\n";  
    filestream &lt;&lt; "C++ Tutorial.\n";  
    filestream.close();  
  }  
  else cout &lt;&lt;"File opening is fail.";  
  return 0;  
}
</code></pre> 
 <p>执行上面代码，输出结果如下 -</p> 
 <pre><code class="lang-cpp">The content of a text file testout.txt is set with the data:
Welcome to javaTpoint.
C++ Tutorial.
</code></pre> 
 <h2 id="h2-c-filestream-"><a name="C++ FileStream示例：从文件读取" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C++ FileStream示例：从文件读取</h2>
 <p>下面来看看看使用C++ <code>FileStream</code>编程从文本文件<code>testout.txt</code>中读取的简单示例。</p> 
 <pre><code class="lang-cpp">#include &lt;iostream&gt;  
#include &lt;fstream&gt;  
using namespace std;  
int main () {  
  string srg;  
  ifstream filestream("testout.txt");  
  if (filestream.is_open())  
  {  
    while ( getline (filestream,srg) )  
    {  
      cout &lt;&lt; srg &lt;&lt;endl;  
    }  
    filestream.close();  
  }  
  else {  
      cout &lt;&lt; "File opening is fail."&lt;&lt;endl;   
    }  
  return 0;  
}
</code></pre> 
 <p><strong>注意：</strong>在运行代码之前，需要创建一个名为“<code>testout.txt</code>”的文本文件，并且文本文件的内容如下所示：</p>   
 <pre><code class="lang-bash">Welcome to Yiibai.com.
C++ Tutorial.
</code></pre> 
 <p>执行上面代码输出结果如下 -</p> 
 <pre><code class="lang-cpp">Welcome to Yiibai.com.
C++ Tutorial.
</code></pre> 
 <h2 id="h2-c-"><a name="C++读写示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C++读写示例</h2>
 <p>下面来看看一个简单的例子，将数据写入文本文件：<code>testout.txt</code>，然后使用C++ FileStream编程从文件中读取数据。</p> 
 <pre><code class="lang-cpp">#include &lt;fstream&gt;  
#include &lt;iostream&gt;  
using namespace std;  
int main () {  
   char input[75];  
   ofstream os;  
   os.open("testout.txt");  
   cout &lt;&lt;"Writing to a text file:" &lt;&lt; endl;  
   cout &lt;&lt; "Please Enter your name: ";   
   cin.getline(input, 100);  
   os &lt;&lt; input &lt;&lt; endl;  
   cout &lt;&lt; "Please Enter your age: ";   
   cin &gt;&gt; input;  
   cin.ignore();  
   os &lt;&lt; input &lt;&lt; endl;  
   os.close();  
   ifstream is;   
   string line;  
   is.open("testout.txt");   
   cout &lt;&lt; "Reading from a text file:" &lt;&lt; endl;   
   while (getline (is,line))  
   {  
   cout &lt;&lt; line &lt;&lt; endl;  
   }      
   is.close();  
   return 0;  
}
</code></pre> 
 <p>执行上面代码，得到以下结果 -</p> 
 <pre><code class="lang-cpp">Writing to a text file:  
 Please Enter your name: Nber su
Please Enter your age: 27
 Reading from a text file:   Nber su
27
</code></pre>
 <br>      
</div></body></html>