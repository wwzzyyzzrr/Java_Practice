<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">C++存储类</h1><div style="width:100%;float:left;" class="article-content">   
 <p>存储类用于定义C++程序中变量和/或函数的生命周期和可见性。</p> 
 <p>寿命是指变量保持活动的时间段，可见性是指可访问变量的程序的模块。</p> 
 <p>有五种类型的存储类，可以在C++程序中使用</p> 
 <ul> 
  <li>自动(Automatic)</li>
  <li>寄存器(Register)</li>
  <li>静态(Static)</li>
  <li>外部(External)</li>
  <li>可变(Mutable)</li>
 </ul> 
 <table> 
  <thead> 
   <tr> 
    <th>存储类</th> 
    <th>关键字</th> 
    <th>生命周期</th> 
    <th>可见性</th> 
    <th>初始值</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>自动</td> 
    <td>auto</td> 
    <td>函数块</td> 
    <td>局部</td> 
    <td>垃圾</td> 
   </tr> 
   <tr> 
    <td>寄存器</td> 
    <td>register</td> 
    <td>函数块</td> 
    <td>局部</td> 
    <td>垃圾</td> 
   </tr> 
   <tr> 
    <td>可变</td> 
    <td>mutable</td> 
    <td>类</td> 
    <td>局部</td> 
    <td>垃圾</td> 
   </tr> 
   <tr> 
    <td>静态</td> 
    <td>static</td> 
    <td>整个程序</td> 
    <td>全局</td> 
    <td>零</td> 
   </tr> 
   <tr> 
    <td>外部</td> 
    <td>extern</td> 
    <td>整个程序</td> 
    <td>局部</td> 
    <td>零</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-u81EAu52A8u5B58u50A8u7C7B"><a name="自动存储类" class="reference-link"></a><span class="header-link octicon octicon-link"></span>自动存储类</h2>
 <p>它是所有局部变量的默认存储类。 <code>auto</code>关键字自动应用于所有局部变量。</p> 
 <pre><code class="lang-cpp">{   
    auto int y;  
    float y = 3.45;  
}
</code></pre> 
 <p>上面的例子定义了两个具有相同存储类的变量，<code>auto</code>只能在函数中使用。</p> 
 <h2 id="h2-u6CE8u518Cu5B58u50A8u7C7B"><a name="注册存储类" class="reference-link"></a><span class="header-link octicon octicon-link"></span>注册存储类</h2>
 <p>寄存器变量在寄存器中分配存储器而不是<code>RAM</code>。 其大小与寄存器大小相同。 它比其他变量具有更快的访问速度。<br>建议仅使用寄存器变量进行快速访问，例如:在计数器中。</p> 
 <blockquote> 
  <p><strong>注意</strong>：我们不能得到寄存器变量的地址。</p> 
 </blockquote>   
 <pre><code class="lang-cpp">register int counter=0;
</code></pre> 
 <h2 id="h2-u9759u6001u5B58u50A8u7C7B"><a name="静态存储类" class="reference-link"></a><span class="header-link octicon octicon-link"></span>静态存储类</h2>
 <p>静态变量只初始化一次，直到程序结束。 它保留可在多个函数之间调用的值。<br>静态变量由编译器提供的一个默认值：<code>0</code>。</p> 
 <pre><code class="lang-cpp">#include &lt;iostream&gt;  
using namespace std;  
void func() {    
    static int i=0; //static variable    
    int j=0; //local variable    
    i++;    
    j++;    
    cout&lt;&lt;"i=" &lt;&lt; i&lt;&lt;" and j=" &lt;&lt;j&lt;&lt;endl;    
}    
int main()  
{  
    func();    
    func();    
    func();    
}
</code></pre> 
 <p>执行上面代码，得到以下结果 -</p> 
 <pre><code class="lang-cpp">i= 1 and j= 1
i= 2 and j= 1
i= 3 and j= 1
</code></pre> 
 <h2 id="h2-u5916u90E8u5B58u50A8u7C7B"><a name="外部存储类" class="reference-link"></a><span class="header-link octicon octicon-link"></span>外部存储类</h2>
 <p><code>extern</code>变量对所有程序都可见。 如果两个或多个文件共享相同的变量或函数，则使用它。</p> 
 <pre><code class="lang-cpp">extern int counter=0;
</code></pre>
 <br>      
</div></body></html>