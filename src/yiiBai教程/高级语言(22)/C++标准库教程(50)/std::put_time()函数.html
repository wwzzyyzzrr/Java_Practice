<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">std::put_time()函数</h1><div style="width:100%;float:left;" class="article-content">   
 <p>此函数首先通过构造一个类型为<code>basic_ostream::sentry</code>的对象来访问输出序列。<br>然后（如果评估计算 <code>sentry</code> 对象为 <code>true</code>），它调用 <code>time_put::put</code>（使用流的选定区域设置）来执行格式化和插入操作，</p> 
 <p>相应地调整流的内部状态标志。 最后，它在返回之前销毁 <code>sentry</code> 对象。</p> 
 <p>它用于插入由<code>tmb</code>指向的时间和日期信息的表示，根据参数<code>fmt</code>指定来格式化。</p> 
 <h2 id="h2-u58F0u660E"><a name="声明" class="reference-link"></a><span class="header-link octicon octicon-link"></span>声明</h2>
 <p>以下是 <code>std::put_time</code> 函数的声明。</p> 
 <pre><code class="lang-cpp">template &lt;class charT&gt;
/*unspecified*/ put_time (const struct tm* tmb, const charT* fmt);
</code></pre> 
 <h2 id="h2-u53C2u6570"><a name="参数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>参数</h2>
 <ul> 
  <li><p><code>tmb</code> − 指向类型<code>struct tm</code>的对象的指针，具有格式化的日期和时间信息。 <code>struct tm</code>是<code>&lt;ctime&gt;</code>头中定义的类。</p> </li>
  <li><p><code>fmt</code> − <code>time_put::put</code> 使用C字符串作为格式字符串。它包含常规字符和特殊格式说明符的任意组合。这些格式说明符被函数替换为相应的值，以表示在<code>tmb</code>中指定的时间。</p> </li>
 </ul> 
 <p>格式都以百分比（<code>％</code>）符号开头，如下所示 -</p> 
 <table> 
  <thead> 
   <tr> 
    <th>说明符</th> 
    <th>替换</th> 
    <th>示例</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>%a</td> 
    <td>工作日名称的缩写 *</td> 
    <td>Thu</td> 
   </tr> 
   <tr> 
    <td>%A</td> 
    <td>完整工作日名称 *</td> 
    <td>Thursday</td> 
   </tr> 
   <tr> 
    <td>%b</td> 
    <td>月份名称缩写 *</td> 
    <td>Aug</td> 
   </tr> 
   <tr> 
    <td>%B</td> 
    <td>完整月份名称 *</td> 
    <td>August</td> 
   </tr> 
   <tr> 
    <td>%c</td> 
    <td>日期和时间表示</td> 
    <td>Thu Aug 23 14:55:02 2019</td> 
   </tr> 
   <tr> 
    <td>%C</td> 
    <td>年份除以100，并截断为整数（00-99）</td> 
    <td>20</td> 
   </tr> 
   <tr> 
    <td>%d</td> 
    <td>月份中的某一天，用零填充（01-31）</td> 
    <td>23</td> 
   </tr> 
   <tr> 
    <td>%D</td> 
    <td>MM/DD/YY日期的简写，相当于％m/％d/％y</td> 
    <td>08/23/19</td> 
   </tr> 
   <tr> 
    <td>%e</td> 
    <td>月份中的某日，空格填充（1-31）</td> 
    <td>23</td> 
   </tr> 
   <tr> 
    <td>%F</td> 
    <td>YYYY-MM-DD日期的简写，相当于％Y-％m-％d</td> 
    <td></td> 
   </tr> 
   <tr> 
    <td>%g</td> 
    <td>基于周的年份，后两位数字（00-99）</td> 
    <td>01</td> 
   </tr> 
   <tr> 
    <td>%G</td> 
    <td>一年中周</td> 
    <td>2001</td> 
   </tr> 
   <tr> 
    <td>%h</td> 
    <td>月份名称的缩写（与％b相同）</td> 
    <td>Aug</td> 
   </tr> 
   <tr> 
    <td>%H</td> 
    <td>24小时格式（00-23）</td> 
    <td>14</td> 
   </tr> 
   <tr> 
    <td>%I</td> 
    <td>12小时格式（01-12）</td> 
    <td>02</td> 
   </tr> 
   <tr> 
    <td>%j</td> 
    <td>一年中的某日（001-366）</td> 
    <td>235</td> 
   </tr> 
   <tr> 
    <td>%m</td> 
    <td>月份的十进制数（01-12）</td> 
    <td>08</td> 
   </tr> 
   <tr> 
    <td>%M</td> 
    <td>分钟（00-59）</td> 
    <td>56</td> 
   </tr> 
   <tr> 
    <td>%n</td> 
    <td>新行字符（<code>'/n'</code>）</td> 
    <td></td> 
   </tr> 
   <tr> 
    <td>%p</td> 
    <td>指定AM或PM</td> 
    <td>PM</td> 
   </tr> 
   <tr> 
    <td>%r</td> 
    <td>12小时时钟时间</td> 
    <td>02:55:02 pm</td> 
   </tr> 
   <tr> 
    <td>%R</td> 
    <td>24小时<code>HH:MM</code>时间，相当于<code>％H:％M</code></td> 
    <td>14:51</td> 
   </tr> 
   <tr> 
    <td>%S</td> 
    <td>秒（00-61）</td> 
    <td>02</td> 
   </tr> 
   <tr> 
    <td>%t</td> 
    <td>水平制表符（’/t’）</td> 
    <td></td> 
   </tr> 
   <tr> 
    <td>%T</td> 
    <td>ISO 8601时间格式 (<code>HH:MM:SS</code>)，相当于<code>%H:%M:%S</code></td> 
    <td></td> 
   </tr> 
   <tr> 
    <td>%u</td> 
    <td>ISO 8601工作日，星期一的数字为<code>1</code>（<code>1-7</code>）</td> 
    <td>4</td> 
   </tr> 
   <tr> 
    <td>%U</td> 
    <td>周数，以第一个星期日为第一周的第一天（00-53）</td> 
    <td>33</td> 
   </tr> 
   <tr> 
    <td>%V</td> 
    <td>ISO 8601周编号（00-53）</td> 
    <td>34</td> 
   </tr> 
   <tr> 
    <td>%w</td> 
    <td>工作日，使用十进制数，星期日为<code>0</code>（<code>0-6</code>）</td> 
    <td>4</td> 
   </tr> 
   <tr> 
    <td>%W</td> 
    <td>周数，第一个星期一作为第一周的第一天（00-53）</td> 
    <td></td> 
   </tr> 
   <tr> 
    <td>%x</td> 
    <td>日期的表示</td> 
    <td>08/23/01</td> 
   </tr> 
   <tr> 
    <td>%X</td> 
    <td>时间的表示</td> 
    <td>14:55:02</td> 
   </tr> 
   <tr> 
    <td>%y</td> 
    <td>年份，最后两位数字（00-99）</td> 
    <td>01</td> 
   </tr> 
   <tr> 
    <td>%Y</td> 
    <td>年份，四位数字</td> 
    <td>2001</td> 
   </tr> 
   <tr> 
    <td>%z</td> 
    <td>ISO 8601偏离UTC在时区（1分钟=1，1小时=100）</td> 
    <td>+100</td> 
   </tr> 
   <tr> 
    <td>%Z</td> 
    <td>时区名称或缩写</td> 
    <td>CDT</td> 
   </tr> 
   <tr> 
    <td>%%</td> 
    <td>％符号</td> 
    <td>%</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-u793Au4F8B"><a name="示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例</h2>
 <p>下面的例子解释了 <code>put_time</code> 函数的使用。</p>   
 <pre><code class="lang-cpp">#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;ctime&gt;
#include &lt;chrono&gt;

int main () {
   using std::chrono::system_clock;
   std::time_t tt = system_clock::to_time_t (system_clock::now());

   struct std::tm * ptm = std::localtime(&amp;tt);
   std::cout &lt;&lt; "Now (local time): " &lt;&lt; std::put_time(ptm,"%c") &lt;&lt; '/n';

   return 0;
}
</code></pre>
 <br>      
</div></body></html>