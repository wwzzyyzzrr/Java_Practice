<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">C语言宏</h1><div style="width:100%;float:left;" class="article-content">   
 <p>宏是一种可由宏的值代替的代码段。 宏由<code>#define</code>指令定义。 有两种类型的宏：</p> 
 <ul> 
  <li>类似对象的宏</li>
  <li>类似函数的宏</li>
 </ul> 
 <p><strong>类似对象的宏</strong></p> 
 <p>类似对象的宏是一种被值替换的标识符。它广泛用于表示数字常数。 例如：</p> 
 <pre><code class="lang-c">#define PI 3.14
</code></pre> 
 <p>这里，<code>PI</code>就是代替值<code>3.14</code>的宏名称，对于宏名称可使用与变量命名规则相同的其它名称。</p> 
 <p><strong>类似函数的宏</strong></p> 
 <p>类似函数的宏看起来像函数调用。例如：</p> 
 <pre><code class="lang-c">#define MIN(a,b) ((a)&lt;(b)?(a):(b))
</code></pre> 
 <p>这里，<code>MIN</code>是宏的名称。</p> 
 <p>可通过访问<a target="_blank" href="http://www.yiibai.com/cprogramming/c-preprocessor-define.html" title="#define">#define</a>来查看类似对象和类似函数的宏的完整示例。</p> 
 <h2 id="h2-c-"><a name="C预定义宏" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C预定义宏</h2>
 <p>ANSI C定义了许多可在C语言程序中使用的预定义的宏。如下列表所示 - </p> 
 <table> 
  <thead> 
   <tr> 
    <th>序号</th> 
    <th>宏</th> 
    <th>说明</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td><code>_DATE_</code></td> 
    <td>以<code>“MMM DD YYYY”</code>格式表示当前日期。</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td><code>_TIME_</code></td> 
    <td>以<code>“HH:MM:SS”</code>格式表示当前时间。</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td><code>_FILE_</code></td> 
    <td>表示当前文件名。</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td><code>_LINE_</code></td> 
    <td>表示当前行。</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td><code>_STDC_</code></td> 
    <td>当编译器符合ANSI标准时，它被定义为<code>1</code>。</td> 
   </tr> 
  </tbody> 
 </table> 
 <p><strong>C语言预定义的宏示例</strong></p> 
 <p>为了更好地演示如何使用C语言预定义的宏，我们创建一个源文件：<em>predefined-macros.c</em> 在工程 <em>preprocessor</em> 中，其代码如下所示 - </p>   
 <pre><code class="lang-c">#include &lt;stdio.h&gt;  
void main() {
    printf("File :%s\n", __FILE__);
    printf("Date :%s\n", __DATE__);
    printf("Time :%s\n", __TIME__);
    printf("Line :%d\n", __LINE__);
    //printf("STDC :%d\n", __STDC__); 不常用
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">File :f:\worksp\clanguage\preprocessor\preprocessor\predefined-macros.c
Date :Aug 17 2017
Time :17:33:25
Line :6
</code></pre>
 <br>      
</div></body></html>