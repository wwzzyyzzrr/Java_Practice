<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">C语言#ifdef指令</h1><div style="width:100%;float:left;" class="article-content">   
 <p><code>#ifdef</code>预处理程序指令检查宏是否由<code>#define</code>定义。 如果是，则执行代码，否则<code>#else</code>代码执行(如果存在)。</p> 
 <p><strong>语法：</strong></p> 
 <pre><code class="lang-c">#ifdef MACRO  
    //code  
#endif
</code></pre> 
 <p><strong>#else语法：</strong></p> 
 <pre><code class="lang-c">#ifdef MACRO  
    //successful code  
#else  
    //else code  
#endif
</code></pre> 
 <p><strong>#ifdef示例</strong></p> 
 <p>下面来看看一个简单的例子来了解如何使用<code>#ifdef</code>预处理器指令。创建一个源文件：<em>ifdef-example.c</em>，其代码如下所示 - </p> 
 <pre><code class="lang-c">#include &lt;stdio.h&gt;  

#define NOINPUT  
void main() {
    int a = 0;
#ifdef NOINPUT  
    a = 2;
#else  
    printf("Enter a:");
    scanf("%d", &amp;a);
#endif         
    printf("Value of a: %d\n", a);
}
</code></pre> 
 <p>执行上面测试代码，得到以下结果 - </p>   
 <pre><code class="lang-shell">Value of a: 2
</code></pre> 
 <p>但是，如果您没有定义<code>NOINPUT</code>，则会要求用户输入一个数字。创建一个源文件：<em>ifdef-example2.c</em>，其代码如下所示 - </p> 
 <pre><code class="lang-c">#include &lt;stdio.h&gt;  

void main() {
    int a = 0;
#ifdef NOINPUT  
    a = 2;
#else  
    printf("Enter a:");
    scanf("%d", &amp;a);
#endif         
    printf("Value of a: %d\n", a);
}
</code></pre> 
 <p>执行上面测试代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">Enter a:10
Value of a: 10
</code></pre>
 <br>      
</div></body></html>