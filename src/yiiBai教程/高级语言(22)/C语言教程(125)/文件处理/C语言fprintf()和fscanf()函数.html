<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">C语言fprintf()和fscanf()函数</h1><div style="width:100%;float:left;" class="article-content">   
 <p><code>fprintf()</code>函数用于将一组字符写入文件。它将格式化的输出发送到流。</p> 
 <p><code>fprintf()</code>函数的语法如下：</p> 
 <pre><code class="lang-c">int fprintf(FILE *stream, const char *format [, argument, ...])
</code></pre> 
 <p><strong>示例：</strong></p> 
 <p>创建一个源文件：<em>fprintf-write-file.c</em>，其代码如下 - </p> 
 <pre><code class="lang-c">#include &lt;stdio.h&gt;  
main() {
    FILE *fp;
    fp = fopen("file.txt", "w");//opening file  
    fprintf(fp, "Hello file by fprintf...\n");//writing data into file  
    fclose(fp);//closing file  
    printf("Write to file : file.txt finished.");
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-c">Write to file : file.txt finished.
</code></pre> 
 <p>打开<em>filehadling</em> 目录下，应该会看到一个文件：<em>file.txt</em> 。</p> 
 <h2 id="h2--fscanf-"><a name="读取文件：fscanf()函数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>读取文件：fscanf()函数</h2>
 <p><code>fscanf()</code>函数用于从文件中读取一组字符。它从文件读取一个单词，并在文件结尾返回<code>EOF</code>。</p> 
 <p><code>fscanf()</code>函数的语法如下：</p> 
 <pre><code class="lang-c">int fscanf(FILE *stream, const char *format [, argument, ...])
</code></pre> 
 <p><strong>示例：</strong></p> 
 <p>创建一个源文件：<em>fscanf-read-file.c</em>，其代码如下 - </p> 
 <pre><code class="lang-c">#include &lt;stdio.h&gt;  
main(){  
   FILE *fp;  
   char buff[255];//creating char array to store data of file  
   fp = fopen("file.txt", "r");  
   while(fscanf(fp, "%s", buff)!=EOF){  
   printf("%s ", buff );  
   }  
   fclose(fp);  
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-c">Hello file by fprintf...
</code></pre> 
 <p><strong>文件存取示例：存储员工信息</strong></p> 
 <p>下面来看看一个文件处理示例来存储从控制台输入的员工信息。要存储雇员的信息有：身份ID，姓名和工资。</p> 
 <p><strong>示例：</strong></p> 
 <p>创建一个源文件：<em>storing-employee.c</em>，其代码如下 - </p>   
 <pre><code class="lang-c">#include &lt;stdio.h&gt;  
void main()
{
    FILE *fptr;
    int id;
    char name[30];
    float salary;
    fptr = fopen("emp.txt", "w+");/*  open for writing */
    if (fptr == NULL)
    {
        printf("File does not exists \n");
        return;
    }
    printf("Enter the Emp ID:");
    scanf("%d", &amp;id);
    fprintf(fptr, "Id= %d\n", id);
    printf("Enter the name: ");
    scanf("%s", name);
    fprintf(fptr, "Name= %s\n", name);
    printf("Enter the salary: ");
    scanf("%f", &amp;salary);
    fprintf(fptr, "Salary= %.2f\n", salary);
    fclose(fptr);
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-c">Enter the Emp ID:10010
Enter the name: Maxsu
Enter the salary: 15000
</code></pre> 
 <p>现在从当前目录打开文件。将看到有一个<em>emp.txt</em>文件，其内容如下 - </p> 
 <p><em>emp.txt</em></p> 
 <pre><code class="lang-txt">Id= 10010
Name= Maxsu
Salary= 15000.00
</code></pre>
 <br>      
</div></body></html>