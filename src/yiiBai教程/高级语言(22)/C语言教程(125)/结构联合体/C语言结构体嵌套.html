<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">C语言结构体嵌套</h1><div style="width:100%;float:left;" class="article-content">   
 <p>C语言中的嵌套结构体表示在一个结构体中可以使用另一个结构作为成员。在C语言中定义结构体嵌套有两种方法：</p> 
 <ol> 
  <li>通过独立的结构</li>
  <li>通过嵌入式结构</li>
 </ol> 
 <p><strong>1. 独立结构</strong></p> 
 <p>我们可以创建2个结构体，但在主结构中应该使用依赖其它结构体作为成员。我们来看看嵌套结构体的代码。</p> 
 <pre><code class="lang-c">struct Date  
{  
   int dd;  
   int mm;  
   int yyyy;   
};  
struct Employee  
{     
   int id;  
   char name[20];  
   struct Date doj;  // 嵌套一个结构体：Date，用于存储日期
}emp1;
</code></pre> 
 <p>如上所见，<code>doj</code>(加入日期)是<code>Date</code>类型的变量。 这里<code>doj</code>用作为<code>Employee</code>结构体中的成员。通过这样的方式，我们可以在其他结构体中使用<code>Date</code>结构。</p> 
 <p><strong>2.嵌入式结构体</strong></p> 
 <p>我们可以在结构体内定义结构体，它比第一种方式需要更少的代码。但它不能用于其它结构中。</p> 
 <pre><code class="lang-c">struct Employee  
{     
   int id;  
   char name[20];  
   struct Date  
    {  
      int dd;  
      int mm;  
      int yyyy;   
    }doj;  
}emp1;
</code></pre> 
 <h2 id="h2-u8BBFu95EEu5D4Cu5957u7ED3u6784u4F53"><a name="访问嵌套结构体" class="reference-link"></a><span class="header-link octicon octicon-link"></span>访问嵌套结构体</h2>
 <p>我们可以通过<code>Outer_Structure.Nested_Structure.member</code>访问嵌套结构的成员，如下所示：</p> 
 <pre><code class="lang-c">e1.doj.dd  
e1.doj.mm  
e1.doj.yyyy
</code></pre> 
 <h2 id="h2-u5D4Cu5957u7ED3u6784u4F53u793Au4F8B"><a name="嵌套结构体示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>嵌套结构体示例</h2>
 <p>我们来看看C语言中嵌套结构体的一个简单例子。创建一个源代码文件：<em>nested-structure.c</em>，其代码如下 -</p>   
 <pre><code class="lang-c">#include &lt;stdio.h&gt;  
#include &lt;string.h&gt;  
struct Employee
{
    int id;
    char name[20];
    struct Date
    {
        int dd;
        int mm;
        int yyyy;
    }doj;
}e1;

int main()
{
    //storing employee information  
    e1.id = 1001;
    strcpy(e1.name, "Maxsu");//copying string into char array  
    e1.doj.dd = 12;
    e1.doj.mm = 11;
    e1.doj.yyyy = 2018;

    //printing first employee information  
    printf("employee id : %d\n", e1.id);
    printf("employee name : %s\n", e1.name);
    printf("employee date of joining (dd/mm/yyyy) : %d/%d/%d\n", e1.doj.dd, e1.doj.mm, e1.doj.yyyy);
    return 0;
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-c">employee id : 1001
employee name : Maxsu
employee date of joining (dd/mm/yyyy) : 12/11/2018
</code></pre>
 <br>      
</div></body></html>