<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">C语言结构体</h1><div style="width:100%;float:left;" class="article-content">   
 <p>C语言中的结构体是一种用户定义的数据类型，可以保存不同类型的数据元素。</p> 
 <p>结构体的每个元素都称为成员。</p> 
 <p>它像<code>C++</code>中的模板和Java中的类一样工作。可以有不同类型的元素。</p> 
 <p>例如，结构体可广泛用于存储学生信息，员工信息，产品信息，图书信息等。</p> 
 <h2 id="h2-u5B9Au4E49u7ED3u6784u4F53"><a name="定义结构体" class="reference-link"></a><span class="header-link octicon octicon-link"></span>定义结构体</h2>
 <p><code>struct</code>关键字用于定义结构体。下面我们来看看在C语言中定义结构体的语法。</p> 
 <pre><code class="lang-c">struct structure_name   
{  
    data_type member1;  
    data_type member2;  
    .  
    .  
    data_type memeberN;  
};
</code></pre> 
 <p>下面来看看如何在C语言中定义员工结构体的例子。</p> 
 <pre><code class="lang-c">struct employee
{   int id;
    char name[50];
    float salary;
};
</code></pre> 
 <p>这里，<code>struct</code>是关键字，<code>employee</code>是结构体的标签名称; <code>id</code>，<code>name</code>和<code>salary</code>是结构体的成员或者字段。让我们通过下面给出的图来理解它：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201708/1608/917100804_17628.png" alt=""></p> 
 <h2 id="h2-u58F0u660Eu7ED3u6784u4F53u53D8u91CF"><a name="声明结构体变量" class="reference-link"></a><span class="header-link octicon octicon-link"></span>声明结构体变量</h2>
 <p>我们可以为结构体声明变量，以便访问结构体的成员。声明结构体变量有两种方法：</p> 
 <ol> 
  <li>通过<code>main()</code>函数中的<code>struct</code>关键字</li>
  <li>通过在定义结构时声明变量。</li>
 </ol> 
 <p><strong>第一种方式：</strong></p> 
 <p>下面来看看一下<code>struct struct</code>来声明结构变量的例子。它应该在主函数中声明。</p> 
 <pre><code class="lang-c">struct employee  
{   int id;  
    char name[50];  
    float salary;  
};
</code></pre> 
 <p>现在在<code>main()</code>函数中写入给定的代码，如下 - </p> 
 <pre><code class="lang-c">struct employee e1, e2;
</code></pre> 
 <p><strong>第二种方式：</strong></p> 
 <p>下面来看看在定义结构体时声明变量的另一种方法。</p> 
 <pre><code class="lang-c">struct employee  
{   int id;  
    char name[50];  
    float salary;  
}e1,e2;
</code></pre> 
 <p><strong>哪种方法好？</strong></p> 
 <p>但如果变量个数不固定，使用第一种方法。它为您提供了多次声明结构体变量的灵活性。</p> 
 <p>如果变量变量个数是固定的，使用第二种方法。它在<code>main()</code>函数代码中保存声明的变量。</p> 
 <h2 id="h2-u8BBFu95EEu7ED3u6784u6210u5458"><a name="访问结构成员" class="reference-link"></a><span class="header-link octicon octicon-link"></span>访问结构成员</h2>
 <p>访问结构成员有两种方式：</p> 
 <ul> 
  <li>通过符号<code>.</code> (成员或点运算符)</li>
  <li>通过符号 <code>-&gt;</code>(结构指针运算符)</li>
 </ul> 
 <p>下面下面来看看看代码访问<code>p1</code>变量的<code>id</code>成员的<code>.</code>操作符。</p> 
 <pre><code class="lang-c">p1.id
</code></pre> 
 <h2 id="h2-u7ED3u6784u4F53u793Au4F8B"><a name="结构体示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>结构体示例</h2>
 <p>我们来看看一个简单的C语言结构示例。创建一个工程：<em>structure</em>，并在此工程下创建一个源文件：<em>structure-example.c</em>，其代码如下所示 -</p>   
 <pre><code class="lang-c">#include &lt;stdio.h&gt;  
#include &lt;string.h&gt;  
struct employee
{
    int id;
    char name[50];
}e1;  //declaring e1 variable for structure  

int main()
{
    //store first employee information  
    e1.id = 1010;
    strcpy(e1.name, "Max Su");//copying string into char array  
    //printing first employee information  
    printf("employee 1 id : %d\n", e1.id);
    printf("employee 1 name : %s\n", e1.name);
    return 0;
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">employee 1 id : 1010
employee 1 name : Max Su
</code></pre> 
 <p>下面我们来看看如何使用C语言结构体来存储多个员工信息的示例。</p> 
 <p>创建一个源文件：<em>structure-more-employee.c</em>，其代码如下所示 -</p> 
 <pre><code class="lang-c">#include &lt;stdio.h&gt;  
#include &lt;string.h&gt;  
struct employee
{
    int id;
    char name[50];
    float salary;
}e1, e2;  //declaring e1 and e2 variables for structure  

int main()
{
    //store first employee information  
    e1.id = 1001;
    strcpy(e1.name, "Max Su");//copying string into char array  
    e1.salary = 18000;

    //store second employee information  
    e2.id = 1002;
    strcpy(e2.name, "Julian Lee");
    e2.salary = 15600;

    //printing first employee information  
    printf("employee 1 id : %d\n", e1.id);
    printf("employee 1 name : %s\n", e1.name);
    printf("employee 1 salary : %f\n", e1.salary);

    //printing second employee information  
    printf("employee 2 id : %d\n", e2.id);
    printf("employee 2 name : %s\n", e2.name);
    printf("employee 2 salary : %f\n", e2.salary);

    return 0;
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">employee 1 id : 1001
employee 1 name : Max Su
employee 1 salary : 18000.000000
employee 2 id : 1002
employee 2 name : Julian Lee
employee 2 salary : 15600.000000
</code></pre>
 <br>      
</div></body></html>