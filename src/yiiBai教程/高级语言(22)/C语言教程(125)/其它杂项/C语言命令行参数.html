<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">C语言命令行参数</h1><div style="width:100%;float:left;" class="article-content">   
 <p>从命令行传递的参数称为命令行参数。这些参数由<code>main()</code>函数来处理的。</p> 
 <p>要支持命令行参数，您需要更改<code>main()</code>函数的结构，如下所示 -</p> 
 <pre><code class="lang-c">int main(int argc, char *argv[] )
</code></pre> 
 <p>在这里，<code>argc</code>计算参数的数量。它将文件名称作为第一个参数。</p> 
 <p><code>argv []</code>包含参数的总数。第一个参数永远是此程序的文件名。</p> 
 <h2 id="h2-u547Du4EE4u884Cu53C2u6570u5B9Eu4F8B"><a name="命令行参数实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>命令行参数实例</h2>
 <p>我们来看一下命令行参数的例子，用文件名传递一个参数。创建一个源文件：<em>main-commandline.c</em>，其代码如下所示 - </p> 
 <pre><code class="lang-c">#include &lt;stdio.h&gt;  
void main(int argc, char *argv[] )  {  
   printf("Program name is: %s\n", argv[0]);  
   if(argc &lt; 2){  
      printf("No argument passed through command line.\n");  
   }
   else{  
      printf("First argument is: %s\n", argv[1]);  
   }
}
</code></pre> 
 <p>在Linux上执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">root@AYZ:~#  gcc main-commandline.c
root@AYZ:~#  ./a.out argc_value
Program name is: ./a.out
First argument is: argc_value
</code></pre> 
 <p>在Windows中从命令行运行以下程序：</p> 
 <pre><code class="lang-shell">F:\&gt;cd worksp\clanguage\command-line-arguments\Debug

F:\worksp\clanguage\command-line-arguments\Debug&gt;dir
 驱动器 F 中的卷是 Others
 卷的序列号是 0007-6F29

 F:\worksp\clanguage\command-line-arguments\Debug 的目录

2017/08/18  01:23    &lt;DIR&gt;          .
2017/08/18  01:23    &lt;DIR&gt;          ..
2017/08/18  01:23            37,376 command-line-arguments.exe
2017/08/18  01:23           291,652 command-line-arguments.ilk
2017/08/18  01:23           552,960 command-line-arguments.pdb
               3 个文件        881,988 字节
               2 个目录 53,178,052,608 可用字节

F:\worksp\clanguage\command-line-arguments\Debug&gt;command-line-arguments.exe test-arg
Program name is: command-line-arguments.exe
First argument is: test-arg

F:\worksp\clanguage\command-line-arguments\Debug&gt;
</code></pre> 
 <p>如果传递很多参数，它只会打印一个，如下：</p>   
 <pre><code class="lang-shell">root@AYZ:~# ./a.out hello I am Maxsu
Program name is: ./a.out
First argument is: hello
</code></pre> 
 <p>但是，如果您在双引号内传递许多参数，则所有参数将被视为单个参数。如下 - </p> 
 <pre><code class="lang-shell">root@AYZ:~# ./a.out "hello I am Maxsu"
Program name is: ./a.out
First argument is: hello I am Maxsu
</code></pre> 
 <p>您可以编写程序来打印所有参数。在这个程序中，我们只打印<code>argv [1]</code>，这就是为什么只打印一个参数的原因了，您可以根据需要使用或打印<code>argv [2]</code>,<code>argv [3]</code>,<code>argv [4]....</code>等等。</p>
 <br>      
</div></body></html>