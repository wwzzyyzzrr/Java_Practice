<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">C#字符串</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在 C# 中，使用字符串作为字符数组，但更常见的做法是使用<code>string</code>关键字来声明一个字符串变量。<code>string</code>关键字是<code>System.String</code>类的别名。</p> 
 <h2 id="h2-u521Bu5EFAu4E00u4E2Au5B57u7B26u4E32u5BF9u8C61"><a name="创建一个字符串对象" class="reference-link"></a><span class="header-link octicon octicon-link"></span>创建一个字符串对象</h2>
 <p>可以使用以下方法之一来创建字符串对象：</p> 
 <ul> 
  <li>通过将一个字符串文字分配给一个<code>String</code>变量</li>
  <li>通过使用<code>String</code>类构造函数</li>
  <li>通过使用字符串连接运算符(<code>+</code>)</li>
  <li>通过检索属性或调用返回字符串的方法</li>
  <li>通过调用格式化方法将值或对象转换为其字符串表示形式</li>
 </ul> 
 <p><strong>示例：</strong></p> 
 <pre><code class="lang-csharp">using System;
namespace StringApplication
{
   class Program
   {
      static void Main(string[] args)
      {
         //from string literal and string concatenation
         string fname, lname;
         fname = "Rowan";
         lname = "Atkinson";

         string fullname = fname + lname;
         Console.WriteLine("Full Name: {0}", fullname);

         //by using string constructor
         char[] letters = { 'H', 'e', 'l', 'l','o' };
         string greetings = new string(letters);
         Console.WriteLine("Greetings: {0}", greetings);

         //methods returning string
         string[] sarray = { "Hello", "From", "Yiibai", "Point" };
         string message = String.Join(" ", sarray);
         Console.WriteLine("Message: {0}", message);

         //formatting method to convert a value
         DateTime waiting = new DateTime(2012, 10, 10, 17, 58, 1);
         string chat = String.Format("Message sent at {0:t} on {0:D}", waiting);
         Console.WriteLine("Message: {0}", chat);
      }
   }
}
</code></pre> 
 <p>当编译和执行上述代码时，会产生以下结果：</p> 
 <pre><code class="lang-shell">Full Name: Rowan Atkinson
Greetings: Hello
Message: Hello From Yiibai Point
Message: Message sent at 5:58 PM on Wednesday, October 10, 2012
</code></pre> 
 <h2 id="h2-string-"><a name="String类的属性" class="reference-link"></a><span class="header-link octicon octicon-link"></span>String类的属性</h2>
 <p><code>String</code>类具有以下两个属性：</p> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>属性</th> 
    <th>说明</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td>Chars</td> 
    <td>获取当前<code>String</code>对象中指定位置的<code>Char</code>对象。</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td>Length</td> 
    <td>获取当前<code>String</code>对象中的字符数。</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-string-"><a name="String类的方法" class="reference-link"></a><span class="header-link octicon octicon-link"></span>String类的方法</h2>
 <p><code>String</code>类有许多方法可以帮助我们来处理字符串对象。下表中提供了一些最常用的方法：</p> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>方法</th> 
    <th>说明</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td>public static int Compare(string strA, string strB)</td> 
    <td>比较两个指定的字符串对象，并返回一个整数，指示其在排序顺序中的相对位置。</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td>public static int Compare(string strA, string strB, bool ignoreCase )</td> 
    <td>比较两个指定的字符串对象，并返回一个整数，指示其在排序顺序中的相对位置。 但是，如果布尔参数为真，它将忽略大小写。</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td>public static string Concat(string str0, string str1)</td> 
    <td>连接两个字符串对象。</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td>public static string Concat(string str0, string str1, string str2)</td> 
    <td>连接三个字符串对象。</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td>public static string Concat(string str0, string str1, string str2, string str3)</td> 
    <td>连接四个字符串对象。</td> 
   </tr> 
   <tr> 
    <td>6</td> 
    <td>public bool Contains(string value)</td> 
    <td>返回一个值，该值指示在此字符串中是否发生指定的<code>String</code>对象。</td> 
   </tr> 
   <tr> 
    <td>7</td> 
    <td>public static string Copy(string str)</td> 
    <td>创建与指定字符串相同值的新<code>String</code>对象。</td> 
   </tr> 
   <tr> 
    <td>8</td> 
    <td>public void CopyTo(int sourceIndex, char[] destination, int destinationIndex, int count)</td> 
    <td>将指定数量的字符从<code>String</code>对象的指定位置复制到Unicode字符数组中的指定位置。</td> 
   </tr> 
   <tr> 
    <td>9</td> 
    <td>public bool EndsWith(string value)</td> 
    <td>确定字符串对象的末尾是否与指定的字符串匹配。</td> 
   </tr> 
   <tr> 
    <td>10</td> 
    <td>public bool Equals(string value)</td> 
    <td>确定当前的<code>String</code>对象和指定的<code>String</code>对象是否具有相同的值。</td> 
   </tr> 
   <tr> 
    <td>11</td> 
    <td>public static bool Equals(string a, string b)</td> 
    <td>确定两个指定的<code>String</code>对象是否具有相同的值。</td> 
   </tr> 
   <tr> 
    <td>12</td> 
    <td>public static string Format(string format, Object arg0)</td> 
    <td>用指定对象的字符串表示替换指定字符串中的一个或多个格式项。</td> 
   </tr> 
   <tr> 
    <td>13</td> 
    <td>public int IndexOf(char value)</td> 
    <td>返回当前字符串中指定Unicode字符首次出现的从零开始的索引。</td> 
   </tr> 
   <tr> 
    <td>14</td> 
    <td>public int IndexOf(string value)</td> 
    <td>返回此实例中指定字符串第一次出现的从零开始的索引。</td> 
   </tr> 
   <tr> 
    <td>15</td> 
    <td>public int IndexOf(char value, int startIndex)</td> 
    <td>返回此字符串中指定Unicode字符第一次出现的从零开始的索引，在指定的字符位置开始搜索。</td> 
   </tr> 
   <tr> 
    <td></td> 
   </tr> 
   <tr> 
    <td>16</td> 
    <td>public int IndexOf(string value, int startIndex)</td> 
    <td>返回此实例中指定字符串第一次出现的从零开始的索引，在指定的字符位置开始搜索。</td> 
   </tr> 
   <tr> 
    <td>17</td> 
    <td>public int IndexOfAny(char[] anyOf)</td> 
    <td>返回指定Unicode字符数组中任何字符在此实例中第一次出现的基于零的索引。</td> 
   </tr> 
   <tr> 
    <td>18</td> 
    <td>public int IndexOfAny(char[] anyOf, int startIndex)</td> 
    <td>返回在指定的Unicode字符数组中的任何字符在这个实例的第一次出现的基于零的索引，在指定的字符位置开始搜索。</td> 
   </tr> 
   <tr> 
    <td>19</td> 
    <td>public string Insert(int startIndex, string value)</td> 
    <td>返回一个新的字符串，在当前字符串对象的指定索引位置插入指定的字符串。</td> 
   </tr> 
   <tr> 
    <td>20</td> 
    <td>public static bool IsNullOrEmpty(string value)</td> 
    <td>判断指定的字符串是空值还是空字符串。</td> 
   </tr> 
   <tr> 
    <td>21</td> 
    <td>public static string Join(string separator, params string[] value)</td> 
    <td>每个元素之间使用指定的分隔符来连接字符串数组的所有元素。</td> 
   </tr> 
   <tr> 
    <td>22</td> 
    <td>public static string Join(string separator, string[] value, int startIndex, int count)</td> 
    <td>每个元素之间使用指定的分隔符来连接字符串数组的指定元素。</td> 
   </tr> 
   <tr> 
    <td>23</td> 
    <td>public int LastIndexOf(char value)</td> 
    <td>返回当前字符串对象中指定Unicode字符，从零开始搜索的最后一次出现的索引位置。</td> 
   </tr> 
   <tr> 
    <td>24</td> 
    <td>public int LastIndexOf(string value)</td> 
    <td>返回当前字符串对象中指定字符串从零开始搜索的最后一次出现的索引位置。</td> 
   </tr> 
   <tr> 
    <td>25</td> 
    <td>public string Remove(int startIndex)</td> 
    <td>删除当前实例中从指定位置开始到最后一个位置的所有字符，并返回此字符串。</td> 
   </tr> 
   <tr> 
    <td>26</td> 
    <td>public string Remove(int startIndex, int count)</td> 
    <td>从指定位置移除当前字符串中指定数量的字符，并返回字符串。</td> 
   </tr> 
   <tr> 
    <td>27</td> 
    <td>public string Replace(char oldChar, char newChar)</td> 
    <td>使用指定的Unicode字符替换当前字符串对象中指定的Unicode字符的所有出现字符，并返回新的字符串。</td> 
   </tr> 
   <tr> 
    <td>28</td> 
    <td>public string Replace(string oldValue, string newValue)</td> 
    <td>使用指定的字符串替换当前字符串对象中指定字符串的所有出现字符，并返回新的字符串。</td> 
   </tr> 
   <tr> 
    <td>29</td> 
    <td>public string[] Split(params char[] separator)</td> 
    <td>返回一个字符串数组，其中包含当前字符串对象中的子字符串，由指定的Unicode字符数组的元素分隔。</td> 
   </tr> 
   <tr> 
    <td>30</td> 
    <td>public string[] Split(char[] separator, int count)</td> 
    <td>返回一个字符串数组，其中包含当前字符串对象中的子字符串，由指定的Unicode字符数组的元素分隔。 <code>int</code>参数指定要返回的子字符串的最大数量。</td> 
   </tr> 
   <tr> 
    <td>31</td> 
    <td>public bool StartsWith(string value)</td> 
    <td>确定此字符串实例的开始是否与指定的字符串匹配。</td> 
   </tr> 
   <tr> 
    <td>32</td> 
    <td>public char[] ToCharArray()</td> 
    <td>返回一个Unicode字符数组，其中包含当前字符串对象中的所有字符。</td> 
   </tr> 
   <tr> 
    <td>33</td> 
    <td>public char[] ToCharArray(int startIndex, int length)</td> 
    <td>返回一个Unicode字符数组，其中包含当前字符串对象中的所有字符(从指定的索引开始，直到指定的长度。)</td> 
   </tr> 
   <tr> 
    <td>34</td> 
    <td>public string ToLower()</td> 
    <td>返回一个转换为小写的字符串的副本。</td> 
   </tr> 
   <tr> 
    <td>35</td> 
    <td>public string ToUpper()</td> 
    <td>返回一个转换为大写的字符串的副本。</td> 
   </tr> 
   <tr> 
    <td>36</td> 
    <td>public string Trim()</td> 
    <td>从当前String对象中删除所有前导和尾随的空格字符。</td> 
   </tr> 
  </tbody> 
 </table> 
 <p>您可以访问MSDN库，获取方法和String类构造函数的完整列表。</p> 
 <h2 id="h2-u5B9Eu4F8B"><a name="实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例</h2>
 <p>以下示例演示了上述一些方法：</p> 
 <p><strong>比较字符串：</strong></p>   
 <pre><code class="lang-csharp">using System;
namespace StringApplication
{
   class StringProg
   {
      static void Main(string[] args)
      {
         string str1 = "This is test";
         string str2 = "This is text";

         if (String.Compare(str1, str2) == 0)
         {
            Console.WriteLine(str1 + " and " + str2 +  " are equal.");
         }
         else
         {
            Console.WriteLine(str1 + " and " + str2 + " are not equal.");
         }
         Console.ReadKey() ;
      }
   }
}
</code></pre> 
 <p>当编译和执行上述代码时，会产生以下结果：</p> 
 <pre><code class="lang-shell">This is test and This is text are not equal.
</code></pre> 
 <p><strong>字符串包含字符串：</strong></p> 
 <pre><code class="lang-csharp">using System;
namespace StringApplication
{
   class StringProg
   {
      static void Main(string[] args)
      {
         string str = "This is test";
         if (str.Contains("test"))
         {
            Console.WriteLine("The sequence 'test' was found.");
         }
         Console.ReadKey() ;
      }
   }
}
</code></pre> 
 <p>当编译和执行上述代码时，会产生以下结果：</p> 
 <pre><code class="lang-shell">The sequence 'test' was found.
</code></pre> 
 <p><strong>获取子字符串：</strong></p> 
 <pre><code class="lang-csharp">using System;
namespace StringApplication
{
   class StringProg
   {
      static void Main(string[] args)
      {
         string str = "Last night I dreamt of Girls";
         Console.WriteLine(str);
         string substr = str.Substring(23);
         Console.WriteLine(substr);
      }
   }
}
</code></pre> 
 <p>当编译和执行上述代码时，会产生以下结果：</p> 
 <pre><code class="lang-shell">Girls
</code></pre> 
 <p><strong>将字符串连接：</strong></p> 
 <pre><code class="lang-csharp">using System;
namespace StringApplication
{
   class StringProg
   {
      static void Main(string[] args)
      {
         string[] starray = new string[]{"Down the way nights are dark",
         "And the sun shines daily on the mountain top",
         "I took a trip on a sailing ship",
         "And when I reached Jamaica",
         "I made a stop"};

         string str = String.Join("\n", starray);
         Console.WriteLine(str);
      }
   }
}
</code></pre> 
 <p>当编译和执行上述代码时，会产生以下结果：</p> 
 <pre><code class="lang-csharp">Down the way nights are dark
And the sun shines daily on the mountain top
I took a trip on a sailing ship
And when I reached Jamaica
I made a stop
</code></pre>
 <br>      
</div></body></html>