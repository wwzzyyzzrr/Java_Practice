<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">C# FileStream类</h1><div style="width:100%;float:left;" class="article-content">   
 <p> C# <code>FileStream</code>类为文件操作提供了一个流。它可以用于执行同步和异步的读写操作。在<code>FileStream</code>类的帮助下，我们可以轻松地将数据读写到文件中。</p> 
 <h2 id="h2-c-filestream-"><a name="C# FileStream示例：将单字节写入文件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C# FileStream示例：将单字节写入文件</h2>
 <p>下面来看看一个使用<code>FileStream</code>类的简单例子，它实现将单字节的数据写入文件。在这里，使用<code>OpenOrCreate</code>文件模式打开文件，这样的话可以对文件执行读写操作。</p> 
 <pre><code class="lang-csharp">using System;  
using System.IO;  
public class FileStreamExample  
{  
    public static void Main(string[] args)  
    {  
        FileStream f = new FileStream("e:\\filestream-demo.txt", FileMode.OpenOrCreate);//creating file stream  
        f.WriteByte(65);//writing byte into stream  
        f.Close();//closing stream  
    }  
}
</code></pre> 
 <p>执行上面代码后，打文件：<em>filestream-demo.txt</em>应该会看到以下内容 - </p> 
 <pre><code class="lang-shell">A
</code></pre> 
 <h2 id="h2-c-filestream-"><a name="C# FileStream示例：将多个字节写入文件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C# FileStream示例：将多个字节写入文件</h2>
 <p>下面再来看看另外一个例子，使用循环将多个字节的数据写入文件。</p> 
 <pre><code class="lang-csharp">using System;  
using System.IO;  
public class FileStreamExample  
{  
    public static void Main(string[] args)  
    {  
        FileStream f = new FileStream("e:\\filestream-demo.txt", FileMode.OpenOrCreate);  
        for (int i = 65; i &lt;= 90; i++)  
        {  
            f.WriteByte((byte)i);  
        }  
        f.Close();  
    }  
}
</code></pre> 
 <p>执行上面代码后，打文件：<em>filestream-demo.txt</em>应该会看到以下内容 - </p>   
 <pre><code class="lang-shell">ABCDEFGHIJKLMNOPQRSTUVWXYZ
</code></pre> 
 <h2 id="h2-c-filestream-"><a name="C# FileStream示例：从文件中读取所有字节" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C# FileStream示例：从文件中读取所有字节</h2>
 <p>下面来看看一个使用<code>FileStream</code>类从文件中读取数据的例子。 这里，<code>FileStream</code>类的<code>ReadByte()</code>方法返回单字节。要读取所有的字节，需要使用循环。</p> 
 <pre><code class="lang-csharp">using System;  
using System.IO;  
public class FileStreamExample  
{  
    public static void Main(string[] args)  
    {  
        FileStream f = new FileStream("e:\\filestream-demo.txt", FileMode.OpenOrCreate);  
        int i = 0;  
        while ((i = f.ReadByte()) != -1)  
        {  
            Console.Write((char)i);  
        }  
        f.Close();  
    }  
}
</code></pre> 
 <p>执行上面代码后，应该会看到输出以下内容 - </p> 
 <pre><code class="lang-shell">ABCDEFGHIJKLMNOPQRSTUVWXYZ
</code></pre>
 <br>      
</div></body></html>