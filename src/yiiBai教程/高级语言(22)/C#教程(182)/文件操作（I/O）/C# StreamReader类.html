<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">C# StreamReader类</h1><div style="width:100%;float:left;" class="article-content">   
 <p> C# <code>StreamReader</code>类用于从流中读取字符串。它继承自<code>TextReader</code>类，它提供<code>Read()</code>和<code>ReadLine()</code>方法从流中读取数据。</p> 
 <h2 id="h2-c-streamreader-"><a name="C#  StreamReader示例：读取一行" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C# StreamReader示例：读取一行</h2>
 <p>下面来看看一个<code>StreamReader</code>类的简单例子，它从文件中读取一行数据。</p> 
 <pre><code class="lang-csharp">using System;
using System.IO;
public class StreamReaderExample
{
    public static void Main(string[] args)
    {
        FileStream f = new FileStream("e:\\myoutput.txt", FileMode.OpenOrCreate);
        StreamReader s = new StreamReader(f);

        string line = s.ReadLine();
        Console.WriteLine(line);
        string line2 = s.ReadLine();
        Console.WriteLine(line2);
        s.Close();
        f.Close();
    }
}
</code></pre> 
 <p>假设<em>e:\myoutput.txt</em>文件的内容如下 - </p> 
 <pre><code class="lang-text">This is line 1
This is line 2
This is line 3
This is line 4
</code></pre> 
 <p>执行上面示例代码，得到以下输出结果 - </p> 
 <pre><code class="lang-shell">This is line 1
This is line 2
</code></pre> 
 <h2 id="h2-c-streamreader-"><a name="C#  StreamReader示例：读取所有行" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C# StreamReader示例：读取所有行</h2>
 <p>下面代码演示如何使用 <code>StreamReader</code> 来读取文件：<em>myoutput.txt</em>中的所有行内容 - </p>   
 <pre><code class="lang-csharp">using System;
using System.IO;
public class StreamReaderExample
{
    public static void Main(string[] args)
    {
        FileStream f = new FileStream("e:\\myoutput.txt", FileMode.OpenOrCreate);
        StreamReader s = new StreamReader(f);

        string line = "";
        while ((line = s.ReadLine()) != null)
        {
            Console.WriteLine(line);
        }
        s.Close();
        f.Close();
    }
}
</code></pre> 
 <p>执行上面示例代码，得到以下输出结果 - </p> 
 <pre><code class="lang-shell">This is line 1
This is line 2
This is line 3
This is line 4
</code></pre>
 <br>      
</div></body></html>