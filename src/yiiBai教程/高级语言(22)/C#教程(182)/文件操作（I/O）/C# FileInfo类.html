<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">C# FileInfo类</h1><div style="width:100%;float:left;" class="article-content">   
 <p> C# 中的<code>FileInfo</code>类用于处理及操作文件。它提供用于创建，删除和读取文件的属性和方法。 它使用<code>StreamWriter</code>类将文件写入文件。它在<code>System.IO</code>命名空间中定义。</p> 
 <h2 id="h2-c-fileinfo-"><a name="C#  FileInfo类声明" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C# FileInfo类声明</h2>
 <pre><code class="lang-csharp">[SerializableAttribute]  
[ComVisibleAttribute(true)]  
public sealed class FileInfo : FileSystemInfo
</code></pre> 
 <h2 id="h2-c-fileinfo-"><a name="C#  FileInfo构造函数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C# FileInfo构造函数</h2>
 <p>下表列出<code>FileInfo</code>类的构造函数。</p> 
 <table> 
  <thead> 
   <tr> 
    <th>构造函数</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>FileInfo(String)</td> 
    <td>它用于初始化<code>FileInfo</code>类的新实例，该实例充当文件路径的包装器。</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-c-fileinfo-"><a name="C#  FileInfo属性" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C# FileInfo属性</h2>
 <p>下表列出<code>FileInfo</code>类的属性。</p> 
 <table> 
  <thead> 
   <tr> 
    <th>属性</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>Attributes</td> 
    <td>它用于获取或设置当前文件或目录的属性。</td> 
   </tr> 
   <tr> 
    <td>CreationTime</td> 
    <td>它用于获取或设置当前文件或目录的创建时间。</td> 
   </tr> 
   <tr> 
    <td>Directory</td> 
    <td>它用于获取父目录的实例。</td> 
   </tr> 
   <tr> 
    <td>DirectoryName</td> 
    <td>它用于获取表示目录完整路径的字符串。</td> 
   </tr> 
   <tr> 
    <td>Exists</td> 
    <td>它用于获取一个值，指示文件是否存在。</td> 
   </tr> 
   <tr> 
    <td>FullName</td> 
    <td>它用于获取目录或文件的完整路径。</td> 
   </tr> 
   <tr> 
    <td>IsReadOnly</td> 
    <td>它用于获取或设置确定当前文件是否为只读的值。</td> 
   </tr> 
   <tr> 
    <td>LastAccessTime</td> 
    <td>它用于获取或设置从上一次访问当前文件或目录的时间。</td> 
   </tr> 
   <tr> 
    <td>Length</td> 
    <td>它用于获取当前文件的字节数。</td> 
   </tr> 
   <tr> 
    <td>Name</td> 
    <td>它用于获取文件的名称。</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-c-fileinfo-"><a name="C#  FileInfo方法" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C# FileInfo方法</h2>
 <p>下表列出<code>FileInfo</code>类中定义的方法。</p> 
 <table> 
  <thead> 
   <tr> 
    <th>方法</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>AppendText()</td> 
    <td>它用于创建一个<code>StreamWriter</code>类对象，将文本附加到<code>FileInfo</code>的此实例所表示的文件中。</td> 
   </tr> 
   <tr> 
    <td>CopyTo(String)</td> 
    <td>它用于将现有文件复制到新文件。</td> 
   </tr> 
   <tr> 
    <td>Create()</td> 
    <td>它用于创建文件。</td> 
   </tr> 
   <tr> 
    <td>CreateText()</td> 
    <td>它用于创建一个写入新文本文件的<code>StreamWriter</code>类对象。</td> 
   </tr> 
   <tr> 
    <td>Decrypt()</td> 
    <td>它用于解密由使用加密方法当前帐户加密的文件。</td> 
   </tr> 
   <tr> 
    <td>Delete()</td> 
    <td>它用于永久删除文件。</td> 
   </tr> 
   <tr> 
    <td>Encrypt()</td> 
    <td>它用于加密文件，以便只有用于加密文件的帐户才能对其进行解密。</td> 
   </tr> 
   <tr> 
    <td>GetAccessControl()</td> 
    <td>它用于获取封装访问控制列表(ACL)条目的<code>FileSecurity</code>对象。</td> 
   </tr> 
   <tr> 
    <td>MoveTo(String)</td> 
    <td>它用于将特定文件移动到新的指定位置。</td> 
   </tr> 
   <tr> 
    <td>Open(FileMode)</td> 
    <td>它用于以指定的模式来打开文件。</td> 
   </tr> 
   <tr> 
    <td>OpenRead()</td> 
    <td>它用于创建只读<code>FileStream</code>。</td> 
   </tr> 
   <tr> 
    <td>OpenText()</td> 
    <td>它用于创建从现有文本文件使用UTF8编码读取的<code>StreamReader</code>类。</td> 
   </tr> 
   <tr> 
    <td>OpenWrite()</td> 
    <td>它用于创建只写<code>FileStream</code>对象。</td> 
   </tr> 
   <tr> 
    <td>Refresh()</td> 
    <td>它用于刷新对象的状态。</td> 
   </tr> 
   <tr> 
    <td>Replace(String,String)</td> 
    <td>用于使用当前<code>FileInfo</code>对象描述的文件替换指定文件的内容。</td> 
   </tr> 
   <tr> 
    <td>ToString()</td> 
    <td>它用于将路径作为字符串返回。</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-c-fileinfo-"><a name="C#  FileInfo示例：创建文件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C# FileInfo示例：创建文件</h2>
 <pre><code class="lang-csharp">using System;
using System.IO;
namespace CSharpProgram
{
    class Program
    {
        static void Main(string[] args)
        {
            try
            {
                // Specifying file location  
                string loc = "F:\\worksp\\csharp\\fileinfo.txt";
                // Creating FileInfo instance  
                FileInfo file = new FileInfo(loc);
                // Creating an empty file  
                file.Create();
                Console.WriteLine("File is created Successfuly");
            }
            catch (IOException e)
            {
                Console.WriteLine("Something went wrong: " + e);
            }
        }
    }
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p>   
 <pre><code class="lang-shell">File is created Successfuly
</code></pre> 
 <p>可以在<em>F:\worksp\csharp</em>目录内看到有一个文件：<em>fileinfo.txt</em>被创建。如下图中所示 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201709/1209/221100932_86021.png" alt=""></p> 
 <h2 id="h2-c-fileinfo-"><a name="C#  FileInfo示例：写入文件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C# FileInfo示例：写入文件</h2>
 <pre><code class="lang-csharp">using System;
using System.IO;
namespace CSharpProgram
{
    class Program
    {
        static void Main(string[] args)
        {
            try
            {
                // Specifying file location  
                string loc = "F:\\worksp\\csharp\\fileinfo.txt";
                // Creating FileInfo instance  
                FileInfo file = new FileInfo(loc);
                // Creating an file instance to write  
                StreamWriter sw = file.CreateText();
                // Writing to the file  
                sw.WriteLine("This text is written to the file by using StreamWriter class.");
                sw.Close();
            }
            catch (IOException e)
            {
                Console.WriteLine("Something went wrong: " + e);
            }
        }
    }
}
</code></pre> 
 <p>执行上面示例代码后，打开<em>F:\worksp\csharp\fileinfo.txt</em>文件，应该会看到以下内容 - </p> 
 <pre><code class="lang-shell">This text is written to the file by using StreamWriter class.
</code></pre> 
 <h2 id="h2-c-fileinfo-"><a name="C#  FileInfo示例：从文件中读取文本内容" class="reference-link"></a><span class="header-link octicon octicon-link"></span>C# FileInfo示例：从文件中读取文本内容</h2>
 <pre><code class="lang-csharp">using System;
using System.IO;
namespace CSharpProgram
{
    class Program
    {
        static void Main(string[] args)
        {
            try
            {
                // Specifying file to read  
                string loc = "F:\\worksp\\csharp\\fileinfo.txt";
                // Creating FileInfo instance  
                FileInfo file = new FileInfo(loc);
                // Opening file to read  
                StreamReader sr = file.OpenText();
                string data = "";
                while ((data = sr.ReadLine()) != null)
                {
                    Console.WriteLine(data);
                }
            }
            catch (IOException e)
            {
                Console.WriteLine("Something went wrong: " + e);
            }
        }
    }
}
</code></pre> 
 <p>执行上面示例代码后，应该会看到以下结果 - </p> 
 <pre><code class="lang-shell">This text is written to the file by using StreamWriter class.
</code></pre>
 <br>      
</div></body></html>