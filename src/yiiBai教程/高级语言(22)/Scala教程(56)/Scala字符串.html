<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Scala字符串</h1><div style="width:100%;float:left;" class="article-content">   
 <p>本章将介绍Scala中的字符串。 在Scala中的字符串和Java中的一样，字符串是一个不可变的对象，也就是一个不能修改的对象。可以修改的对象，如数组，称为可变对象。字符串是非常有用的对象，在本节的最后部分，我们将介绍<code>java.lang.String</code>类的一些重要方法。</p> 
 <h2 id="h2-1-"><a name="1.创建一个字符串" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1.创建一个字符串</h2>
 <p>以下是创建一个字符串的代码 -</p> 
 <pre><code class="lang-scala">var greeting = "Hello world!";

// 或者

var greeting:String = "Hello world!";
</code></pre> 
 <p>每当编译器在代码中遇到一个字符串文字时，它会创建一个带有它的值的String对象，在这种情况下是<code>“Hello world！”</code>。<code>String</code>关键字也可以在如上所示的第二个声明中给出。</p> 
 <p>请尝试以下示例程序。</p> 
 <pre><code class="lang-scala">object Demo {
   val greeting: String = "Hello, world!"

   def main(args: Array[String]) {
      println( greeting )
   }
}
</code></pre> 
 <p>将上述程序保存在源文件：<em>Demo.scala</em>中，使用以下命令编译和执行此程序。</p> 
 <pre><code class="lang-scala">D:\&gt; scalac Demo.scala
D:\&gt; scala Demo

Hello, world!
</code></pre> 
 <p>如前所述，<code>String</code>类是不可变的。创建后的<code>String</code>对象是无法更改的。如果有必要对字符串进行大量修改，那么可考虑使用Scala中提供的<code>StringBuilder</code>类。</p> 
 <h2 id="h2-2-"><a name="2. 字符串长度" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2. 字符串长度</h2>
 <p>用于获取有关对象的信息的方法称为访问器方法。一个可以与字符串一起使用的访问器方法是<code>length()</code>方法，它返回字符串对象中包含的字符数。</p> 
 <p>使用以下代码段来查找字符串的长度 - </p> 
 <p><strong>例子</strong></p> 
 <pre><code class="lang-scala">object Demo {
   def main(args: Array[String]) {
      var palindrome = "Dot saw I was Tod";
      var len = palindrome.length();

      println( "String Length is : " + len );
   }
}
</code></pre> 
 <p>将上述程序保存在源文件：<em>Demo.scala</em>中，使用以下命令编译和执行此程序。</p> 
 <pre><code class="lang-scala">$ scalac Demo.scala
$ scala Demo

String Length is : 17
</code></pre> 
 <h2 id="h2-3-"><a name="3. 连接字符串" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3. 连接字符串</h2>
 <p>String类包括一个连接两个字符串的方法 -</p> 
 <pre><code class="lang-scala">string1.concat(string2);
</code></pre> 
 <p>这将返回一个新的字符串，字符串<code>string1</code>的尾部添加字符串<code>string2</code>。您也可以使用<code>concat()</code>方法在字符串文字上操作，如下 -</p> 
 <pre><code class="lang-scala">"My name is ".concat("Zara");
</code></pre> 
 <p>字符串通常还使用<code>+</code>运算符连接，如 -</p> 
 <pre><code class="lang-scala">"Hello," + " world" + "!"
</code></pre> 
 <p>这将产生以下结果 -</p> 
 <pre><code class="lang-scala">"Hello, world!"
</code></pre> 
 <p>以下代码行将两个字符串相连接 - </p> 
 <pre><code class="lang-scala">object Demo {
   def main(args: Array[String]) {
      var str1 = "Dot saw I was ";
      var str2 =  "Tod";

      println("Dot " + str1 + str2);
   }
}
</code></pre> 
 <p>将上述程序保存在源文件：<em>Demo.scala</em>中，使用以下命令编译和执行此程序。</p> 
 <pre><code class="lang-shell">D:\&gt;scalac Demo.scala
D:\&gt;scala Demo

Dot Dot saw I was Tod
</code></pre> 
 <h2 id="h2-4-"><a name="4. 创建格式化字符串" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4. 创建格式化字符串</h2>
 <p>您可以使用<code>printf()</code>和<code>format()</code>方法打印具有格式化数字或字符串的输出。 <code>String</code>类具有<code>format()</code>方法，它返回<code>String</code>对象而不是<code>PrintStream</code>对象。</p> 
 <p>尝试以下示例程序，它使用<code>printf()</code>方法 - </p> 
 <p><strong>示例</strong></p> 
 <pre><code class="lang-scala">object Demo {
   def main(args: Array[String]) {
      var floatVar = 12.456
      var intVar = 2000
      var stringVar = "Hello, Scala!"

      var fs = printf("The value of the float variable is " + "%f, while the value of the integer " + "variable is %d, and the string" + "is %s", floatVar, intVar, stringVar);

      println(fs)
   }
}
</code></pre> 
 <p>将上述程序保存在源文件：<em>Demo.scala</em>中，以下命令用于编译和执行此程序。</p> 
 <pre><code class="lang-scala">D:\&gt;scalac Demo.scala
D:\&gt;scala Demo

The value of the float variable is 12.456000, 
while the value of the integer variable is 2000, 
and the string is Hello, Scala!()
</code></pre> 
 <h2 id="h2-5-"><a name="5. 字符串插值" class="reference-link"></a><span class="header-link octicon octicon-link"></span>5. 字符串插值</h2>
 <p>字符串插值是使用Scala编程语言创建字符串的新方法。此功能支持只在<em>Scala-2.10</em>及更高版本。字符串插值：直接在过程字符串文字中嵌入变量引用的机制。</p> 
 <p>字符串插值中有三种类型(插值器)实现。</p> 
 <h3 id="h3-5-1-s-"><a name="5.1. ‘s’字符串插值器" class="reference-link"></a><span class="header-link octicon octicon-link"></span>5.1. ‘s’字符串插值器</h3>
 <p>文字<code>'s'</code>允许在处理字符串时直接使用变量。任何在范围中的String变量可以在字符串中使用。以下是<code>'s'</code>字符串插值器的不同用法。</p> 
 <p>在<code>println</code>语句中将<code>String</code>变量(<code>$name</code>)附加到普通字符串(<code>Hello</code>)中，以下示例代码片段用于实现<code>'s'</code>插值器。</p> 
 <pre><code class="lang-scala">val name = “James”
println(s “Hello, $name”) //output: Hello, James
</code></pre> 
 <p>字符串插入器还可以处理任意表达式。 使用<code>'s'</code>字符串插入器处理具有任意表达式(<code>${1 + 1}</code>)的字符串(<code>1 + 1</code>)的以下代码片段。任何表达式都可以嵌入到<code>${}</code>中。</p> 
 <pre><code class="lang-scala">println(s “1 + 1 = ${1 + 1}”) //output: 1 + 1 = 2
</code></pre> 
 <p>尝试实现<code>'s'</code>插值器的示例程序如下 - </p> 
 <pre><code class="lang-scala">object Demo {
   def main(args: Array[String]) {
      val name = "James"

      println(s"Hello, $name")
      println(s"1 + 1 = ${1 + 1}")
   }
}
</code></pre> 
 <p>将上述程序保存在源文件：<em>Demo.scala</em>中，使用以下命令编译和执行此程序。</p> 
 <pre><code class="lang-scala">D:\&gt;scalac Demo.scala
D:\&gt;scala Demo

Hello, James
1 + 1 = 2
</code></pre> 
 <h3 id="h3-5-2-f-"><a name="5.2 ‘f’插值器" class="reference-link"></a><span class="header-link octicon octicon-link"></span>5.2 ‘f’插值器</h3>
 <p>文字<code>'f'</code>插值器允许创建一个格式化的字符串，类似于C语言中的<code>printf</code>。 在使用<code>'f'</code>插值器时，所有变量引用都应该是<code>printf</code>样式格式说明符，如<code>％d</code>，<code>％i</code>，<code>％f</code>等。</p> 
 <p>我们以一般的字符串为例附加浮点值(<code>height = 1.9d</code>)和字符串变量(<code>name =“James”</code>)。下面的代码片段实现<code>'f'</code>插值器。这里<code>$name％s</code>打印String变量<code>James</code>和<code>$height％2.2f</code>打印浮点值<code>1.90</code>。</p> 
 <pre><code class="lang-scala">val height = 1.9d
val name = "James"
println(f"$name%s is $height%2.2f meters tall") //James is 1.90 meters tall
</code></pre> 
 <p>它是类型安全的变量引用，以下格式说明符要匹配，否则显示错误。<code>'f'</code>插值器使用Java中可用<code>String</code>格式实用程序(格式说明符)。 默认情况下，变量引用后没有<code>％</code>字符。它将假定为<code>％s</code>的字符串。</p> 
 <h3 id="h3-5-3-"><a name="5.3 “原始”插值器" class="reference-link"></a><span class="header-link octicon octicon-link"></span>5.3 “原始”插值器</h3>
 <p><code>'raw'</code>内插器类似于<code>'s'</code>插值器，除了它不执行字符串内的文字转义。下表中的代码段将区别<code>'s'</code>和<code>'raw'</code>插值器的用法。 在使用<code>s</code>和<code>\n</code>效果的输出中，新行作为原始值输出，也就是<code>\n</code>将不起作用。它将使用转义字母打印完整的字符串。</p> 
 <ul> 
  <li><p><code>'s'</code>的插值器使用，程序代码如下 - </p> <pre><code class="lang-scala">object Demo {
 def main(args: Array[String]) {
    println(s"Result = \n a \n b")
 }
}
</code></pre> <p>输出结果 -</p> <pre><code class="lang-shell">Result =
a
b
</code></pre> </li>
  <li><p><code>'raw'</code>的插值器使用，程序代码如下 - </p> <pre><code class="lang-scala">object Demo {
 def main(args: Array[String]) {
    println(raw"Result = \n a \n b")
 }
}
</code></pre> <p>输出结果 -</p> <pre><code class="lang-shell">Result = \n a \n b
</code></pre> </li>
 </ul> 
 <h2 id="h2-u5B57u7B26u4E32u65B9u6CD5"><a name="字符串方法" class="reference-link"></a><span class="header-link octicon octicon-link"></span>字符串方法</h2>
 <p>以下是<code>java.lang.String</code>类定义的方法列表，可以直接在<code>Scala</code>程序中使用 -</p> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>方法</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td>char charAt(int index)</td> 
    <td>返回指定索引处的字符。</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td>int compareTo(Object o)</td> 
    <td>将此<code>String</code>与另一个对象进行比较。</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td>int compareTo(String anotherString)</td> 
    <td>按字典顺序比较两个字符串。</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td>int compareToIgnoreCase(String str)</td> 
    <td>按字典顺序比较两个字符串，忽略大小写差异。</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td>String concat(String str)</td> 
    <td>将指定的字符串连接到该字符串的末尾。</td> 
   </tr> 
   <tr> 
    <td>6</td> 
    <td>boolean contentEquals(StringBuffer sb)</td> 
    <td>当且仅当此<code>String</code>表示与指定的<code>StringBuffer</code>的字符序列相同时，才返回<code>true</code>。</td> 
   </tr> 
   <tr> 
    <td>7</td> 
    <td>static String copyValueOf(char[] data)</td> 
    <td>返回一个字符串，表示指定的数组中的字符序列。</td> 
   </tr> 
   <tr> 
    <td>8</td> 
    <td>static String copyValueOf(char[] data, int offset, int count)</td> 
    <td>返回一个字符串，表示指定的数组中的字符序列。</td> 
   </tr> 
   <tr> 
    <td>9</td> 
    <td>boolean endsWith(String suffix)</td> 
    <td>测试此字符串是否以指定的字符串为后缀/结尾。</td> 
   </tr> 
   <tr> 
    <td>10</td> 
    <td>boolean equals(Object anObject)</td> 
    <td>将此字符串与指定对象进行比较。</td> 
   </tr> 
   <tr> 
    <td>11</td> 
    <td>boolean equalsIgnoreCase(String anotherString)</td> 
    <td>将此String与另一个String进行比较，并忽略大小写。</td> 
   </tr> 
   <tr> 
    <td>12</td> 
    <td>byte getBytes()</td> 
    <td>使用平台的默认字符集将此String编码为一系列字节，将结果存储到新的字节数组中。</td> 
   </tr> 
   <tr> 
    <td>13</td> 
    <td>byte[] getBytes(String charsetName)</td> 
    <td>使用命名的字符集将此String编码为一系列字节，将结果存储到新的字节数组中。</td> 
   </tr> 
   <tr> 
    <td>14</td> 
    <td>void getChars(int srcBegin, int srcEnd, char[] dst, int dstBegin)</td> 
    <td>将此字符串从<code>srcBegin</code>到<code>srcEnd</code>索引处的字符复制到目标字符数组(<code>dst</code>)中。</td> 
   </tr> 
   <tr> 
    <td>15</td> 
    <td>int hashCode()</td> 
    <td>返回此字符串的哈希码。</td> 
   </tr> 
   <tr> 
    <td>16</td> 
    <td>int indexOf(int ch)</td> 
    <td>返回指定字符第一次在字符串中出现的索引。</td> 
   </tr> 
   <tr> 
    <td>17</td> 
    <td>int indexOf(int ch, int fromIndex)</td> 
    <td>返回指定字符以指定的索引开始搜索第一次在字符串内出现的索引。</td> 
   </tr> 
   <tr> 
    <td>18</td> 
    <td>int indexOf(String str)</td> 
    <td>返回指定子字符串在字符串内第一次出现的索引。</td> 
   </tr> 
   <tr> 
    <td>19</td> 
    <td>int indexOf(String str, int fromIndex)</td> 
    <td>返回从指定的索引开始，指定子串的第一次出现在给定字符串中的索引。</td> 
   </tr> 
   <tr> 
    <td>20</td> 
    <td>String intern()</td> 
    <td>返回字符串对象的规范表示。</td> 
   </tr> 
   <tr> 
    <td>21</td> 
    <td>int lastIndexOf(int ch)</td> 
    <td>返回指定字符在字符串中最后一次出现的索引。</td> 
   </tr> 
   <tr> 
    <td>22</td> 
    <td>int lastIndexOf(int ch, int fromIndex)</td> 
    <td>返回指定字符在给定字符串中的最后一次出现的索引，它从指定的索引开始向后搜索。</td> 
   </tr> 
   <tr> 
    <td>23</td> 
    <td>int lastIndexOf(String str)</td> 
    <td>返回指定子字符串在字符串内的最右边出现的索引。</td> 
   </tr> 
   <tr> 
    <td>24</td> 
    <td>int lastIndexOf(String str, int fromIndex)</td> 
    <td>返回指定子字符串在给定字符串中最后一次出现的索引，它从指定索引开始向后搜索。</td> 
   </tr> 
   <tr> 
    <td>25</td> 
    <td>int length()</td> 
    <td>返回此字符串的长度。</td> 
   </tr> 
   <tr> 
    <td>26</td> 
    <td>boolean matches(String regex)</td> 
    <td>测试这个字符串是否与给定的正则表达式匹配。</td> 
   </tr> 
   <tr> 
    <td>27</td> 
    <td>boolean regionMatches(boolean ignoreCase, int toffset, String other, int offset, int len)</td> 
    <td>测试两个字符串区域是否相等。</td> 
   </tr> 
   <tr> 
    <td>28</td> 
    <td>boolean regionMatches(int toffset, String other, int offset, int len)</td> 
    <td>测试两个字符串区域是否相等。</td> 
   </tr> 
   <tr> 
    <td>29</td> 
    <td>String replace(char oldChar, char newChar)</td> 
    <td>返回一个新的字符串，此字符串是使用<code>newChar</code>替换此字符串中所有出现的<code>oldChar</code>的结果。</td> 
   </tr> 
   <tr> 
    <td>30</td> 
    <td>String replaceAll(String regex, String replacement</td> 
    <td>使用<code>replacement</code>替换与给定正则表达式(<code>regex</code>)匹配的字符串中的每个子字符串。</td> 
   </tr> 
   <tr> 
    <td>31</td> 
    <td>String replaceFirst(String regex, String replacement)</td> 
    <td>用给定的<code>replacement</code>替换与给定正则表达式(<code>regex</code>)匹配的字符串中的第一个子字符串。</td> 
   </tr> 
   <tr> 
    <td>32</td> 
    <td>String[] split(String regex)</td> 
    <td>将此字符串拆分为给定正则表达式的匹配项。</td> 
   </tr> 
   <tr> 
    <td>33</td> 
    <td>String[] split(String regex, int limit)</td> 
    <td>将此字符串拆分为给定正则表达式的匹配项。</td> 
   </tr> 
   <tr> 
    <td>34</td> 
    <td>boolean startsWith(String prefix)</td> 
    <td>测试此字符串是否以指定的前缀开头。</td> 
   </tr> 
   <tr> 
    <td>35</td> 
    <td>boolean startsWith(String prefix, int toffset)</td> 
    <td>测试此字符串是否以指定的前缀开头，指定一个指定的索引。</td> 
   </tr> 
   <tr> 
    <td>36</td> 
    <td>CharSequence subSequence(int beginIndex, int endIndex)</td> 
    <td>返回一个新的字符序列，该序列是该序列的子序列。</td> 
   </tr> 
   <tr> 
    <td>37</td> 
    <td>String substring(int beginIndex)</td> 
    <td>返回一个新字符串，该字符串是此字符串的子字符串。</td> 
   </tr> 
   <tr> 
    <td>38</td> 
    <td>String substring(int beginIndex, int endIndex)</td> 
    <td>返回一个新字符串，该字符串是此字符串的子字符串。</td> 
   </tr> 
   <tr> 
    <td>39</td> 
    <td>char[] toCharArray()</td> 
    <td>将此字符串转换为新的字符数组。</td> 
   </tr> 
   <tr> 
    <td>40</td> 
    <td>String toLowerCase()</td> 
    <td>使用默认语言环境的规则将此String中的所有字符转换为小写。</td> 
   </tr> 
   <tr> 
    <td>41</td> 
    <td>String toLowerCase(Locale locale)</td> 
    <td>使用给定的区域设置的规则将此String中的所有字符转换为小写。</td> 
   </tr> 
   <tr> 
    <td>42</td> 
    <td>String toString()</td> 
    <td>此对象(已经是字符串)本身已被返回。</td> 
   </tr> 
   <tr> 
    <td>43</td> 
    <td>String toUpperCase()</td> 
    <td>使用默认语言环境的规则将此字符串中的所有字符转换为大写。</td> 
   </tr> 
   <tr> 
    <td>44</td> 
    <td>String toUpperCase(Locale locale)</td> 
    <td>使用给定的区域设置的规则将此String中的所有字符转换为大写。</td> 
   </tr> 
   <tr> 
    <td>45</td> 
    <td>String trim()</td> 
    <td>返回字符串的副本，省略前导和尾随空格。</td> 
   </tr> 
   <tr> 
    <td>46</td> 
    <td>static String valueOf(primitive data type x)</td> 
    <td>返回传递数据类型参数的字符串表示形式。</td> 
   </tr> 
  </tbody> 
 </table>
 <br>      
</div></body></html>