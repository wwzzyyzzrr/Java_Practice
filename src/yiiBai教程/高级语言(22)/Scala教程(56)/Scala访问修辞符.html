<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Scala访问修辞符</h1><div style="width:100%;float:left;" class="article-content">   
 <p>本章将介绍Scala访问修饰符。包，类或对象的成员可以使用私有(<code>private</code>)和受保护(<code>protected</code>)的访问修饰符进行标注，如果不使用这两个关键字的其中一个，那么访问将被视为公开(<code>public</code>)的。这些修饰符限制了对某些代码区域的成员访问。要使用访问修饰符，请将其关键字包含在包，类或对象的成员的定义中，我们将在下一节中看到。</p> 
 <h2 id="h2-u79C1u6709u6210u5458"><a name="私有成员" class="reference-link"></a><span class="header-link octicon octicon-link"></span>私有成员</h2>
 <p>私有(<code>private</code>)成员只能在包含成员定义的类或对象内部可见。</p> 
 <p>以下是示例代码段解释私有(<code>private</code>)成员 - </p> 
 <pre><code class="lang-scala">class Outer {
   class Inner {
      private def f() { println("f") }

      class InnerMost {
         f() // OK
      }
   }
   (new Inner).f() // Error: f is not accessible
}
</code></pre> 
 <p>在Scala，访问<code>(new Inner). f()</code>是非法的，因为<code>f</code>在<code>Inner</code>类中声明为<code>private</code>，并且访问不在<code>Inner</code>类内。 相比之下，第一次在<code>“InnerMost”</code>类中访问<code>f()</code>是可以的，因为该访问包含在<code>Inner</code>类的主体中。在Java中也允许这样的两个访问，因为它允许外部类访问其内部类的私有成员。</p> 
 <h2 id="h2-u53D7u4FDDu62A4u7684u4F1Au5458"><a name="受保护的会员" class="reference-link"></a><span class="header-link octicon octicon-link"></span>受保护的会员</h2>
 <p>受保护(<code>protected</code>)成员只能从定义成员的类的子类访问。以下是说明受保护(<code>protected</code>)成员的示例代码片段 -</p> 
 <pre><code class="lang-scala">package p {
   class Super {
      protected def f() { println("f") }
   }

   class Sub extends Super {
      f()
   }

   class Other {
      (new Super).f() // Error: f is not accessible
   }
}
</code></pre> 
 <p>在<code>Sub</code>类中访问<code>f</code>是可行的，因为<code>f</code>被声明为在<code>Super</code>类中被保护，<code>Sub</code>类是<code>Super</code>的子类。 相反，不允许访问<code>Other</code>类中的<code>f()</code>方法，因为<code>Other</code>类不会从<code>Super</code>类继承。在Java中，后者的访问将仍然允许，因为<code>Other</code>类与<code>Sub</code>类在同一个包中。</p> 
 <h2 id="h2-u516Cu6709u6210u5458"><a name="公有成员" class="reference-link"></a><span class="header-link octicon octicon-link"></span>公有成员</h2>
 <p>不同于私有和受保护的成员，不需要为公有成员使用<code>Public</code>关键字指定。没有明确使用修饰符则自动归为公共成员。 这些成员可以从任何地方访问。</p> 
 <p>以下是解释公共成员的示例代码片段 -</p>   
 <pre><code class="lang-scala">class Outer {
   class Inner {
      def f() { println("f") }

      class InnerMost {
         f() // OK
      }
   }
   (new Inner).f() // OK because now f() is public
}
</code></pre> 
 <h2 id="h2-u4FDDu62A4u4F5Cu7528u57DF"><a name="保护作用域" class="reference-link"></a><span class="header-link octicon octicon-link"></span>保护作用域</h2>
 <p>Scala中的访问修饰符可以通过限定符进行扩充。形式为<code>private [X]</code>或<code>protected [X]</code>的修饰符表示为访问是私有或受保护的“最多”到<em>X</em>，其中<em>X</em>指定一些封闭的包，类或单例对象。</p> 
 <p>考虑以下示例 -</p> 
 <pre><code class="lang-scala">package society {
   package professional {
      class Executive {
         private[professional] var workDetails = null
         private[society] var friends = null
         private[this] var secrets = null

         def help(another : Executive) {
            println(another.workDetails)
            println(another.secrets) //ERROR
         }
      }
   }
}
</code></pre> 
 <p><strong>注意</strong> - 以下几点来自上面的例子总结 - </p> 
 <ul> 
  <li>变量：<code>workDetails</code>在封闭包<code>professional</code>中的任何类中可访问。</li>
  <li>封闭包：<code>friends</code>的任何类都可以被<code>society</code>包中任何类访问。</li>
  <li>变量：<code>secrets</code>只能在实例方法的隐式对象(<code>this</code>)中访问。</li>
 </ul>
 <br>      
</div></body></html>