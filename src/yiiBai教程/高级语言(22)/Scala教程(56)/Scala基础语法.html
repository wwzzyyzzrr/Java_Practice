<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Scala基础语法</h1><div style="width:100%;float:left;" class="article-content">   
 <p>如果您熟悉Java语言语法和编程，那么学习Scala将会很容易。Scala和Java之间最大的句法差异在于行结束字符的分号(<code>;</code>) 是可选的。</p> 
 <p>当编写Scala程序时，它可以被定义为通过调用彼此的方法进行通信的对象的集合。现在我们简单地看一下类，对象，方法和实例变量的含义。</p> 
 <ul> 
  <li><em>对象</em> - 对象有状态和行为。一个对象是类的一个实例。例如 - 狗有状态：颜色，名称，品种，它行为有：摇摆，吠叫和吃东西。</li>
  <li><em>类</em> - 可以将类定义为描述与该类相关的行为/状态的模板/蓝图。</li>
  <li><em>方法</em> - 一个方法基本上是一种行为。一个类可以包含很多方法。将逻辑代码写入的方法中，数据在方法中操纵并且执行所有的动作。</li>
  <li><em>字段</em> - 每个对象都有其唯一的一组实例变量，称为字段。对象的状态是由分配给这些字段的值来创建的。</li>
  <li><em>闭包</em> - 闭包是一个函数，其返回值取决于在此函数之外声明的一个或多个变量的值。</li>
  <li><em>特征</em> - 特征(<em>Traits</em>)封装了方法和字段定义，然后可以通过将它们混合到类中来重用它们，特征(<em>Traits</em>)用于通过指定支持的方法的签名来定义对象类型。</li>
 </ul> 
 <h2 id="h2--scala-"><a name="第一个Scala项目" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第一个Scala项目</h2>
 <p>我们可以通过两种模式执行<em>Scala</em>程序：</p> 
 <ul> 
  <li><em>交互模式</em></li>
  <li><em>脚本模式</em></li>
 </ul> 
 <h3 id="h3-1-"><a name="1. 交互模式" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1. 交互模式</h3>
 <p>打开命令提示符并使用以下命令打开<em>Scala</em>。</p> 
 <blockquote> 
  <p>注意： 需要先下载： <em>scala-2.12.x.tgz</em> ，下载地址： <a target="_blank" href="http://downloads.lightbend.com/scala/2.12.3/scala-2.12.3.tgz">http://downloads.lightbend.com/scala/2.12.3/scala-2.12.3.tgz</a> ，并解压到一个目录，这里解压到：<em>D:\software\</em> ， </p> 
 </blockquote> 
 <p>打开命令提示符进入到目录：<em>D:\software\scala-2.12.3\bin</em> 执行如下命令运行程序 - </p> 
 <pre><code class="lang-shell">D:\software\scala-2.12.3\bin&gt; scala
Welcome to Scala 2.12.3 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_65).
Type in expressions for evaluation. Or try :help.

scala&gt; println("Hello, Scala!");
Hello, Scala!

scala&gt;
</code></pre> 
 <h3 id="h3-2-"><a name="2. 脚本模式" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2. 脚本模式</h3>
 <p>使用以下说明在脚本模式下编写Scala程序。打开记事本创建一个源文件：<em>HelloWorld.scala</em>，保存在目录：<em>D:\software\scala-2.12.3\bin</em> 下，并在其中编写以下代码 - </p> 
 <pre><code class="lang-scala">object HelloWorld {
   /* This is my first java program.  
   * This will print 'Hello World' as the output
   */
   def main(args: Array[String]) {
      println("Hello, world!") // prints Hello World
   }
}
</code></pre> 
 <p>打开命令提示符窗口并转到保存程序文件的目录。使用<code>'scalac'</code>命令编译Scala程序，它将在当前目录中生成一些类文件。其中一个将被编译生成为<code>HelloWorld.class</code>。 这是一个使用<code>'scala'</code>命令在Java虚拟机(JVM)上运行的字节码。</p> 
 <p>使用以下命令来编译和执行Scala程序及输出结果如下 - </p> 
 <pre><code class="lang-shell">D:\software\scala-2.12.3\bin&gt;scalac HelloWorld.scala

D:\software\scala-2.12.3\bin&gt;scala HelloWorld
Hello, world!

D:\software\scala-2.12.3\bin&gt;
</code></pre> 
 <h2 id="h2-u57FAu7840u8BEDu6CD5"><a name="基础语法" class="reference-link"></a><span class="header-link octicon octicon-link"></span>基础语法</h2>
 <p>以下是Scala编程中的基本语法和编码约定。</p> 
 <ul> 
  <li><em>区分大小写</em> - Scala是区分大小写的，比如标识符<code>Hello</code>和<code>hello</code>在Scala中表示不同的含义(对象)。</li>
  <li><p><em>类名称</em> - 对于所有类名，第一个字母应为大写。如果使用多个单词来形成类的名称，则每个内部单词的第一个字母应该是大写。<br>示例 - <code>class MyFirstScalaClass</code>，<code>class Employee</code>*类等。</p> </li>
  <li><p><em>方法名称</em> - 所有方法名称应以小写字母开头。如果使用多个单词形成方法的名称，则每个内部单词的第一个字母应为大写。<br>示例 - <code>def myMethodName()</code>，<code>def getName()</code>等。</p> </li>
  <li><p><em>程序文件名</em> - 程序文件的名称应与对象名称完全匹配。保存文件时，您应该使用对象名称保存它(记住Scala是区分大小写的)，并将<code>.scala</code>附加到文件名称的末尾。 (如果文件名和对象名不匹配，则程序将不会编译)。<br><em>示例</em> - 假设<code>HelloWorld</code>是对象名称。 那么文件应该保存为<code>HelloWorld.scala</code>。</p> </li>
  <li><p><em>def main(args：Array [String])</em> - Scala程序从<code>main()</code>方法开始，这是每个Scala程序的强制性部分。</p> </li>
 </ul> 
 <h2 id="h2-scala-"><a name="Scala标识符" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Scala标识符</h2>
 <p>所有Scala组件都需要名称。用于对象，类，变量和方法的名称称为标识符。关键字不能用作标识符，标识符区分大小写。Scala支持四种类型的标识符。</p> 
 <p><strong>字母数字标识符</strong></p> 
 <p>字母数字标识符以字母或下划线开头，后面可以有更多的字母，数字或下划线。 <code>$</code>字符是Scala中的保留关键字，不应在标识符中使用。</p> 
 <p>以下是合法的字母数字标识符 -</p> 
 <pre><code class="lang-scala">age, salary, _value,  __1_value
</code></pre> 
 <p>以下是非法标识符 -</p> 
 <pre><code class="lang-scala">$salary, 123abc, -salary
</code></pre> 
 <p><strong>运算符标识符</strong></p> 
 <p>运算符标识符由一个或多个运算符字符组成。运算符字符是可打印的ASCII字符，如：<code>+</code>，<code>:</code>，<code>?</code>，<code>~</code>或<code>#</code>。</p> 
 <p>以下是合法运算符标识符 -</p> 
 <pre><code class="lang-scala">+ ++ ::: &lt;?&gt; :&gt;
</code></pre> 
 <p>Scala编译器将在内部将操作符标识符转换成具有嵌入式<code>$</code>字符的合法Java标识符。例如，标识符<code>:-&gt;</code>将被内部表示为<code>$colon$minus$greater</code>。</p> 
 <p><strong>混合标识符</strong></p> 
 <p>混合标识符由字母数字标识符组成，后面跟着一个下划线和一个操作符标识符。</p> 
 <p>以下是合法的混合标识符 -</p> 
 <pre><code class="lang-scala">unary_+,  myvar_=
</code></pre> 
 <p>这里，一元<code>_+</code>用作方法名称定义一个一元的<code>+</code>运算符，而<code>myvar_=</code>用作方法名定义一个赋值运算符(运算符重载)。</p> 
 <p><strong>字面识别符</strong></p> 
 <p>一个文字标识符是一个随意的字符串，包含在后面的勾号(<code>...</code>)中。</p> 
 <p>以下是合法的文字标识符 -</p> 
 <pre><code class="lang-scala">`x` `&lt;clinit&gt;` `yield`
</code></pre> 
 <h2 id="h2-scala-"><a name="Scala关键字" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Scala关键字</h2>
 <p>以下列表显示<em>Scala</em>中的保留字(关键字)，这些保留字不能用作常量或变量或任何其他标识符名称。</p> 
 <table> 
  <thead> 
   <tr> 
    <th>abstract</th> 
    <th>case</th> 
    <th>catch</th> 
    <th>class</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>def</td> 
    <td>do</td> 
    <td>else</td> 
    <td>extends</td> 
   </tr> 
   <tr> 
    <td>false</td> 
    <td>final</td> 
    <td>finally</td> 
    <td>for</td> 
   </tr> 
   <tr> 
    <td>forSome</td> 
    <td>if</td> 
    <td>implicit</td> 
    <td>import</td> 
   </tr> 
   <tr> 
    <td>lazy</td> 
    <td>match</td> 
    <td>new</td> 
    <td>Null</td> 
   </tr> 
   <tr> 
    <td>object</td> 
    <td>override</td> 
    <td>package</td> 
    <td>private</td> 
   </tr> 
   <tr> 
    <td>protected</td> 
    <td>return</td> 
    <td>sealed</td> 
    <td>super</td> 
   </tr> 
   <tr> 
    <td>this</td> 
    <td>throw</td> 
    <td>trait</td> 
    <td>Try</td> 
   </tr> 
   <tr> 
    <td>true</td> 
    <td>type</td> 
    <td>val</td> 
    <td>Var</td> 
   </tr> 
   <tr> 
    <td>while</td> 
    <td>with</td> 
    <td>yield</td> 
    <td></td> 
   </tr> 
   <tr> 
    <td>-</td> 
    <td>:</td> 
    <td>=</td> 
    <td>=&gt;</td> 
   </tr> 
   <tr> 
    <td>&lt;-</td> 
    <td>&lt;:</td> 
    <td>&lt;%</td> 
    <td>&gt;:</td> 
   </tr> 
   <tr> 
    <td>#</td> 
    <td>@</td> 
    <td></td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-scala-"><a name="Scala注释" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Scala注释</h2>
 <p>Scala支持与Java类似的单行和多行注释。多行注释可以嵌套，但需要正确嵌套。注释中任何字符都被Scala编译器忽略。</p>   
 <pre><code class="lang-scala">object HelloWorld {
   /* This is my first java program.  
    * This will print 'Hello World' as the output
    * This is an example of multi-line comments.
    */
   def main(args: Array[String]) {
      // Prints Hello World
      // This is also an example of single line comment.
      println("Hello, world!") 
   }
}
</code></pre> 
 <h2 id="h2-u7A7Au884Cu548Cu7A7Au683C"><a name="空行和空格" class="reference-link"></a><span class="header-link octicon octicon-link"></span>空行和空格</h2>
 <p>只包含空格的行(可能带有注释)称为空行，Scala完全忽略它。标记可以由空格字符和/或注释分隔。</p> 
 <h2 id="h2-u6362u884Cu5B57u7B26"><a name="换行字符" class="reference-link"></a><span class="header-link octicon octicon-link"></span>换行字符</h2>
 <p>Scala是一种面向行的语言，其语句可能以分号(<code>;</code>)或换行符终止。语句结尾处的分号(<code>;</code>)通常是可选的。如果需要，您可以输入一个分号(<code>;</code>)，但如果语句在单行上自行显示，则不需要输入。 另一方面，如果在单行上写多个语句，则需要分号。 下面的语法是多个语句的用法。</p> 
 <pre><code class="lang-scala">val s = "hello"; println(s)
</code></pre> 
 <h2 id="h2-scala-"><a name="Scala包" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Scala包</h2>
 <p>一个包是一个命名的代码模块。 例如，<code>Lift</code>实用程序包是<code>net.liftweb.util</code>。包声明是源文件中的第一个非注释行，如下所示：</p> 
 <pre><code class="lang-scala">package com.liftcode.stuff
</code></pre> 
 <p>导入Scala软件包，以便在当前的编译范围内引用它们。 以下语句导入<code>scala.xml</code>包的内容 -</p> 
 <pre><code class="lang-scala">import scala.xml._
</code></pre> 
 <p>也可以从<code>scala.collection.mutable</code>包导入单个类和对象，例如:<code>HashMap</code>，</p> 
 <pre><code class="lang-scala">import scala.collection.mutable.HashMap
</code></pre> 
 <p>可以从单个包导入多个类或对象，例如，来自<code>scala.collection.immutable</code>包的<code>TreeMap</code>和<code>TreeSet</code> -</p> 
 <pre><code class="lang-scala">import scala.collection.immutable.{TreeMap, TreeSet}
</code></pre> 
 <h2 id="h2-u5E94u7528u52A8u6001"><a name="应用动态" class="reference-link"></a><span class="header-link octicon octicon-link"></span>应用动态</h2>
 <p>一个能够进行动态调用的标记特征。此特征的实例<code>x</code>允许方法调用<code>x.meth(args)</code>用于任意方法名称和参数列表<code>args</code>以及对任意字段名称字段的字段访问<code>x.field</code>。此功能在<em>Scala-2.10</em>中引入。</p> 
 <p>如果调用不是由本机支持的(即，如果类型检查失败)，则根据以下规则重写：</p> 
 <pre><code class="lang-scala">foo.method("blah") ~~&gt; foo.applyDynamic("method")("blah")
foo.method(x = "blah") ~~&gt; foo.applyDynamicNamed("method")(("x", "blah"))
foo.method(x = 1, 2) ~~&gt; foo.applyDynamicNamed("method")(("x", 1), ("", 2))
foo.field ~~&gt; foo.selectDynamic("field")
foo.varia = 10 ~~&gt; foo.updateDynamic("varia")(10)
foo.arr(10) = 13 ~~&gt; foo.selectDynamic("arr").update(10, 13)
foo.arr(10) ~~&gt; foo.applyDynamic("arr")(10)
</code></pre>
 <br>      
</div></body></html>