<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Scala异常处理</h1><div style="width:100%;float:left;" class="article-content">   
 <p>Scala的异常处理类似许多其他语言(如Java)。它不是以正常方式返回值，方法可以通过抛出异常来终止。 但是，Scala实际上并没有检查异常。</p> 
 <p>当您想要处理异常时，要像Java一样使用<code>try {...} catch {...}</code>块，除了<code>catch</code>块使用匹配来识别和处理异常。</p> 
 <h2 id="h2-u5F15u53D1u5F02u5E38"><a name="引发异常" class="reference-link"></a><span class="header-link octicon octicon-link"></span>引发异常</h2>
 <p>抛出异常看起来与Java中的异常一样。创建一个异常对象，然后使用<code>throw</code>关键字将其抛出如下。</p> 
 <pre><code class="lang-scala">throw new IllegalArgumentException
</code></pre> 
 <h2 id="h2-u6355u83B7u5F02u5E38"><a name="捕获异常" class="reference-link"></a><span class="header-link octicon octicon-link"></span>捕获异常</h2>
 <p>Scala允许在单个块中<code>try/catch</code>任何异常，然后使用<code>case</code>块对其进行模式匹配。尝试以下示例程序来处理异常。</p> 
 <pre><code class="lang-scala">import java.io.FileReader
import java.io.FileNotFoundException
import java.io.IOException

object Demo {
   def main(args: Array[String]) {
      try {
         val f = new FileReader("input.txt")
      } catch {
         case ex: FileNotFoundException =&gt;{
            println("Missing file exception")
         }

         case ex: IOException =&gt; {
            println("IO Exception")
         }
      }
   }
}
</code></pre> 
 <p>将上述程序保存在源文件：<em>Demo.scala</em>中，使用以下命令编译和执行此程序。</p> 
 <pre><code class="lang-shell">D:\&gt;scalac Demo.scala
D:\&gt;scala Demo
Missing file exception
</code></pre> 
 <p><code>try-catch</code>表达式的行为与其他具有异常的语言相同。它在主体中执行，如果它抛出一个异常，则会依次尝试每个<code>catch</code>子句。</p> 
 <h2 id="h2-finally-"><a name="finally子句" class="reference-link"></a><span class="header-link octicon octicon-link"></span>finally子句</h2>
 <p>如果希望引发一些代码执行，无论表达式如何终止，都会执行在<code>finally</code>子句包装表达式。尝试以下程序。</p>   
 <pre><code class="lang-scala">import java.io.FileReader
import java.io.FileNotFoundException
import java.io.IOException

object Demo {
   def main(args: Array[String]) {
      try {
         val f = new FileReader("input.txt")
      } catch {
         case ex: FileNotFoundException =&gt; {
            println("Missing file exception")
         }

         case ex: IOException =&gt; {
            println("IO Exception")
         }
      } finally {
         println("Exiting finally...")
      }
   }
}
</code></pre> 
 <p>将上述程序保存在源文件：<em>Demo.scala</em>中，使用以下命令编译和执行此程序。</p> 
 <pre><code class="lang-shell">D:\&gt;scalac Demo.scala
D:\&gt;scala Demo
Missing file exception
Exiting finally...
</code></pre>
 <br>      
</div></body></html>