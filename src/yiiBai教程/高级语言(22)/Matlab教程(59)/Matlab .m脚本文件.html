<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Matlab .m脚本文件</h1><div style="width:100%;float:left;" class="article-content">   
 <p>到目前为止，我们都是使用MATLAB环境作为计算器。然而，MATLAB也是一种强大的编程语言，也是一个交互式的计算环境。</p> 
 <p>在前几章中，已经学习了如何从MATLAB命令提示符输入命令。MATLAB还允许将一系列命令写入文件，并将文件作为完整单元执行，如：编写函数并调用它。</p> 
 <h2 id="h2-m-"><a name="M文件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>M文件</h2>
 <p>MATLAB允许编写两种程序文件 -</p> 
 <ul> 
  <li><p><strong>脚本</strong> - 脚本文件是以<code>.m</code>扩展名的程序文件。在这些文件中，可以编写一系列要一起执行的命令。脚本不接受输入，不返回任何输出。它们对工作空间中的数据进行操作。</p> </li>
  <li><p><strong>函数</strong> - 函数文件也是扩展名为<code>.m</code>的程序文件。函数可以接受输入和返回输出。内部变量是函数的局部变量。</p> </li>
 </ul> 
 <p>使用MATLAB编辑器或任何其他文本编辑器来创建<code>.m</code>文件。 在本节中，我们将讨论脚本文件。 脚本文件包含多个连续的MATLAB命令行和函数调用。可以通过在命令行中键入其名称来运行脚本。</p> 
 <h2 id="h2-u521Bu5EFAu548Cu8FD0u884Cu811Au672Cu6587u4EF6"><a name="创建和运行脚本文件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>创建和运行脚本文件</h2>
 <p>要创建脚本文件，需要使用文本编辑器。可以通过两种方式打开MATLAB编辑器：</p> 
 <ul> 
  <li>使用命令提示符</li>
  <li>使用IDE</li>
 </ul> 
 <p>如果使用命令提示符，请在命令提示符下键入<code>edit</code>并回车，这将打开编辑器。可以直接键入<code>edit</code>，然后直接输入文件名(扩展名为<code>.m</code>)</p> 
 <pre><code class="lang-matlab">edit 
%或者%
edit newfile.m
</code></pre> 
 <p>上述命令将在默认的MATLAB目录中创建该文件。如果要将所有程序文件存储在特定文件夹中，则必须提供整个路径。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201709/3009/692140925_41638.png" alt=""></p> 
 <p>如果是第一次创建文件，MATLAB会提示确认，点击“是”后，如下 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201709/3009/174140927_26807.png" alt=""></p> 
 <p>在命令行中也可以创建文件夹，如：创建一个名为<code>progs</code>的文件夹。在命令提示符下键入以下命令(<code>&gt;&gt;</code>)：</p>   
 <pre><code class="lang-matlab">mkdir progs    % create directory progs under default directory
chdir progs    % changing the current directory to progs
edit  prog1.m  % creating an m file named prog1.m
</code></pre> 
 <p>或者，如果使用IDE，请选择<em>“新建”</em> -&gt;<em>“脚本”</em>。 这也打开编辑器并创建一个名为<em>Untitled</em>的文件。在输入代码后命名并保存文件。</p> 
 <p>在编辑器中键入以下代码 -</p> 
 <pre><code class="lang-matlab">NoOfStudents = 6000;
TeachingStaff = 150;
NonTeachingStaff = 20;
Total = NoOfStudents + TeachingStaff ... + NonTeachingStaff;
disp(Total);
</code></pre> 
 <p>创建并保存文件后，可以通过两种方式运行：</p> 
 <ul> 
  <li>单击编辑器窗口上的“运行”按钮</li>
  <li>只需在命令提示符下键入文件名(无扩展名)即可：<em>&gt;&gt; prog1</em></li>
 </ul> 
 <p>命令窗口提示符显示结果 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201709/3009/251140937_23935.png" alt=""></p> 
 <p><strong>示例</strong></p> 
 <p>创建脚本文件(<em>sdemo.m</em>)，并键入以下代码 -</p> 
 <pre><code class="lang-matlab">a = 5; b = 7;
c = a + b
d = c + sin(b)
e = 5 * d
f = exp(-d)
</code></pre> 
 <p>当上述代码被编译和执行时，它产生以下结果 -</p> 
 <pre><code class="lang-matlab">Trial&gt;&gt; sdemo

c =

    12


d =

   12.6570


e =

   63.2849


f =

   3.1852e-06

Trial&gt;&gt;
</code></pre>
 <br>      
</div></body></html>