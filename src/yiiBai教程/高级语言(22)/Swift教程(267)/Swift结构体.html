<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Swift结构体</h1><div style="width:100%;float:left;" class="article-content">   
 <p> Swift 提供了利用构造作为结构的灵活的构建块。 通过利用这些结构的一次可以定义构建体的方法和属性。</p> 
 <p> 这不同于 C 和 Objective C 编程：</p> 
 <ul> 
  <li> <p> 结构不用要求实现文件和接口。</p> </li> 
  <li> <p> 结构体使我们能够创建一个文件并自动扩展其接口到其它块。</p> </li> 
 </ul> 
 <p> 在结构体中的变量值被复制并传递在后续的代码，通过返回的旧值的副本使得这些值不能被改变。</p> 
 <h2> 语法</h2> 
 <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 14px; line-height: 16px; widows: auto; color: rgb(49, 49, 49);">
<span style="background-color: inherit; color: rgb(127, 0, 85);">Structures</span> are <span style="background-color: inherit; color: rgb(0, 0, 136);">defined</span> <span style="background-color: inherit; color: rgb(0, 0, 136);">with</span> a <span style="background-color: inherit; color: rgb(0, 136, 0);">'Struct'</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Keyword</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>
<span style="background-color: inherit; color: rgb(0, 0, 136);">struct</span> nameStruct <span style="background-color: inherit; color: rgb(102, 102, 0);">{</span> 
   <span style="background-color: inherit; color: rgb(127, 0, 85);">Definition</span> <span style="background-color: inherit; color: rgb(0, 102, 102);">1</span>
   <span style="background-color: inherit; color: rgb(127, 0, 85);">Definition</span> <span style="background-color: inherit; color: rgb(0, 102, 102);">2</span>
    <span style="background-color: inherit; color: rgb(102, 102, 0);">---</span> 
   <span style="background-color: inherit; color: rgb(127, 0, 85);">Definition</span> N
<span style="background-color: inherit; color: rgb(102, 102, 0);">}</span></pre> 
 <h2> 结构体的定义</h2> 
 <p> 考虑例如，假设要访问包含三个科目记录标记的学生并找出三个科目的总和。在这里，markStruct用于初始化的结构有三个标记，数据类型为 'Int'。</p> 
 <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 14px; line-height: 16px; widows: auto; color: rgb(49, 49, 49);">
<span style="background-color: inherit; color: rgb(0, 0, 136);">struct</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">MarkStruct</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span>
   <span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark1<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span>
   <span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark2<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span>
   <span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark3<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span>
<span style="background-color: inherit; color: rgb(102, 102, 0);">}</span></pre> 
 <h2> 访问结构体及属性</h2> 
 <p> 结构的成员是由它的结构名访问。 结构体的实例中由 'let' 关键字进行初始化。</p> 
 <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 14px; line-height: 16px; widows: auto; color: rgb(49, 49, 49);">
<span style="background-color: inherit; color: rgb(0, 0, 136);">struct</span> studentMarks <span style="background-color: inherit; color: rgb(102, 102, 0);">{</span>
   <span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark1 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> <span style="background-color: inherit; color: rgb(0, 102, 102);">100</span>
   <span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark2 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> <span style="background-color: inherit; color: rgb(0, 102, 102);">200</span>
   <span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark3 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> <span style="background-color: inherit; color: rgb(0, 102, 102);">300</span>
<span style="background-color: inherit; color: rgb(102, 102, 0);">}</span>
<span style="background-color: inherit; color: rgb(0, 0, 136);">let</span> marks <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> studentMarks<span style="background-color: inherit; color: rgb(102, 102, 0);">()</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"Mark1 is \(marks.mark1)"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"Mark2 is \(marks.mark2)"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"Mark3 is \(marks.mark3)"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span></pre> 
 <p> 当我们使用 playground 运行上面的程序，得到以下结果：</p> 
 <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 14px; line-height: 16px; widows: auto; color: rgb(49, 49, 49); background-color: rgb(241, 241, 241);">
Mark1 is 100
Mark2 is 200
Mark3 is 300</pre> 
 <p> 学生成绩需要访问结构名“studentMarks”。结构成员被初始化为 mark1, mark2, mark3 的整数类型值。然后，结构体 studentMarks()传递给 'marks' 使用 'let' 关键字。 'marks' 将包含结构成员的值。现在通过 '.' 访问结构的初始名称的值，并打印它。</p> 
 <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 14px; line-height: 16px; widows: auto; color: rgb(49, 49, 49);">
<span style="background-color: inherit; color: rgb(0, 0, 136);">struct</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">MarksStruct</span> <span style="background-color: inherit; color: rgb(102, 102, 0);">{</span>
   <span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span>

   init<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>mark<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span> <span style="background-color: inherit; color: rgb(102, 102, 0);">{</span>
      <span style="background-color: inherit; color: rgb(0, 0, 136);">self</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> mark
   <span style="background-color: inherit; color: rgb(102, 102, 0);">}</span>
<span style="background-color: inherit; color: rgb(102, 102, 0);">}</span>
<span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> aStruct <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">MarksStruct</span><span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>mark<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(0, 102, 102);">98</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span>
<span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> bStruct <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> aStruct <span style="background-color: inherit; color: rgb(136, 0, 0);">// aStruct and bStruct are two structs with the same value!</span>
bStruct<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> <span style="background-color: inherit; color: rgb(0, 102, 102);">97</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>aStruct<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark<span style="background-color: inherit; color: rgb(102, 102, 0);">)</span> <span style="background-color: inherit; color: rgb(136, 0, 0);">// 98</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>bStruct<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark<span style="background-color: inherit; color: rgb(102, 102, 0);">)</span> <span style="background-color: inherit; color: rgb(136, 0, 0);">// 97</span></pre> 
 <p> 当我们使用 playground 运行上面的程序，得到以下结果：</p> 
 <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 14px; line-height: 16px; widows: auto; color: rgb(49, 49, 49); background-color: rgb(241, 241, 241);">
98
97</pre> 
 <h2> 结构体最佳使用方式</h2> 
 <p> Swift 语言提供功能来定义的结构体作为自定义数据类型，用于构建功能块。 结构体的实例的值传递给定义块来进一步的操作。</p> 
 <p> 需要有结构：</p> 
 <ul> 
  <li> <p> 封装简单的数据值</p> </li> 
  <li> <p> 使用“值”而不是“引用”复制封装数据到它的相关联属性</p> </li> 
  <li> <p> 结构体为 “复制” 和 “引用”</p> </li> 
 </ul> 
 <p> 在 swift 中结构体是通过其成员的值，而不是它的引用。</p> 
 <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 14px; line-height: 16px; widows: auto; color: rgb(49, 49, 49);">
<span style="background-color: inherit; color: rgb(0, 0, 136);">struct</span> markStruct<span style="background-color: inherit; color: rgb(102, 102, 0);">{</span> 
   <span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark1<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span>
   <span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark2<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span>
   <span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark3<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span>

   init<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>mark1<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">,</span> mark2<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">,</span> mark3<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">){</span>
      <span style="background-color: inherit; color: rgb(0, 0, 136);">self</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark1 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> mark1
      <span style="background-color: inherit; color: rgb(0, 0, 136);">self</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark2 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> mark2
      <span style="background-color: inherit; color: rgb(0, 0, 136);">self</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark3 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> mark3
   <span style="background-color: inherit; color: rgb(102, 102, 0);">}</span>
<span style="background-color: inherit; color: rgb(102, 102, 0);">}</span>

<span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> marks <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> markStruct<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>mark1<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(0, 102, 102);">98</span><span style="background-color: inherit; color: rgb(102, 102, 0);">,</span> mark2<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(0, 102, 102);">96</span><span style="background-color: inherit; color: rgb(102, 102, 0);">,</span> mark3<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(0, 102, 102);">100</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>marks<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark1<span style="background-color: inherit; color: rgb(102, 102, 0);">)</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>marks<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark2<span style="background-color: inherit; color: rgb(102, 102, 0);">)</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>marks<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark3<span style="background-color: inherit; color: rgb(102, 102, 0);">)</span></pre> 
 <p> 当我们使用 playground 运行上面的程序，得到以下结果：</p>   
 <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 14px; line-height: 16px; widows: auto; color: rgb(49, 49, 49); background-color: rgb(241, 241, 241);">
98
96
100</pre> 
 <h2> 另外一个实例</h2> 
 <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 14px; line-height: 16px; widows: auto; color: rgb(49, 49, 49);">
<span style="background-color: inherit; color: rgb(0, 0, 136);">struct</span> markStruct<span style="background-color: inherit; color: rgb(102, 102, 0);">{</span> 
   <span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark1<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span>
   <span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark2<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span>
   <span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark3<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span>

   init<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>mark1<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">,</span> mark2<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">,</span> mark3<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">){</span>
      <span style="background-color: inherit; color: rgb(0, 0, 136);">self</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark1 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> mark1
      <span style="background-color: inherit; color: rgb(0, 0, 136);">self</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark2 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> mark2
      <span style="background-color: inherit; color: rgb(0, 0, 136);">self</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark3 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> mark3
   <span style="background-color: inherit; color: rgb(102, 102, 0);">}</span>
<span style="background-color: inherit; color: rgb(102, 102, 0);">}</span>

<span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> fail <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> markStruct<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>mark1<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(0, 102, 102);">34</span><span style="background-color: inherit; color: rgb(102, 102, 0);">,</span> mark2<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(0, 102, 102);">42</span><span style="background-color: inherit; color: rgb(102, 102, 0);">,</span> mark3<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> <span style="background-color: inherit; color: rgb(0, 102, 102);">13</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span>

println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>fail<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark1<span style="background-color: inherit; color: rgb(102, 102, 0);">)</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>fail<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark2<span style="background-color: inherit; color: rgb(102, 102, 0);">)</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>fail<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark3<span style="background-color: inherit; color: rgb(102, 102, 0);">)</span></pre> 
 <p> 当我们使用 playground 运行上面的程序，得到以下结果：</p> 
 <pre style="Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 14px; line-height: 16px; widows: auto; color: rgb(49, 49, 49); background-color: rgb(241, 241, 241);">
34
42
13</pre> 
 <p> 结构体 “markStruct” 需要它的成员首先定义：mark1, mark2 和 mark3. 现在，成员类的变量初始化容纳整数值。之后结构成员的副本使用 “self” 关键字创建。当结构成员的副本创建结构体块，其参数标记传递给 'marks' 变量，它现在将保存学生的分数。那么标记打印为 98, 96, 100。 下一步对于相同的结构成员的另一个实例命名为 'fail' 用于指向不同的标记相同结构体的成员。那么标记现在打印为&nbsp;34, 42, 13. 这清楚地说明了结构会有成员变量的副本，传入成员到它们即将推出的功能块。</p> 
 <br>      
</div></body></html>