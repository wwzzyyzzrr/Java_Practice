<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Swift 继承</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 取大于形态的能力被定义为继承。一般一个类可以从另一个类继承属性和方法。类可以进一步划分到子类和超类。</p> 
 <ul> 
  <li> <p> 子类：当一个类从另一个类继承属性，方法和功能被称为子类</p> </li> 
  <li> <p> 超类：类包含属性，方法和功能被其它类继承称为超类</p> </li> 
 </ul> 
 <p> Swift 中类包含父类和调用访问方法，属性，功能和重写方法。另外，属性观察者也用于添加属性和修改所存储的或计算的特性的方法。</p> 
 <h2> 基类</h2> 
 <p> 一个类如果不从其它类继承方法，属性或功能，那么它被称为“基类”。</p> 
 <pre style="Monaco, Consolas, Courier, 'Lucida Console', monospace; widows: auto; font-size: 13px;">
<span style="background-color: inherit; color: rgb(0, 0, 136);">class</span><span style="background-color: inherit; color: rgb(127, 0, 85);">StudDetails</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> stname<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">String</span><span style="background-color: inherit; color: rgb(102, 102, 0);">!</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark1<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">!</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark2<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">!</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark3<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">!</span>
    init<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>stname<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">String</span><span style="background-color: inherit; color: rgb(102, 102, 0);">,</span> mark1<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">,</span> mark2<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">,</span> mark3<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">self</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>stname <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> stname
        <span style="background-color: inherit; color: rgb(0, 0, 136);">self</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark1 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> mark1
        <span style="background-color: inherit; color: rgb(0, 0, 136);">self</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark2 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> mark2
        <span style="background-color: inherit; color: rgb(0, 0, 136);">self</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>mark3 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> mark3
    <span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(0, 0, 136);">let</span> stname <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"swift"</span><span style="background-color: inherit; color: rgb(0, 0, 136);">let</span> mark1 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">98</span><span style="background-color: inherit; color: rgb(0, 0, 136);">let</span> mark2 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">89</span><span style="background-color: inherit; color: rgb(0, 0, 136);">let</span> mark3 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">76</span>

println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>stname<span style="background-color: inherit; color: rgb(102, 102, 0);">)</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>mark1<span style="background-color: inherit; color: rgb(102, 102, 0);">)</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>mark2<span style="background-color: inherit; color: rgb(102, 102, 0);">)</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>mark3<span style="background-color: inherit; color: rgb(102, 102, 0);">)</span></pre> 
 <p> 当我们使用 playground 运行上面的程序，得到以下结果。</p> 
 <pre style="Monaco, Consolas, Courier, 'Lucida Console', monospace; widows: auto; font-size: 13px; background-color: rgb(241, 241, 241);">
swift
98
89
76</pre> 
 <p> 这里 StudDetails 类被定义为基类，它用于包含学生名字和三个科目标记为：mark1, mark2 和 mark3. 'let'关键字在 playground 中初始化并使用 “println” 函数打印显示基础类的值。</p> 
 <h2> 子类</h2> 
 <p> 在现有的基类上定义一个新的类就叫作“子类”。子类继承了其基类的属性，方法和功能。要定义一个子类使用 “ : ” 在基类名称前。</p> 
 <pre style="Monaco, Consolas, Courier, 'Lucida Console', monospace; widows: auto; font-size: 13px;">
<span style="background-color: inherit; color: rgb(0, 0, 136);">class</span><span style="background-color: inherit; color: rgb(127, 0, 85);">StudDetails</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark1<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">;</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> mark2<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">;</span>
    
    init<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>stm1<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">,</span> results stm2<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span>
        mark1 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> stm1<span style="background-color: inherit; color: rgb(102, 102, 0);">;</span>
        mark2 <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> stm2<span style="background-color: inherit; color: rgb(102, 102, 0);">;</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span>
    
    func <span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">()</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span>
        println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"Mark1:\(mark1), Mark2:\(mark2)"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(0, 0, 136);">class</span> display <span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">StudDetails</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span>
    init<span style="background-color: inherit; color: rgb(102, 102, 0);">()</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">super</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>init<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>stm1<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(0, 102, 102);">93</span><span style="background-color: inherit; color: rgb(102, 102, 0);">,</span> results<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(0, 102, 102);">89</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(0, 0, 136);">let</span> marksobtained <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> display<span style="background-color: inherit; color: rgb(102, 102, 0);">()</span>
marksobtained<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span><span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">()</span></pre> 
 <p> 当我们使用 playground 运行上面的程序，得到以下结果。</p> 
 <pre style="Monaco, Consolas, Courier, 'Lucida Console', monospace; widows: auto; font-size: 13px; background-color: rgb(241, 241, 241);">
Mark1:93, Mark2:89</pre> 
 <p> “StudDetails” 类定义为学生标记声明的超类以及子类的 'display' 从它的超类继承以打的标记。子类定义学生标记和调用打印方法来显示学生的标志。</p> 
 <h2> 覆盖/重写</h2> 
 <p> 访问超类的实例，类型方法，例如，类型属性和下标子类提供覆盖的概念。 'override' 关键字用来覆盖超类中声明的方法。</p> 
 <h2> 访问超级类的方法，属性和下标</h2> 
 <p> “super”关键字作为前缀用来访问超类中声明的方法，属性和下标。</p> 
 <table border="1" cellpadding="2" cellspacing="0" style="font-size: medium; border-collapse: collapse; margin-top: 10px; margin-bottom: 10px; widows: auto; color: rgb(0, 0, 0); Simsun; background-color: rgb(254, 254, 254);"> 
  <tbody style="background-color: inherit;"> 
   <tr style="background-color: inherit;"> 
    <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 重写</td> 
    <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 访问方法，属性和标</td> 
   </tr> 
   <tr style="background-color: inherit;"> 
    <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 方法</td> 
    <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> super.somemethod</td> 
   </tr> 
   <tr style="background-color: inherit;"> 
    <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 属性</td> 
    <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> super.someProperty</td> 
   </tr> 
   <tr style="background-color: inherit;"> 
    <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> 下标</td> 
    <td style="word-break: break-all; border: 1px solid rgb(153, 153, 153); padding: 5px 16px 5px 14px; min-height: 25px; min-width: 25px; height: 25px; background-color: inherit;"> super[someIndex]</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2> 方法和属性覆盖</h2> 
 <h3> 方法覆盖</h3> 
 <p> 继承实例和类型的方法可以通过 'override' 关键字覆盖在子类中定义的方法。在这里，在子类中重写打印来访问超类打印type属性。</p> 
 <pre style="Monaco, Consolas, Courier, 'Lucida Console', monospace; widows: auto; font-size: 13px;">
<span style="background-color: inherit; color: rgb(0, 0, 136);">class</span> cricket <span style="background-color: inherit; color: rgb(102, 102, 0);">{</span>
    func <span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">()</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span>
        println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"Welcome to Swift Super Class"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(0, 0, 136);">class</span> tennis<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span> cricket  <span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">override</span> func <span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">()</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span>
        println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"Welcome to Swift Sub Class"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(0, 0, 136);">let</span> cricinstance <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> cricket<span style="background-color: inherit; color: rgb(102, 102, 0);">()</span>
cricinstance<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span><span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">()</span><span style="background-color: inherit; color: rgb(0, 0, 136);">let</span> tennisinstance <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span> tennis<span style="background-color: inherit; color: rgb(102, 102, 0);">()</span>
tennisinstance<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span><span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">()</span></pre> 
 <p> 当我们使用 playground 运行上面的程序，得到以下结果。</p> 
 <pre style="Monaco, Consolas, Courier, 'Lucida Console', monospace; widows: auto; font-size: 13px; background-color: rgb(241, 241, 241);">
Welcome to Swift Super Class
Welcome to Swift Sub Class</pre> 
 <h2> 属性重写</h2> 
 <p> 可以覆盖继承的实例或类属性来提供自定义的getter和setter 属性，或添加属性观察者，当下层属性值更改时以使重写属性到观察者。</p> 
 <h2> 重写属性getter和setter</h2> 
 <p> Swift 允许用户提供自定义 getter和setter 覆盖继承的属性，无论是存储还是计算属性。子类不知道继承的属性名称和类型。因此，至关重要的是，用户需要在子类中指定，名称和在超类中指定重写属性的类型。</p> 
 <p> 这可以通过两种方式来完成：</p> 
 <ul> 
  <li> <p> 当 setter 被定义为重写属性，用户必须也要定义 getter。</p> </li> 
  <li> <p> 当我们不希望修改继承属性的getter，我们可以通过简单的语法“super.someProperty”来给超类继承值。</p> </li> 
 </ul> 
 <pre style="Monaco, Consolas, Courier, 'Lucida Console', monospace; widows: auto; font-size: 13px;">
<span style="background-color: inherit; color: rgb(0, 0, 136);">class</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Circle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> radius <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">12.5</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> area<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">String</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">return</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"of rectangle for \(radius) "</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(0, 0, 136);">class</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Rectangle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Circle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span><span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">7</span><span style="background-color: inherit; color: rgb(0, 0, 136);">override</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> area<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">String</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">return</span><span style="background-color: inherit; color: rgb(0, 0, 136);">super</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>area <span style="background-color: inherit; color: rgb(102, 102, 0);">+</span><span style="background-color: inherit; color: rgb(0, 136, 0);">" is now overridden as \(print)"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(0, 0, 136);">let</span> rect <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Rectangle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">()</span>
rect<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>radius <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">25.0</span>
rect<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span><span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">3</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"Radius \(rect.area)"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span></pre> 
 <p> 当我们使用 playground 运行上面的程序，得到以下结果。</p> 
 <pre style="Monaco, Consolas, Courier, 'Lucida Console', monospace; widows: auto; font-size: 13px; background-color: rgb(241, 241, 241);">
Radius of rectangle for 25.0  is now overridden as 3</pre> 
 <h2> 重写属性观察者</h2> 
 <p> 当一个新的属性需要为继承的属性被添加，在 Swift 中推出 “属性重写” 的概念。通知用户当继承属性值被更改。但重写不适用于继承的常量存储属性和继承只读计算属性。</p>   
 <pre style="Monaco, Consolas, Courier, 'Lucida Console', monospace; widows: auto; font-size: 13px;">
<span style="background-color: inherit; color: rgb(0, 0, 136);">class</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Circle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> radius <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">12.5</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> area<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">String</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">return</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"of rectangle for \(radius) "</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(0, 0, 136);">class</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Rectangle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Circle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span><span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">7</span><span style="background-color: inherit; color: rgb(0, 0, 136);">override</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> area<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">String</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">return</span><span style="background-color: inherit; color: rgb(0, 0, 136);">super</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>area <span style="background-color: inherit; color: rgb(102, 102, 0);">+</span><span style="background-color: inherit; color: rgb(0, 136, 0);">" is now overridden as \(print)"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(0, 0, 136);">let</span> rect <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Rectangle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">()</span>
rect<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>radius <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">25.0</span>
rect<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span><span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">3</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"Radius \(rect.area)"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span><span style="background-color: inherit; color: rgb(0, 0, 136);">class</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Square</span><span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Rectangle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">override</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> radius<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Double</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span>
        didSet <span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>radius<span style="background-color: inherit; color: rgb(102, 102, 0);">/</span><span style="background-color: inherit; color: rgb(0, 102, 102);">5.0</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)+</span><span style="background-color: inherit; color: rgb(0, 102, 102);">1</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(0, 0, 136);">let</span> sq <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Square</span><span style="background-color: inherit; color: rgb(102, 102, 0);">()</span>
sq<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>radius <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">100.0</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"Radius \(sq.area)"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span></pre> 
 <p> 当我们使用 playground 运行上面的程序，得到以下结果。</p> 
 <pre style="Monaco, Consolas, Courier, 'Lucida Console', monospace; widows: auto; font-size: 13px; background-color: rgb(241, 241, 241);">
Radius of rectangle for 25.0  is now overridden as 3
Radius of rectangle for 100.0  is now overridden as 21</pre> 
 <h2> 最终属性以防止重写</h2> 
 <p> 当用户不需要让别人访问超类的方法，属性或下标，Swift 引入“final”属性，以防止覆盖。 当 “final” 属性被声明后，将不允许超类的方法，属性和下标被覆盖。在超类不可以有 'final' 。当 “final” 属性被声明后，用户限制子类创建。</p> 
 <pre style="Monaco, Consolas, Courier, 'Lucida Console', monospace; widows: auto; font-size: 13px;">
<span style="background-color: inherit; color: rgb(0, 0, 136);">final</span><span style="background-color: inherit; color: rgb(0, 0, 136);">class</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Circle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">final</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> radius <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">12.5</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> area<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">String</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">return</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"of rectangle for \(radius) "</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(0, 0, 136);">class</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Rectangle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Circle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span><span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">7</span><span style="background-color: inherit; color: rgb(0, 0, 136);">override</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> area<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">String</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">return</span><span style="background-color: inherit; color: rgb(0, 0, 136);">super</span><span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>area <span style="background-color: inherit; color: rgb(102, 102, 0);">+</span><span style="background-color: inherit; color: rgb(0, 136, 0);">" is now overridden as \(print)"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(0, 0, 136);">let</span> rect <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Rectangle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">()</span>
rect<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>radius <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">25.0</span>
rect<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span><span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">3</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"Radius \(rect.area)"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span><span style="background-color: inherit; color: rgb(0, 0, 136);">class</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Square</span><span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Rectangle</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">override</span><span style="background-color: inherit; color: rgb(0, 0, 136);">var</span> radius<span style="background-color: inherit; color: rgb(102, 102, 0);">:</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Double</span><span style="background-color: inherit; color: rgb(102, 102, 0);">{</span>
        didSet <span style="background-color: inherit; color: rgb(102, 102, 0);">{</span><span style="background-color: inherit; color: rgb(0, 0, 136);">print</span><span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Int</span><span style="background-color: inherit; color: rgb(102, 102, 0);">(</span>radius<span style="background-color: inherit; color: rgb(102, 102, 0);">/</span><span style="background-color: inherit; color: rgb(0, 102, 102);">5.0</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)+</span><span style="background-color: inherit; color: rgb(0, 102, 102);">1</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(102, 102, 0);">}</span><span style="background-color: inherit; color: rgb(0, 0, 136);">let</span> sq <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(127, 0, 85);">Square</span><span style="background-color: inherit; color: rgb(102, 102, 0);">()</span>
sq<span style="background-color: inherit; color: rgb(102, 102, 0);">.</span>radius <span style="background-color: inherit; color: rgb(102, 102, 0);">=</span><span style="background-color: inherit; color: rgb(0, 102, 102);">100.0</span>
println<span style="background-color: inherit; color: rgb(102, 102, 0);">(</span><span style="background-color: inherit; color: rgb(0, 136, 0);">"Radius \(sq.area)"</span><span style="background-color: inherit; color: rgb(102, 102, 0);">)</span></pre> 
 <p> 当我们使用 playground 运行上面的程序，得到以下结果。</p> 
 <pre style="Monaco, Consolas, Courier, 'Lucida Console', monospace; widows: auto; font-size: 13px; background-color: rgb(241, 241, 241);">
&lt;stdin&gt;:14:18: error: var overrides a 'final' var
    override var area: String {
                 ^
&lt;stdin&gt;:7:9: note: overridden declaration is here
    var area: String {
        ^
&lt;stdin&gt;:12:11: error: inheritance from a final class 'Circle'
    class Rectangle: Circle {
          ^
&lt;stdin&gt;:25:14: error: var overrides a 'final' var
override var radius: Double {
             ^
&lt;stdin&gt;:6:14: note: overridden declaration is here
   final var radius = 12.5</pre> 
 <p> 当超类声明为 “final”和数据类型也被宣明为'final'，程序将不允许再创建子类，否则它会引发错误。</p> 
 <br>      
</div></body></html>