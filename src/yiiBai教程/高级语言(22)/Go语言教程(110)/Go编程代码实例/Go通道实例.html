<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Go通道实例</h1><div style="width:100%;float:left;" class="article-content">   
 <p>通道是连接并发<code>goroutine</code>的管道。可以从一个<code>goroutine</code>向通道发送值，并在另一个<code>goroutine</code>中接收到这些值。</p> 
 <p>使用<code>make(chan val-type)</code>创建一个新通道，通道由输入的值传入。使用通道 <code>&lt;-</code> 语法将值发送到通道。 这里从一个新的<code>goroutine</code>发送“<code>ping</code>”到在上面的消息通道。</p> 
 <p><code>&lt;-channel</code>语法从通道接收值。在这里，将收到上面发送的“<code>ping</code>”消息并打印出来。当运行程序时，“<code>ping</code>”消息通过通道成功地从一个<code>goroutine</code>传递到另一个<code>goroutine</code>。默认情况下发送和接收块，直到发送方和接收方都准备好。此属性允许在程序结束时等待“<code>ping</code>”消息，而不必使用任何其他同步。</p> 
 <blockquote> 
  <p>所有的示例代码，都放在 <code>F:\worksp\golang</code> 目录下。安装Go编程环境请参考：<a target="_blank" href="http://www.yiibai.com/go/go_environment.html">http://www.yiibai.com/go/go_environment.html</a> </p> 
 </blockquote> 
 <p><code>channels.go</code>的完整代码如下所示 -</p> 
 <pre><code class="lang-go">package main

import "fmt"

func main() {

    // Create a new channel with `make(chan val-type)`.
    // Channels are typed by the values they convey.
    messages := make(chan string)

    // _Send_ a value into a channel using the `channel &lt;-`
    // syntax. Here we send `"ping"`  to the `messages`
    // channel we made above, from a new goroutine.
    go func() { messages &lt;- "ping" }()

    // The `&lt;-channel` syntax _receives_ a value from the
    // channel. Here we'll receive the `"ping"` message
    // we sent above and print it out.
    msg := &lt;-messages
    fmt.Println(msg)
}
</code></pre> 
 <p>执行上面代码，将得到以下输出结果 - </p>   
 <pre><code class="lang-go">F:\worksp\golang&gt;go run channels.go
ping
</code></pre>
 <br>      
</div></body></html>