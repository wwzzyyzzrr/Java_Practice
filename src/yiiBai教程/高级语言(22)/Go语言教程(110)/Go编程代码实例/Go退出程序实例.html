<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Go退出程序实例</h1><div style="width:100%;float:left;" class="article-content">   
 <p>有时我们希望Go程序能够智能地处理Unix信号。 例如，可能希望服务器在接收到<code>SIGTERM</code>时正常关闭，或者在收到<code>SIGINT</code>时使用命令行工具停止处理输入。下面介绍如何使用Go语言处理信号。</p> 
 <p>Go语言中，使用<code>os.Exit</code>立即退出并返回给定状态。</p> 
 <p>当使用<code>os.Exit</code>时，<code>defers</code>不会运行。</p> 
 <blockquote> 
  <p>所有的示例代码，都放在 <code>F:\worksp\golang</code> 目录下。安装Go编程环境请参考：<a target="_blank" href="http://www.yiibai.com/go/go_environment.html">http://www.yiibai.com/go/go_environment.html</a> </p> 
 </blockquote> 
 <p><code>signal.go</code>的完整代码如下所示 -</p> 
 <pre><code class="lang-go">package main

import "fmt"
import "os"

func main() {

    // `defer`s will _not_ be run when using `os.Exit`, so
    // this `fmt.Println` will never be called.
    defer fmt.Println("!")

    // Exit with status 3.
    os.Exit(3)
}

// Note that unlike e.g. C, Go does not use an integer
// return value from `main` to indicate exit status. If
// you'd like to exit with a non-zero status you should
// use `os.Exit`.
</code></pre> 
 <p>执行上面代码，将得到以下输出结果 - </p>   
 <pre><code class="lang-bash">F:\worksp\golang&gt;go run exit.go
exit status 3
</code></pre>
 <br>      
</div></body></html>