<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Go语言映射</h1><div style="width:100%;float:left;" class="article-content">   
 <p>Go提供了另一个重要的数据类型：<strong>映射</strong>(<code>Map</code>)，它将唯一键映射到值。 键是用于在检索值的对象。 给定一个键和一个值就可以在<code>Map</code>对象中设置值。设置存储值后，就可以使用其键检索它对应的值了。</p> 
 <h3 id="h3-u5B9Au4E49u6620u5C04"><a name="定义映射" class="reference-link"></a><span class="header-link octicon octicon-link"></span>定义映射</h3>
 <p>必须要使用<code>make</code>函数来创建映射。</p> 
 <pre><code class="lang-go">/* declare a variable, by default map will be nil*/
var map_variable map[key_data_type]value_data_type

/* define the map as nil map can not be assigned any value*/
map_variable = make(map[key_data_type]value_data_type)
</code></pre> 
 <h3 id="h3-u793Au4F8B"><a name="示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例</h3>
 <p>以下示例说明了映射的创建和使用。</p> 
 <pre><code class="lang-go">package main

import "fmt"

func main() {
   var countryCapitalMap map[string]string
   /* create a map*/
   countryCapitalMap = make(map[string]string)

   /* insert key-value pairs in the map*/
   countryCapitalMap["France"] = "Paris"
   countryCapitalMap["Italy"] = "Rome"
   countryCapitalMap["Japan"] = "Tokyo"
   countryCapitalMap["India"] = "New Delhi"

   /* print map using keys*/
   for country := range countryCapitalMap {
      fmt.Println("Capital of",country,"is",countryCapitalMap[country])
   }

   /* test if entry is present in the map or not*/
   capital, ok := countryCapitalMap["United States"]
   /* if ok is true, entry is present otherwise entry is absent*/
   if(ok){
      fmt.Println("Capital of United States is", capital)  
   }else {
      fmt.Println("Capital of United States is not present") 
   }
}
</code></pre> 
 <p>当上述代码编译和执行时，它产生以下结果：</p> 
 <pre><code class="lang-go">Capital of India is New Delhi
Capital of France is Paris
Capital of Italy is Rome
Capital of Japan is Tokyo
Capital of United States is not present
</code></pre> 
 <h3 id="h3-delete-"><a name="delete()函数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>delete()函数</h3>
 <p><code>delete()</code>函数用于从映射中删除项目。它需要映射以及指定要删除的相应键。 以下是示例：</p>   
 <pre><code class="lang-go">package main

import "fmt"

func main() {   
   /* create a map*/
   countryCapitalMap := map[string] string {"France":"Paris","Italy":"Rome","Japan":"Tokyo","India":"New Delhi"}

   fmt.Println("Original map")   

   /* print map */
   for country := range countryCapitalMap {
      fmt.Println("Capital of",country,"is",countryCapitalMap[country])
   }

   /* delete an entry */
   delete(countryCapitalMap,"France");
   fmt.Println("Entry for France is deleted")  

   fmt.Println("Updated map")   

   /* print map */
   for country := range countryCapitalMap {
      fmt.Println("Capital of",country,"is",countryCapitalMap[country])
   }
}
</code></pre> 
 <p>当上述代码编译和执行时，它产生以下结果：</p> 
 <pre><code class="lang-go">Original Map
Capital of France is Paris
Capital of Italy is Rome
Capital of Japan is Tokyo
Capital of India is New Delhi
Entry for France is deleted
Updated Map
Capital of India is New Delhi
Capital of Italy is Rome
Capital of Japan is Tokyo
</code></pre>
 <br>      
</div></body></html>