<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">PHP7期望</h1><div style="width:100%;float:left;" class="article-content">   
 <p style="text-align:justify;"> 期望是向后兼容的增强到旧&nbsp;assert()&nbsp;函数。期望允许在生产代码零成本的断言，并提供在断言失败时抛出自定义异常的能力。assert()&nbsp;不是一种语言构建体，其中第一个参数是一个表达式的比较字符串或布尔用于测试。 </p> 
 <h2> 
  <div>
    配置指令assert() 
  </div> </h2> 
 <table border="1" cellpadding="2" cellspacing="0" style="font-size:14px;color:#313131;font-family:Verdana, Geneva, Tahoma,  Helvetica, background-color:#F7F7F7;"> 
  <tbody> 
   <tr> 
    <th style="border:1px solid #999999;background-color:#EEEEEE;"> 指令 </th> 
    <th style="border:1px solid #999999;background-color:#EEEEEE;"> 默认值&nbsp; </th> 
    <th style="border:1px solid #999999;background-color:#EEEEEE;"> 
     <div style="background-color:inherit;">
       可能的值 
     </div> </th> 
   </tr> 
   <tr> 
    <td style="border:1px solid #999999;background-color:inherit;"> zend.assertions </td> 
    <td style="border:1px solid #999999;background-color:inherit;"> 1 </td> 
    <td style="border:1px solid #999999;background-color:inherit;"> 
     <ul style="background-color:inherit;"> 
      <li style="background-color:inherit;color:#000000;"> <p style="text-align:justify;font-size:15px !important;background-color:inherit;"> <b>1</b>&nbsp;-&nbsp;<span style="font-size:inherit;line-height:1.5;">生成并执行代码(开发模式)</span> </p> </li> 
      <li style="background-color:inherit;color:#000000;"> <p style="text-align:justify;font-size:15px !important;background-color:inherit;"> <b>0</b>&nbsp;-&nbsp;<span style="font-size:inherit;line-height:1.5;">生成代码，但它在运行时</span> </p> </li> 
      <li style="background-color:inherit;color:#000000;"> <p style="text-align:justify;font-size:15px !important;background-color:inherit;"> <b>-1</b>&nbsp;-&nbsp;<span style="font-size:inherit;line-height:1.5;">不生成代码(生产模式)</span> </p> </li> 
     </ul> </td> 
   </tr> 
   <tr> 
    <td style="border:1px solid #999999;background-color:inherit;"> assert.exception </td> 
    <td style="border:1px solid #999999;background-color:inherit;"> 0 </td> 
    <td style="border:1px solid #999999;background-color:inherit;"> 
     <ul style="background-color:inherit;"> 
      <li style="background-color:inherit;color:#000000;"> <p style="text-align:justify;font-size:15px !important;background-color:inherit;"> <b>1</b>&nbsp;-&nbsp;<span style="font-size:inherit;line-height:1.5;">当断言失败时抛出，</span><span style="font-size:inherit;line-height:1.5;">要么抛出的异常，或者通过抛出一个新的 AssertionError 对象提供的对象，如果没有提供异常</span> </p> </li> 
      <li style="background-color:inherit;color:#000000;"> <p style="text-align:justify;font-size:15px !important;background-color:inherit;"> <b>0</b>&nbsp;-&nbsp;<span style="font-size:inherit;line-height:1.5;">使用或与上述生成的Throwable，</span><span style="font-size:inherit;line-height:1.5;">但只能根据该对象的警告，而不是(与PHP&nbsp;5兼容的行为)把它抛出</span> </p> </li> 
     </ul> </td> 
   </tr> 
  </tbody> 
 </table> 
 <h2> 参数 </h2> 
 <ul> 
  <li> <p style="text-align:justify;"> assertion&nbsp;-&nbsp;断言。在PHP&nbsp;5中，这必须是要计算一个字符串或要测试一个布尔值。&nbsp;在PHP中7，这也可能是一个返回值的表达式，将执行和使用的结果，以指示断言是成功还是失败。 </p> </li> 
  <li> <p style="text-align:justify;"> description&nbsp;-&nbsp;一个可选的描述，如果断言失败，将包括失败消息。 </p> </li> 
  <li> <p style="text-align:justify;"> exception-在PHP7，第二个参数可以是一个 Throwable 对象，而不是一个描述字符串，在这种情况下，这是如果断言失败和assert.exception配置指令启用将抛出的对象。 </p> </li> 
 </ul> 
 <h2> 返回值 </h2> 
 <div>
   如果断言为假为FALSE，否则为TRUE。 
 </div> 
 <h2> 示例 </h2>   
 <pre>&lt;?php
ini_set('assert.exception', 1);

class CustomError extends AssertionError {}

assert(false, new CustomError('Custom Error Message!'));
?&gt;</pre> 
 <p style="text-align:justify;"> 这将在浏览器产生以下输出&nbsp;- </p> 
 <pre>Fatal error: Uncaught CustomError: Custom Error Message! in...</pre>
 <br>      
</div></body></html>