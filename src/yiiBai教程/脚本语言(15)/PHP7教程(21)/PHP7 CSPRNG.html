<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">PHP7 CSPRNG</h1><div style="width:100%;float:left;" class="article-content">   
 <div>
   在PHP7，以下两个新的函数引入以产生一个跨平台的方式加密安全整数和字符串。 
 </div> 
 <ul> 
  <li> <p style="text-align:justify;"> random_bytes()&nbsp;-&nbsp;生成加密安全伪随机字节。 </p> </li> 
  <li> <p style="text-align:justify;"> random_int()&nbsp;-&nbsp;生成加密安全伪随机整数。 </p> </li> 
 </ul> 
 <h2> random_bytes() </h2> 
 <div>
   random_bytes()适合于使用来生成密码，密码学随机的任意长度的字符串，如：生成&nbsp;salt，密钥或初始向量。 
 </div> 
 <h3> 语法 </h3> 
 <pre>string random_bytes ( int $length )</pre> 
 <h3> 参数 </h3> 
 <ul> 
  <li> <p style="text-align:justify;"> length&nbsp;-&nbsp;返回随机串的字节长度 </p> </li> 
 </ul> 
 <h3> 返回值 </h3> 
 <ul> 
  <li> 
   <div>
     返回包含加密安全随机字节的请求数量的字符串。 
   </div> </li> 
 </ul> 
 <h3> 错误/异常 </h3> 
 <ul> 
  <li> 
   <div>
     如果无法找到随机性的适当源，将引发异常 
   </div> </li> 
  <li> 
   <div>
     如果给定参数无效，TypeError将被抛出 
   </div> </li> 
  <li> 
   <div>
     如果给出字节长度无效，错误将被抛出 
   </div> </li> 
 </ul> 
 <h3> 示例 </h3> 
 <pre>&lt;?php
$bytes = random_bytes(5);
print(bin2hex($bytes));
?&gt;</pre> 
 <p style="text-align:justify;"> 这将在浏览器产生以下输出&nbsp;- </p> 
 <pre><span id="__kindeditor_bookmark_end_17__"></span>54cc305593</pre> 
 <h2> random_int() </h2> 
 <div>
   random_int()产生适合于用于结果是非常重要的加密随机整数。 
 </div> 
 <h3> 语法 </h3>   
 <pre>int random_int ( int $min , int $max )</pre> 
 <h3> 参数 </h3> 
 <ul> 
  <li> <p style="text-align:justify;"> min&nbsp;-&nbsp;返回最小值，它必须是PHP_INT_MIN或更大的值 </p> </li> 
  <li> <p style="text-align:justify;"> max&nbsp;-&nbsp;返回最大值，它必须是小于或等于PHP_INT_MAX </p> </li> 
 </ul> 
 <h3> 返回值 </h3> 
 <ul> 
  <li> 
   <div>
     返回最小值(min)到最大(max)的范围内，包括加密安全随机整数。 
   </div> </li> 
 </ul> 
 <h3> 
  <div>
    错误/异常 
  </div> </h3> 
 <ul> 
  <li> 
   <div>
     如果无法找到随机性一个适当的源，将引发异常 
   </div> </li> 
  <li> 
   <div>
     如果给定参数无效，TypeError 将被抛出 
   </div> </li> 
  <li> 
   <div>
     如果 max 小于 min 时，错误将被抛出 
   </div> </li> 
 </ul> 
 <h3> 示例 </h3> 
 <pre>&lt;?php
print(random_int(100, 999));
print("
");
print(random_int(-1000, 0));
?&gt;</pre> 
 <p style="text-align:justify;"> 这将在浏览器产生以下输出&nbsp;- </p> 
 <pre>614
-882</pre>
 <br>      
</div></body></html>