<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Ruby字符串</h1><div style="width:100%;float:left;" class="article-content">   
 <p>Ruby字符串对象保存并操纵任意字节序列，通常用于表示字符。 它们是使用<code>String:::new</code>创建或作为字面量。</p> 
 <h2 id="h2-u5F15u7528"><a name="引用" class="reference-link"></a><span class="header-link octicon octicon-link"></span>引用</h2>
 <p>Ruby字符串文字包含在单引号和双引号内。</p> 
 <p><strong>示例：</strong></p> 
 <pre><code class="lang-ruby">#!/usr/bin/ruby   

puts 'Hello everyone'   
puts "Hello everyone"
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">F:\worksp\ruby&gt;ruby string-quotes.rb
Hello everyone
Hello everyone
这是一个字符串

F:\worksp\ruby&gt;
</code></pre> 
 <h2 id="h2-u8BBFu95EEu5B57u7B26u4E32u5143u7D20"><a name="访问字符串元素" class="reference-link"></a><span class="header-link octicon octicon-link"></span>访问字符串元素</h2>
 <p>在方括号<code>[]</code>的帮助下，可以访问Ruby字符串中不同部分的元素。在方括号内写入索引或字符串。</p> 
 <p><strong>示例：</strong></p> 
 <pre><code class="lang-ruby">#!/usr/bin/ruby   

msg = "This tutorial is from Yiibai.com."   

puts msg["Yiibai"]   
puts msg["tutorial"]   

puts msg[0]   

puts msg[0, 2]   
puts msg[0..19]   
puts msg[0, msg.length]   
puts msg[-3]
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p> 
 <pre><code>F:\worksp\ruby&gt;ruby string-elements.rb
Yiibai
tutorial
T
Th
This tutorial is fro
This tutorial is from Yiibai.com.
o

F:\worksp\ruby&gt;
</code></pre>
 <h2 id="h2-u591Au884Cu5B57u7B26u4E32"><a name="多行字符串" class="reference-link"></a><span class="header-link octicon octicon-link"></span>多行字符串</h2>
 <p>在Ruby语言中编写多行字符串非常简单。下面是显示打印多行字符串的三种方式。</p> 
 <ul> 
  <li>字符串可以写在双引号内。</li>
  <li>使用<code>％</code>字符，字符串包含在<code>/</code>字符内。</li>
  <li>在<code>heredoc</code>语法中，使用<code>&lt;&lt;</code>并且字符串包含在单词<code>STRING</code>内。</li>
 </ul> 
 <p><strong>示例代码：</strong></p> 
 <pre><code class="lang-ruby">#!/usr/bin/ruby   
puts "   
A   
AB   
ABC   
ABCD"   

puts %/   
A   
AB   
ABC   
ABCD/   

puts &lt;&lt;STRING
A   
AB   
ABC   
ABCD   
STRING
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p> 
 <pre><code>F:\worksp\ruby&gt;ruby string-multiline.rb

A
AB
ABC
ABCD

A
AB
ABC
ABCD
A
AB
ABC
ABCD

F:\worksp\ruby&gt;
</code></pre>
 <h2 id="h2-u53D8u91CFu63D2u503C"><a name="变量插值" class="reference-link"></a><span class="header-link octicon octicon-link"></span>变量插值</h2>
 <p>Ruby变量插值是使用字符串文字中的值替换变量。变量名称放在字符串文字中的<code>＃{</code>和<code>}</code>字符之间。</p> 
 <p><strong>示例代码：</strong></p> 
 <pre><code class="lang-ruby">#!/usr/bin/ruby   

country = "China"   
capital = "Beijing"   

puts "#{capital} is the capital of #{country}."
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">F:\worksp\ruby&gt;ruby string-variable-interpo.rb
Beijing is the capital of China.

F:\worksp\ruby&gt;
</code></pre> 
 <h2 id="h2-u8FDEu63A5u5B57u7B26u4E32"><a name="连接字符串" class="reference-link"></a><span class="header-link octicon octicon-link"></span>连接字符串</h2>
 <p>Ruby连接字符串是要使用多个字符串来创建一个字符串。可以通过连接多个字符串来形成单个字符串。</p> 
 <p>将Ruby字符串连接成单个字符串有四种方法：</p> 
 <ul> 
  <li>在每个字符串之间使用加(<code>+</code>)号。</li>
  <li>在每个字符串之间使用单个空格。</li>
  <li>在每个字符串之间使用<code>&lt;&lt;</code>符号。</li>
  <li>在字符串之间使用<code>concat</code>方法。</li>
 </ul> 
 <p><strong>示例</strong></p> 
 <pre><code class="lang-ruby">#!/usr/bin/ruby   

string = "This is Ruby Tutorial" + " from Yiibai." + " Wish you all good luck."   
puts string   

string = "This is Ruby Tutorial" " from Yiibai." " Wish you all good luck."   
puts string   

string = "This is Ruby Tutorial" &lt;&lt; " from Yiibai." &lt;&lt; " Wish you all good luck."   
puts string   

string = "This is Ruby Tutorial".concat(" from Yiibai.").concat(" Wish you all good luck.")   
puts string
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p>   
 <pre><code class="lang-shell">F:\worksp\ruby&gt;ruby string-concatenating.rb
This is Ruby Tutorial from Yiibai. Wish you all good luck.
This is Ruby Tutorial from Yiibai. Wish you all good luck.
This is Ruby Tutorial from Yiibai. Wish you all good luck.
This is Ruby Tutorial from Yiibai. Wish you all good luck.

F:\worksp\ruby&gt;
</code></pre> 
 <h2 id="h2-u51BBu7ED3u5B57u7B26u4E32"><a name="冻结字符串" class="reference-link"></a><span class="header-link octicon octicon-link"></span>冻结字符串</h2>
 <p>在大多数编程语言中，字符串是不可变的。现有的字符串不能修改，只能创建一个新的字符串。</p> 
 <p>在Ruby中，默认的字符串是可变的。为了使它们不可修改，可以使用<code>freeze</code>方法。</p> 
 <p><strong>示例</strong></p> 
 <pre><code class="lang-ruby">#!/usr/bin/ruby   

str = "Original string"   
str &lt;&lt; " is modified "   
str &lt;&lt; "is again modified"   

puts str   

str.freeze   

## 试着去修改看看
str &lt;&lt; "is again modified"   

puts str

#str &lt;&lt; "And here modification will be failed after using freeze method"
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">F:\worksp\ruby&gt;ruby string-freezing.rb
Original string is modified is again modified
Original string is modified is again modified

F:\worksp\ruby&gt;ruby string-freezing.rb
Original string is modified is again modified
string-freezing.rb:11:in `&lt;main&gt;': can't modify frozen String (RuntimeError)

F:\worksp\ruby&gt;
</code></pre> 
 <h2 id="h2-u6BD4u8F83u5B57u7B26u4E32"><a name="比较字符串" class="reference-link"></a><span class="header-link octicon octicon-link"></span>比较字符串</h2>
 <p>Ruby字符串可以使用以下三个运算符进行比较：</p> 
 <ul> 
  <li>使用<code>==</code>运算符：返回<code>true</code>或<code>false</code></li>
  <li>使用 <code>eql?</code> 运算符：返回<code>true</code>或<code>false</code></li>
  <li>使用<code>casecmp</code>方法：如果匹配则返回<code>0</code>，如果不匹配则返回<code>1</code>。</li>
 </ul> 
 <p><strong>示例</strong></p> 
 <pre><code class="lang-ruby">#!/usr/bin/ruby

puts "abc" == "abc"   
puts "as ab" == "ab ab"   
puts "23" == "32"   

puts "ttt".eql? "ttt"   
puts "12".eql? "12"   

puts "Java".casecmp "Java"   
puts "Java".casecmp "java"   
puts "Java".casecmp "ja"
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">F:\worksp\ruby&gt;ruby string-comparing.rb
true
false
false
true
true
0
0
1

F:\worksp\ruby&gt;
</code></pre>
 <br>      
</div></body></html>