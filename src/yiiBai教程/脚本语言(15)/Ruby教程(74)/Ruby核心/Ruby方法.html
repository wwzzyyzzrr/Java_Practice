<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Ruby方法</h1><div style="width:100%;float:left;" class="article-content">   
 <p>Ruby方法用于避免在程序中一次又一次地编写相同的代码。它是一组有返回值的表达式。<br>Ruby方法与其他编程语言中的函数类似。 方法用于将一个或多个可重复语句合并成一个单独的包。</p> 
 <h2 id="h2-u5B9Au4E49u65B9u6CD5"><a name="定义方法" class="reference-link"></a><span class="header-link octicon octicon-link"></span>定义方法</h2>
 <p>要使用方法，需要先定义它。 Ruby方法是用<code>def</code>关键字开始，后跟方法名称定义的。最后还需要使用<code>end</code>关键字来表示方法定义结束。</p> 
 <p>方法名称应始终以小写字母开头。 否则，可能被误解为常数。</p> 
 <p><strong>语法：</strong></p> 
 <pre><code class="lang-ruby">def methodName  
    code...  
end
</code></pre> 
 <p>示例：</p> 
 <pre><code class="lang-ruby">#!/usr/bin/ruby

def method_defining(a1 = "Ruby", a2 = "Python")
   puts "The programming language is #{a1}"
   puts "The programming language is #{a2}"
end
method_defining "C", "C++"
method_defining
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">F:\worksp\ruby&gt;ruby method_defining.rb
The programming language is C
The programming language is C++
The programming language is Ruby
The programming language is Python

F:\worksp\ruby&gt;
</code></pre> 
 <p>在这里，我们使用<code>def</code>关键字定义了一个名称为：<em>method_defining</em> 的方法。 最后一行以<code>end</code>关键字结束，表示完成了方法的定义。并通过以下两行代码调用方法 - </p> 
 <pre><code class="lang-ruby">method_defining "C", "C++"
method_defining
</code></pre> 
 <h3 id="h3-u4ECEu65B9u6CD5u8FD4u56DEu503C"><a name="从方法返回值" class="reference-link"></a><span class="header-link octicon octicon-link"></span>从方法返回值</h3>
 <p>默认情况下，Ruby中的每个方法都有返回一个值。 这个返回的值将是最后一个语句的值。 例如 -</p> 
 <pre><code class="lang-ruby">def my_method
   i = 100
   j = 10
   k = 1
end
</code></pre> 
 <p>上面代码中，最后方法的返回值是 <code>1</code>。</p> 
 <h3 id="h3-ruby-return-"><a name="Ruby return语句" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Ruby return语句</h3>
 <p>ruby中的<code>return</code>语句用于从Ruby方法返回一个或多个值。</p> 
 <h3 id="h3-u8BEDu6CD5"><a name="语法" class="reference-link"></a><span class="header-link octicon octicon-link"></span>语法</h3>
 <pre><code class="lang-ruby">return [expr [`，'expr ...]]
</code></pre> 
 <p>如果给出两个以上的表达式，则返回值是包含这些值的数组。 如果没有给出表达式，将会返回<code>nil</code>值。</p> 
 <p><strong>示例</strong></p> 
 <pre><code class="lang-ruby">#!/usr/bin/ruby

def method
   i = 100
   j = 200
   k = 300
return i, j, k
end
var = method
puts var
</code></pre> 
 <p>执行上面代码，产生以下结果 - </p> 
 <pre><code class="lang-shell">100
200
300
</code></pre> 
 <h3 id="h3-u53EFu53D8u53C2u6570u6570"><a name="可变参数数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>可变参数数</h3>
 <p>假设声明一个方法需要两个参数，每当调用这个方法时，需要传递两个参数。但是，Ruby允许您声明使用可变数量参数的方法。 让我们来看一下这个示例 -</p>   
 <pre><code class="lang-ruby">#!/usr/bin/ruby

def sample (*test)
   puts "The number of parameters is #{test.length}"
   for i in 0...test.length
      puts "The parameters are #{test[i]}"
   end
end
sample "Maxsu", "6", "F"
sample "Mac", "38", "M", "MCA"
</code></pre> 
 <p>保存上面代码到文件：<em>var-number-of-parameters.rb</em>，执行上面代码，得到到如下结果 -</p> 
 <pre><code class="lang-ruby">F:\worksp\ruby&gt;ruby var-number-of-parameters.rb
The number of parameters is 3
The parameters are Maxsu
The parameters are 6
The parameters are F
The number of parameters is 4
The parameters are Mac
The parameters are 38
The parameters are M
The parameters are MCA

F:\worksp\ruby&gt;
</code></pre> 
 <h3 id="h3-u7C7Bu65B9u6CD5"><a name="类方法" class="reference-link"></a><span class="header-link octicon octicon-link"></span>类方法</h3>
 <p>当方法在类定义之外定义时，默认情况下该方法被标记为<code>private</code>。 另一方面，默认情况下，类定义中定义的方法被标记为<code>public</code>。模块的默认可见性和<code>private</code>标记可以通过模块的<code>public</code>或<code>private</code>更改。</p> 
 <p>Ruby给出一种不用实例化一个类就可以访问一个方法。下面来看看看如何声明和访问类方法 -</p> 
 <pre><code class="lang-ruby">class Accounts
   def reading_charge
   end
   def Accounts.return_date
   end
end
</code></pre> 
 <p>访问类方法 -</p> 
 <pre><code class="lang-ruby">Accounts.return_date
</code></pre>
 <br>      
</div></body></html>