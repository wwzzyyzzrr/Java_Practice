<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">wxPython Button控件</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    在任何GUI界面按钮组件的应用最为广泛。它捕获用户生成的点击事件。其最明显的用途是触发绑定到一个处理函数。 
  </div> 
 </div> 
 <div> 
  <p style="text-align:justify;"> wxPython类库提供不同类型的按钮。有一个简单的、传统的按钮，wx.Button类对象带有一些文本作为其标题。&nbsp;两状态的按钮也可以，它被命名为wx.ToggleButton。其按下或消沉状态可通过事件处理程序函数来识别。 </p> 
  <div>
    另一种类型的按钮，wx.BitmapButton显示位图(图片)作为它的图标。 
  </div> 
  <div>
    构造wx.Button类和wx.ToggleButton类使用以下参数&nbsp;- 
  </div> 
  <pre>Wx.Button(parent, id, label, pos, size, style)</pre> 
  <div>
    这些是wx.Button类的一些重要方法- 
  </div> 
  <table border="1" cellpadding="2" cellspacing="0" style="font-size:14px;color:#313131;font-family:Verdana, Geneva, Tahoma,  Helvetica, background-color:inherit;"> 
   <tbody> 
    <tr> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> S.N. </th> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;text-align:center;"> 
      <div style="background-color:inherit;">
        方法和说明 
      </div> </th> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> 1 </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> <p style="color:#000000;text-align:justify;font-size:15px !important;background-color:inherit;"> <b>SetLabel()</b> </p> 
      <div style="background-color:inherit;">
        编程设置按钮的标题 
      </div> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> 2 </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> <p style="color:#000000;text-align:justify;font-size:15px !important;background-color:inherit;"> <b>GetLabel()</b> </p> 
      <div style="background-color:inherit;">
        返回按钮的标题 
      </div> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> 3 </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> <p style="color:#000000;text-align:justify;font-size:15px !important;background-color:inherit;"> <b>SetDefault()</b> </p> 
      <div style="background-color:inherit;">
        按钮设置为默认顶层窗口。模拟click事件按下回车键 
      </div> </td> 
    </tr> 
   </tbody> 
  </table> 
  <div>
    wx.ToggleButton类的两种重要的方法是&nbsp;- 
  </div> 
  <table border="1" cellpadding="2" cellspacing="0" style="font-size:14px;color:#313131;font-family:Verdana, Geneva, Tahoma,  Helvetica, background-color:inherit;"> 
   <tbody> 
    <tr> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> S.N. </th> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;text-align:center;"> 
      <div style="background-color:inherit;">
        方法和说明 
      </div> </th> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> 1 </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> <p style="color:#000000;text-align:justify;font-size:15px !important;background-color:inherit;"> <b>GetValue()</b> </p> <p style="color:#000000;text-align:justify;font-size:15px !important;background-color:inherit;"> Returns the state of toggle button (on/off) </p> </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> 2 </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> <p style="color:#000000;text-align:justify;font-size:15px !important;background-color:inherit;"> <b>SetValue()</b> </p> <p style="color:#000000;text-align:justify;font-size:15px !important;background-color:inherit;"> Sets the state of button programmatically </p> </td> 
    </tr> 
   </tbody> 
  </table> 
  <div>
    为了创建位图按钮，首先，位图对象需要被构建图像文件出来。 
  </div> 
  <div>
    wx.Bitmap类下面是最常用的构造函数&nbsp;- 
  </div> 
  <pre>Wx.Bitmap(fiiename, wx.BITMAP_TYPE)</pre> 
  <div style="background-color:inherit;">
    一些预定义的位图类型常量是&nbsp;- 
  </div> 
  <table border="1" cellpadding="2" cellspacing="0" width="250" style="font-size:14px;color:#313131;font-family:Verdana, Geneva, Tahoma,  Helvetica, text-align:center;background-color:inherit;"> 
   <tbody> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> wx.BITMAP_TYPE_BMP </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> wx.BITMAP_TYPE_ICO </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> wx.BITMAP_TYPE_CUR </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> wx.BITMAP_TYPE_TIFF </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> wx.BITMAP_TYPE_TIF </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> wx.BITMAP_TYPE_GIF </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> wx.BITMAP_TYPE_PNG </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> wx.BITMAP_TYPE_JPEG </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> wx.BITMAP_TYPE_PCX </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> wx.BITMAP_TYPE_ICON </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> wx.BITMAP_TYPE_ANY </td> 
    </tr> 
   </tbody> 
  </table> 
  <div>
    位图(bitmap)对象作为参数wx.BitmapButton类的构造函数中的一个。 
  </div> 
  <pre>Wx.BitmapButton(parent, id, bitmap, pos, size, style)&nbsp;</pre> 
  <p style="text-align:justify;"> 在某些操作系统平台上，位图按钮可以显示位图和标签。&nbsp;SetLabel()方法用于指定标题。在其他平台上，它作为一个内部的标签。正常的按钮，以及位图按钮发出wx.CommandEvent。&nbsp;EVT_BUTTON绑定器关联一个函数来做处理。 </p> 
  <div>
    另一方面切换按钮使用wx.TOGGLEBUTTON绑定器来处理事件。 
  </div> 
  <div>
    在下面的例子中，所有三种类型的按钮被放置在面板的垂直框大小测定器。 
  </div> 
  <div>
    使用语句创建简单的按钮对象&nbsp;- 
  </div> 
  <pre>self.btn = wx.Button(panel, -1, "click Me")</pre> 
  <div>
    切换按钮使用下面的语句构造- 
  </div> 
  <pre>self.tbtn = wx.ToggleButton(panel , -1, "click to on")</pre> 
  <div>
    这些按钮加入到使用以下语句垂直大小测定器&nbsp;- 
  </div> 
  <pre>vbox.Add(self.btn,0,wx.ALIGN_CENTER) 
vbox.Add(self.tbtn,0,wx.EXPAND|wx.ALIGN_CENTER)</pre> 
  <div>
    注&nbsp;-&nbsp;由于wx.EXPAND标记时，切换按钮占据着帧的整个宽度。 
  </div> 
  <div>
    使用EVT_BUTTON和EVT_TOGGLEBUTTON绑定器使它们各自相关联处理程序。 
  </div>   
  <pre>self.btn.Bind(wx.EVT_BUTTON,self.OnClicked) 
self.tbtn.Bind(wx.EVT_TOGGLEBUTTON,self.OnToggle)</pre> 
  <div>
    三个位图按钮添加到一个横向box大小测定器。这些按钮显示图标，作为它们的标题。 
  </div> 
  <pre>bmp = wx.Bitmap("NEW.BMP", wx.BITMAP_TYPE_BMP) 
self.bmpbtn = wx.BitmapButton(panel, id = wx.ID_ANY, bitmap = bmp,
   size = (bmp.GetWidth()+10, bmp.GetHeight()+10))
  
bmp1 = wx.Bitmap("OPEN.BMP", wx.BITMAP_TYPE_BMP) 
self.bmpbtn1 = wx.BitmapButton(panel, id = wx.ID_ANY, bitmap = bmp1,
   size = (bmp.GetWidth()+10, bmp.GetHeight()+10))
  
bmp2 = wx.Bitmap("SAVE.BMP", wx.BITMAP_TYPE_BMP) 
self.bmpbtn2 = wx.BitmapButton(panel, id = wx.ID_ANY, bitmap = bmp2,
   size = (bmp.GetWidth()+10, bmp.GetHeight()+10))</pre> 
  <div>
    这三个按钮的点击事件是针对OnClicked()方法。 
  </div> 
  <pre>self.bmpbtn.Bind(wx.EVT_BUTTON, self.OnClicked) 
self.bmpbtn1.Bind(wx.EVT_BUTTON, self.OnClicked) 
self.bmpbtn2.Bind(wx.EVT_BUTTON, self.OnClicked)</pre> 
  <div>
    这些按钮的内部标签分别设置为新建，打开和保存。 
  </div> 
  <div> 
   <div>
     OnClicked()事件处理函数检索源按钮的标签，从而导致click事件。这种标签打印到控制台上。 
   </div> 
  </div> 
  <pre>def OnClicked(self, event): 
   btn = event.GetEventObject().GetLabel() 
   print "Label of pressed button = ",btn </pre> 
  <div>
    点击切换按钮时OnToggle()触发事件处理程序。其状态由GetValue()方法读取，因此按钮的标题被设置。 
  </div> 
  <pre>def OnToggle(self,event): 
   state = event.GetEventObject().GetValue() 
   if state == True: 
      print "off" 
      event.GetEventObject().SetLabel("click to off") 
   else: 
      print "on" 
      event.GetEventObject().SetLabel("click to on")</pre> 
  <div>
    完整的代码列表如下&nbsp;- 
  </div> 
  <pre>import wx 
class Mywin(wx.Frame): 
   def __init__(self, parent, title): 
      super(Mywin, self).__init__(parent, title = title,size = (200,150))  
      panel = wx.Panel(self) 
      vbox = wx.BoxSizer(wx.VERTICAL) 
         
      self.btn = wx.Button(panel,-1,"click Me") 
      vbox.Add(self.btn,0,wx.ALIGN_CENTER) 
      self.btn.Bind(wx.EVT_BUTTON,self.OnClicked) 
         
      self.tbtn = wx.ToggleButton(panel , -1, "click to on") 
      vbox.Add(self.tbtn,0,wx.EXPAND|wx.ALIGN_CENTER) 
      self.tbtn.Bind(wx.EVT_TOGGLEBUTTON,self.OnToggle) 
         
      hbox = wx.BoxSizer(wx.HORIZONTAL) 
         
      bmp = wx.Bitmap("NEW.BMP", wx.BITMAP_TYPE_BMP) 
      self.bmpbtn = wx.BitmapButton(panel, id = wx.ID_ANY, bitmap = bmp,
         size = (bmp.GetWidth()+10, bmp.GetHeight()+10)) 
			
      hbox.Add(self.bmpbtn,0,wx.ALIGN_CENTER) 
      self.bmpbtn.Bind(wx.EVT_BUTTON,self.OnClicked) 
      self.bmpbtn.SetLabel("NEW") 
         
      bmp1 = wx.Bitmap("OPEN.BMP", wx.BITMAP_TYPE_BMP) 
      self.bmpbtn1 = wx.BitmapButton(panel, id = wx.ID_ANY, bitmap = bmp1,
         size = (bmp.GetWidth()+10, bmp.GetHeight()+10)) 
			
      hbox.Add(self.bmpbtn1,0,wx.ALIGN_CENTER) 
      self.bmpbtn1.Bind(wx.EVT_BUTTON,self.OnClicked) 
      self.bmpbtn1.SetLabel("OPEN") 
         
      bmp2 = wx.Bitmap("SAVE.BMP", wx.BITMAP_TYPE_BMP) 
      self.bmpbtn2 = wx.BitmapButton(panel, id = wx.ID_ANY, bitmap = bmp2,
         size = (bmp.GetWidth()+10, bmp.GetHeight()+10))
			
      hbox.Add(self.bmpbtn2,0,wx.ALIGN_CENTER) 
      self.bmpbtn2.Bind(wx.EVT_BUTTON,self.OnClicked)
      self.bmpbtn2.SetLabel("SAVE") 
         
      vbox.Add(hbox,1,wx.ALIGN_CENTER) 
      panel.SetSizer(vbox) 
        
      self.Centre() 
      self.Show() 
      self.Fit()  
		
   def OnClicked(self, event): 
      btn = event.GetEventObject().GetLabel() 
      print "Label of pressed button = ",btn 
		
   def OnToggle(self,event): 
      state = event.GetEventObject().GetValue() 
		
      if state == True: 
         print "Toggle button state off" 
         event.GetEventObject().SetLabel("click to off") 
      else: 
         print " Toggle button state on" 
         event.GetEventObject().SetLabel("click to on") 
             
app = wx.App() 
Mywin(None,  'Button Demo - www.yiibai.com') 
app.MainLoop()</pre> 
  <div>
    上面的代码产生下面的输出&nbsp;-
   <br> 
   <img src="/uploads/tutorial/20151208/1-15120R00123122.png" alt="">
   <br> 
  </div> 
  <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/98fba259845f4b90a9d673013331e1e3/clipboard.png">
  <br> 
  <p> Label of pressed button = click Me </p> 
  <p> Toggle button state off </p> 
  <p> Toggle button state on </p> 
  <p> Label of pressed button = NEW </p> 
  <p> Label of pressed button = OPEN </p> 
  <p> Label of pressed button = SAVE </p> 
 </div>
 <br>      
</div></body></html>