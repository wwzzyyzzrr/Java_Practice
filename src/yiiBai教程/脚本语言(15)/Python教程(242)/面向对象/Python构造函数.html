<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Python构造函数</h1><div style="width:100%;float:left;" class="article-content">   
 <p>构造函数是一种特殊类型的方法(函数)，它在类的实例化对象时被调用。 构造函数通常用于初始化(赋值)给实例变量。 构造函数还验证有足够的资源来使对象执行任何启动任务。</p> 
 <p><strong>创建一个构造函数</strong></p> 
 <p>构造函数是以双下划线(<code>__</code>)开头的类函数。构造函数的名称是<code>__init__()</code>。</p> 
 <p>创建对象时，如果需要，构造函数可以接受参数。当创建没有构造函数的类时，Python会自动创建一个不执行任何操作的默认构造函数。</p> 
 <p>每个类必须有一个构造函数，即使它只依赖于默认构造函数。</p> 
 <p><strong>举一个例子：</strong></p> 
 <p>创建一个名为<code>ComplexNumber</code>的类，它有两个函数<code>__init__()</code>函数来初始化变量，并且有一个<code>getData()</code>方法用来显示数字。</p> 
 <p>看这个例子：</p> 
 <pre><code class="lang-python">#!/usr/bin/python3
#coding=utf-8

class ComplexNumber:

    def __init__(self, r = 0, i = 0):
        """"初始化方法"""
        self.real = r 
        self.imag = i 

    def getData(self):
        print("{0}+{1}j".format(self.real, self.imag))

if __name__ == '__main__':
    c = ComplexNumber(5, 6)
    c.getData()
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">5+6j
</code></pre> 
 <p>可以为对象创建一个新属性，并在定义值时进行读取。但是不能为已创建的对象创建属性。</p> 
 <p>看这个例子：</p>   
 <pre><code class="lang-python">#!/usr/bin/python3
#coding=utf-8

class ComplexNumber:

    def __init__(self, r = 0, i = 0):
        """"初始化方法"""
        self.real = r 
        self.imag = i 

    def getData(self):
        print("{0}+{1}j".format(self.real, self.imag))

if __name__ == '__main__':
    c = ComplexNumber(5, 6)
    c.getData()

    c2 = ComplexNumber(10, 20)
    # 试着赋值给一个未定义的属性
    c2.attr = 120
    print("c2 = &gt; ", c2.attr)

    print("c.attr =&gt; ", c.attr)
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">5+6j
c2 = &gt;  120
Traceback (most recent call last):
  File "D:\test.py", line 23, in &lt;module&gt;
    print("c.attr =&gt; ", c.attr)
AttributeError: 'ComplexNumber' object has no attribute 'attr'
</code></pre>
 <br>      
</div></body></html>