<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">NumPy切片和索引</h1><div style="width:100%;float:left;" class="article-content">   
 <h1 id="h1-numpy-"><a name="NumPy - 切片和索引" class="reference-link"></a><span class="header-link octicon octicon-link"></span>NumPy - 切片和索引</h1>
 <p><code>ndarray</code>对象的内容可以通过索引或切片来访问和修改，就像 Python 的内置容器对象一样。</p> 
 <p>如前所述，<code>ndarray</code>对象中的元素遵循基于零的索引。 有三种可用的索引方法类型： <strong>字段访问，基本切片</strong>和<strong>高级索引</strong>。</p> 
 <p>基本切片是 Python 中基本切片概念到 n 维的扩展。 通过将<code>start</code>，<code>stop</code>和<code>step</code>参数提供给内置的<code>slice</code>函数来构造一个 Python <code>slice</code>对象。 此<code>slice</code>对象被传递给数组来提取数组的一部分。</p> 
 <h2 id="h2--1"><a name="示例 1" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例 1</h2>
 <pre><code>import numpy as np
a = np.arange(10)
s = slice(2,7,2)  
print a[s]
</code></pre>
 <p>输出如下：</p> 
 <pre><code>[2  4  6]
</code></pre>
 <p>在上面的例子中，<code>ndarray</code>对象由<code>arange()</code>函数创建。 然后，分别用起始，终止和步长值<code>2</code>，<code>7</code>和<code>2</code>定义切片对象。 当这个切片对象传递给<code>ndarray</code>时，会对它的一部分进行切片，从索引<code>2</code>到<code>7</code>，步长为<code>2</code>。</p> 
 <p>通过将由冒号分隔的切片参数(<code>start:stop:step</code>)直接提供给<code>ndarray</code>对象，也可以获得相同的结果。</p> 
 <h2 id="h2--2"><a name="示例 2" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例 2</h2>
 <pre><code>import numpy as np
a = np.arange(10)
b = a[2:7:2]  
print b
</code></pre>
 <p>输出如下：</p> 
 <pre><code>[2  4  6]
</code></pre>
 <p>如果只输入一个参数，则将返回与索引对应的单个项目。 如果使用<code>a:</code>，则从该索引向后的所有项目将被提取。 如果使用两个参数(以<code>:</code>分隔)，则对两个索引(不包括停止索引)之间的元素以默认步骤进行切片。</p> 
 <h2 id="h2--3"><a name="示例 3" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例 3</h2>
 <pre><code># 对单个元素进行切片  
import numpy as np

a = np.arange(10)
b = a[5]  
print b
</code></pre>
 <p>输出如下：</p> 
 <pre><code>5
</code></pre>
 <h2 id="h2--4"><a name="示例 4" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例 4</h2>
 <pre><code># 对始于索引的元素进行切片  
import numpy as np
a = np.arange(10)  
print a[2:]
</code></pre>
 <p>输出如下：</p> 
 <pre><code>[2  3  4  5  6  7  8  9]
</code></pre>
 <h2 id="h2--5"><a name="示例 5" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例 5</h2>  
 <pre><code># 对索引之间的元素进行切片  
import numpy as np
a = np.arange(10)  
print a[2:5]
</code></pre>
 <p>输出如下：</p> 
 <pre><code>[2  3  4]
</code></pre>
 <p>上面的描述也可用于多维<code>ndarray</code>。</p> 
 <h2 id="h2--6"><a name="示例 6" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例 6</h2>
 <pre><code>import numpy as np
a = np.array([[1,2,3],[3,4,5],[4,5,6]])  
print a
# 对始于索引的元素进行切片  
print  '现在我们从索引 a[1:] 开始对数组切片'  
print a[1:]
</code></pre>
 <p>输出如下：</p> 
 <pre><code>[[1 2 3]
 [3 4 5]
 [4 5 6]]

现在我们从索引 a[1:] 开始对数组切片
[[3 4 5]
 [4 5 6]]
</code></pre>
 <p>切片还可以包括省略号(<code>...</code>)，来使选择元组的长度与数组的维度相同。 如果在行位置使用省略号，它将返回包含行中元素的<code>ndarray</code>。</p> 
 <h2 id="h2--7"><a name="示例 7" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例 7</h2>
 <pre><code># 最开始的数组  
import numpy as np
a = np.array([[1,2,3],[3,4,5],[4,5,6]])  
print  '我们的数组是：'  
print a
print  '\n'  
# 这会返回第二列元素的数组：  
print  '第二列的元素是：'  
print a[...,1]  
print  '\n'  
# 现在我们从第二行切片所有元素：  
print  '第二行的元素是：'  
print a[1,...]  
print  '\n'  
# 现在我们从第二列向后切片所有元素：
print  '第二列及其剩余元素是：'  
print a[...,1:]
</code></pre>
 <p>输出如下：</p> 
 <pre><code>我们的数组是：
[[1 2 3]
 [3 4 5]
 [4 5 6]]

第二列的元素是：
[2 4 5]

第二行的元素是：
[3 4 5]

第二列及其剩余元素是：
[[2 3]
 [4 5]
 [5 6]]
</code></pre>
 <br>      
</div></body></html>