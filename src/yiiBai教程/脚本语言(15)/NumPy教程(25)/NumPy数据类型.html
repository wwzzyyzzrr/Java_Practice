<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">NumPy数据类型</h1><div style="width:100%;float:left;" class="article-content">   
 <h2 id="h1-numpy-"> <a name="NumPy - 数据类型"></a><span class="header-link octicon octicon-link"></span>NumPy - 数据类型 </h2> 
 <p> NumPy 支持比 Python 更多种类的数值类型。 下表显示了 NumPy 中定义的不同标量数据类型。 </p> 
 <table> 
  <tbody> 
   <tr> 
    <th> 序号 </th> 
    <th> 数据类型及描述 </th> 
   </tr> 
  </tbody> 
  <tbody> 
   <tr> 
    <td> 1. </td> 
    <td> bool_存储为一个字节的布尔值(真或假) </td> 
   </tr> 
   <tr> 
    <td> 2. </td> 
    <td> int_默认整数，相当于 C 的long，通常为int32或int64 </td> 
   </tr> 
   <tr> 
    <td> 3. </td> 
    <td> intc相当于 C 的int，通常为int32或int64 </td> 
   </tr> 
   <tr> 
    <td> 4. </td> 
    <td> intp用于索引的整数，相当于 C 的size_t，通常为int32或int64 </td> 
   </tr> 
   <tr> 
    <td> 5. </td> 
    <td> int8字节(-128 ~ 127) </td> 
   </tr> 
   <tr> 
    <td> 6. </td> 
    <td> int1616 位整数(-32768 ~ 32767) </td> 
   </tr> 
   <tr> 
    <td> 7. </td> 
    <td> int3232 位整数(-2147483648 ~ 2147483647) </td> 
   </tr> 
   <tr> 
    <td> 8. </td> 
    <td> int6464 位整数(-9223372036854775808 ~ 9223372036854775807) </td> 
   </tr> 
   <tr> 
    <td> 9. </td> 
    <td> uint88 位无符号整数(0 ~ 255) </td> 
   </tr> 
   <tr> 
    <td> 10. </td> 
    <td> uint1616 位无符号整数(0 ~ 65535) </td> 
   </tr> 
   <tr> 
    <td> 11. </td> 
    <td> uint3232 位无符号整数(0 ~ 4294967295) </td> 
   </tr> 
   <tr> 
    <td> 12. </td> 
    <td> uint6464 位无符号整数(0 ~ 18446744073709551615) </td> 
   </tr> 
   <tr> 
    <td> 13. </td> 
    <td> float_float64的简写 </td> 
   </tr> 
   <tr> 
    <td> 14. </td> 
    <td> float16半精度浮点：符号位，5 位指数，10 位尾数 </td> 
   </tr> 
   <tr> 
    <td> 15. </td> 
    <td> float32单精度浮点：符号位，8 位指数，23 位尾数 </td> 
   </tr> 
   <tr> 
    <td> 16. </td> 
    <td> float64双精度浮点：符号位，11 位指数，52 位尾数 </td> 
   </tr> 
   <tr> 
    <td> 17. </td> 
    <td> complex_complex128的简写 </td> 
   </tr> 
   <tr> 
    <td> 18. </td> 
    <td> complex64复数，由两个 32 位浮点表示(实部和虚部) </td> 
   </tr> 
   <tr> 
    <td> 19. </td> 
    <td> complex128复数，由两个 64 位浮点表示(实部和虚部) </td> 
   </tr> 
  </tbody> 
 </table> 
 <p> NumPy 数字类型是dtype(数据类型)对象的实例，每个对象具有唯一的特征。 这些类型可以是np.bool_，np.float32等。 </p> 
 <h2 id="h2--code-dtype-code-"> <a name="数据类型对象 (<code>dtype</code>)"></a><span class="header-link octicon octicon-link"></span>数据类型对象 (dtype) </h2> 
 <p> 数据类型对象描述了对应于数组的固定内存块的解释，取决于以下方面： </p> 
 <ul> 
  <li> <p> 数据类型(整数、浮点或者 Python 对象) </p> </li> 
  <li> <p> 数据大小 </p> </li> 
  <li> <p> 字节序(小端或大端) </p> </li> 
  <li> <p> 在结构化类型的情况下，字段的名称，每个字段的数据类型，和每个字段占用的内存块部分。 </p> </li> 
  <li> <p> 如果数据类型是子序列，它的形状和数据类型。 </p> </li> 
 </ul> 
 <p> 字节顺序取决于数据类型的前缀&lt;或&gt;。&lt;意味着编码是小端(最小有效字节存储在最小地址中)。&gt;意味着编码是大端(最大有效字节存储在最小地址中)。 </p> 
 <p> dtype可由一下语法构造： </p> 
 <pre>numpy.dtype(object, align, copy)</pre> 
 <p> 参数为： </p> 
 <ul> 
  <li> <p> Object：被转换为数据类型的对象。 </p> </li> 
  <li> <p> Align：如果为true，则向字段添加间隔，使其类似 C 的结构体。 </p> </li> 
  <li> <p> Copy? 生成dtype对象的新副本，如果为flase，结果是内建数据类型对象的引用。 </p> </li> 
 </ul> 
 <h3 id="h3--1"> <a name="示例 1"></a><span class="header-link octicon octicon-link"></span>示例 1 </h3> 
 <pre># 使用数组标量类型  
import numpy as np 
dt = np.dtype(np.int32)  
print dt</pre> 
 <p> 输出如下： </p> 
 <pre>int32</pre> 
 <h3 id="h3--2"> <a name="示例 2"></a><span class="header-link octicon octicon-link"></span>示例 2 </h3> 
 <pre>#int8，int16，int32，int64 可替换为等价的字符串 'i1'，'i2'，'i4'，以及其他。  
import numpy as np 

dt = np.dtype('i4')  
print dt</pre> 
 <p> 输出如下： </p>   
 <pre>int32</pre> 
 <h3 id="h3--3"> <a name="示例 3"></a><span class="header-link octicon octicon-link"></span>示例 3 </h3> 
 <pre># 使用端记号  
import numpy as np 
dt = np.dtype('&gt;i4')  
print dt</pre> 
 <p> 输出如下： </p> 
 <pre>&gt;i4</pre> 
 <p> 下面的例子展示了结构化数据类型的使用。 这里声明了字段名称和相应的标量数据类型。 </p> 
 <h3 id="h3--4"> <a name="示例 4"></a><span class="header-link octicon octicon-link"></span>示例 4 </h3> 
 <pre># 首先创建结构化数据类型。  
import numpy as np 
dt = np.dtype([('age',np.int8)])  
print dt</pre> 
 <p> 输出如下： </p> 
 <pre>[('age', 'i1')]</pre> 
 <h3 id="h3--5"> <a name="示例 5"></a><span class="header-link octicon octicon-link"></span>示例 5 </h3> 
 <pre># 现在将其应用于 ndarray 对象  
import numpy as np 

dt = np.dtype([('age',np.int8)]) 
a = np.array([(10,),(20,),(30,)], dtype = dt)  
print a</pre> 
 <p> 输出如下： </p> 
 <pre>[(10,) (20,) (30,)]</pre> 
 <h3 id="h3--6"> <a name="示例 6"></a><span class="header-link octicon octicon-link"></span>示例 6 </h3> 
 <pre># 文件名称可用于访问 age 列的内容  
import numpy as np 

dt = np.dtype([('age',np.int8)]) 
a = np.array([(10,),(20,),(30,)], dtype = dt)  
print a['age']</pre> 
 <p> 输出如下： </p> 
 <pre>[10 20 30]</pre> 
 <h3 id="h3--7"> <a name="示例 7"></a><span class="header-link octicon octicon-link"></span>示例 7 </h3> 
 <p> 以下示例定义名为 <strong>student</strong> 的结构化数据类型，其中包含字符串字段name，<strong>整数字段</strong>age和<strong>浮点字段</strong>marks。 此dtype应用于ndarray对象。 </p> 
 <pre>import numpy as np 
student = np.dtype([('name','S20'),  ('age',  'i1'),  ('marks',  'f4')])  
print student</pre> 
 <p> 输出如下： </p> 
 <pre>[('name', 'S20'), ('age', 'i1'), ('marks', '&lt;f4')])</pre> 
 <h3 id="h3--8"> <a name="示例 8"></a><span class="header-link octicon octicon-link"></span>示例 8 </h3> 
 <pre>import numpy as np 

student = np.dtype([('name','S20'),  ('age',  'i1'),  ('marks',  'f4')]) 
a = np.array([('abc',  21,  50),('xyz',  18,  75)], dtype = student)  
print a</pre> 
 <p> 输出如下： </p> 
 <pre>[('abc', 21, 50.0), ('xyz', 18, 75.0)]</pre> 
 <p> 每个内建类型都有一个唯一定义它的字符代码： </p> 
 <ul> 
  <li> <p> 'b'：布尔值 </p> </li> 
  <li> <p> 'i'：符号整数 </p> </li> 
  <li> <p> 'u'：无符号整数 </p> </li> 
  <li> <p> 'f'：浮点 </p> </li> 
  <li> <p> 'c'：复数浮点 </p> </li> 
  <li> <p> 'm'：时间间隔 </p> </li> 
  <li> <p> 'M'：日期时间 </p> </li> 
  <li> <p> 'O'：Python 对象 </p> </li> 
  <li> <p> 'S', 'a'：字节串 </p> </li> 
  <li> <p> 'U'：Unicode </p> </li> 
  <li> <p> 'V'：原始数据(void) </p> </li> 
 </ul>
 <br>      
</div></body></html>