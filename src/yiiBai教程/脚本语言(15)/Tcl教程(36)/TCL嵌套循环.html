<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">TCL嵌套循环</h1><div style="width:100%;float:left;" class="article-content">   
 <p> TCL允许使用一个循环内的另一个循环。下面的内容展示几个例子来说明这个概念。</p> 
 <h2> 语法</h2> 
 <p> Tcl语言的嵌套的循环语句的语法如下：</p> 
 <pre class="prettprint notranslate" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; padding: 0px; margin-bottom: 0px; color: rgb(49, 49, 49); font-size: 14px; line-height: 22px;">
for {initialization} {condition} {increment} {
   for {initialization} {condition} {increment} {
      statement(s);
   }
   statement(s);
}</pre> 
 <p> Tcl语言嵌套while循环语句的语法如下：</p> 
 <pre class="prettprint notranslate" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; padding: 0px; margin-bottom: 0px; color: rgb(49, 49, 49); font-size: 14px; line-height: 22px;">
while {condition} {
   while {condition} {
      statement(s);
   }
   statement(s);
}</pre> 
 <p> 在循环嵌套最后需要说明的是，可以把任何类型循环嵌套在其他类型循环内。例如，for循环可以是一个while循环的内循环，或反之亦然。</p> 
 <h2> 示例</h2> 
 <p> 下面的程序使用嵌套for循环从2至100找出所有的素数：</p> 
 <pre class="prettprint notranslate tryit" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; padding: 0px; margin-bottom: 0px; color: rgb(49, 49, 49); font-size: 14px; line-height: 22px;">
#!/usr/bin/tclsh

set j 0;
for {set i 2} {$i&lt;100} {incr i} {
   for {set j 2} {$j &lt;= [expr $i/$j] } {incr j} {
      if {  [expr $i%$j] == 0 } {
         break
      } 
   }
   if {$j &gt;[expr $i/$j] } {
      puts "$i is prime"
   }
}</pre> 
 <p> 当上述代码被编译和执行时，它产生了以下结果：</p>   
 <pre class="result notranslate" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 496.1875px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
2 is prime
3 is prime
5 is prime
7 is prime
11 is prime
13 is prime
17 is prime
19 is prime
23 is prime
29 is prime
31 is prime
37 is prime
41 is prime
43 is prime
47 is prime
53 is prime
59 is prime
61 is prime
67 is prime
71 is prime
73 is prime
79 is prime
83 is prime
89 is prime
97 is prime</pre> 
 <br>      
</div></body></html>