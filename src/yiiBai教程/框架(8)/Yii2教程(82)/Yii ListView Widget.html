<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Yii ListView Widget</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    在&nbsp;ListView&nbsp;小部件使用数据提供者显示数据。每个模型都使用指定的视图文件渲染。 
  </div> 
 </div> 
 <div> 
  <div>
    第1步&nbsp;-&nbsp;使用以下这种方式修改actionDataWidget()方法。 
  </div> 
  <pre>public function actionDataWidget() {
   $dataProvider = new ActiveDataProvider([
      'query' =&gt; MyUser::find(),
      'pagination' =&gt; [
         'pageSize' =&gt; 20,
      ],
   ]);
   return $this-&gt;render('datawidget', [
      'dataProvider' =&gt; $dataProvider
   ]);
}</pre> 
  <div>
    在上面的代码中，我们创建了一个数据提供者，并把它传递给数据小工具(datawidget)视图。 
  </div> 
  <div>
    第2步&nbsp;-&nbsp;使用以下这种方式修改 views/site/datawidget.php 视图文件。 
  </div> 
  <pre>&lt;?php
   use yii\widgets\ListView;
   echo ListView::widget([
      'dataProvider' =&gt; $dataProvider,
      'itemView' =&gt; '_user',
   ]);
?&gt;</pre> 
  <div>
    当我们呈现&nbsp;ListView&nbsp;小部件。每个模型都在&nbsp;_user&nbsp;视图渲染。 
  </div> 
  <div>
    第3步&nbsp;-&nbsp;在&nbsp;views/site&nbsp;目录下创建一个 _user.php&nbsp;视图文件。 
  </div>   
  <pre>&lt;?php
   use yii\helpers\Html;
   use yii\helpers\HtmlPurifier;
?&gt;
&lt;div class = "user"&gt;
   &lt;?= $model-&gt;id ?&gt;
   &lt;?= Html::encode($model-&gt;name) ?&gt;
   &lt;?= HtmlPurifier::process($model-&gt;email) ?&gt;
&lt;/div&gt;</pre> 
  <div>
    第4步&nbsp;-&nbsp;在Web浏览器的地址栏中输入：
   <a target="_blank" href="http://localhost:8080/index.php?r=site/data-widget">http://localhost:8080/index.php?r=site/data-widget</a>&nbsp;，会看到以下内容。
   <br> 
   <img src="/uploads/tutorial/20160604/1-160604131129260.png" width="585" height="492" title="Yii ListView Widget" alt="Yii ListView Widget">
   <br> 
  </div> 
 </div>
 <br>      
</div></body></html>