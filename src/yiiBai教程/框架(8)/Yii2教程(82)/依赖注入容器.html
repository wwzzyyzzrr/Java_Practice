<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">依赖注入容器</h1><div style="width:100%;float:left;" class="article-content">   
 <h1 style="margin: 0px; padding: 0.25em 0px 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-top-style: none; font-size: 23px; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; line-height: 18.676000595092773px;"> 依赖注入容器</h1> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 依赖注入(Dependency Injection，DI)容器就是一个对象，它知道怎样初始化并配置对象及其依赖的所有对象。<a target="_blank" href="http://martinfowler.com/articles/injection.htmll" style="margin: 0px; padding: 0px; color: rgb(65, 131, 196); text-decoration: none;">Martin 的文章</a>&nbsp;已经解释了 DI 容器为什么很有用。这里我们主要讲解 Yii 提供的 DI 容器的使用方法。</p> 
 <h2 style="margin: 1.5em 0px 1em; padding: 0.5em 0px 0px; border-width: 4px 0px 0px; border-top-style: solid; border-top-color: rgb(224, 224, 224); font-size: 20px; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; line-height: 18.676000595092773px;"> 依赖注入</h2> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> Yii 通过 [[yii\di\Container]] 类提供 DI 容器特性。它支持如下几种类型的依赖注入：</p> 
 <ul> 
  <li> 构造方法注入;</li> 
  <li> Setter 和属性注入;</li> 
  <li> PHP 回调注入.</li> 
 </ul> 
 <h3 style="margin: 1em 0px; padding: 0px; border: 0px; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; line-height: 18.676000595092773px;"> 构造方法注入</h3> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 在参数类型提示的帮助下，DI 容器实现了构造方法注入。当容器被用于创建一个新对象时，类型提示会告诉它要依赖什么类或接口。容器会尝试获取它所依赖的类或接口的实例，然后通过构造器将其注入新的对象。例如：</p> 
 <ol class="hibot" style="margin: auto; padding-right: 0px; padding-left: 38px; font-size: 14px; font-family: monospace; color: rgb(230, 225, 220); background: rgb(17, 17, 17);"> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> class&nbsp;Foo&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> {&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;__construct(Bar&nbsp;$bar)&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> }&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $foo&nbsp;=&nbsp;$container-&gt;get('Foo');&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;上面的代码等价于：&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $bar&nbsp;=&nbsp;new&nbsp;Bar;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $foo&nbsp;=&nbsp;new&nbsp;Foo($bar);</li> 
 </ol> 
 <h3 style="margin: 1em 0px; padding: 0px; border: 0px; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; line-height: 18.676000595092773px;"> Setter 和属性注入<a name="setter-and-property-injection" style="margin: 0px; padding: 0px; color: rgb(65, 131, 196);"></a></h3> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> Setter 和属性注入是通过<a target="_blank" href="http://mahua.jser.me/concept-configurations.md" style="margin: 0px; padding: 0px; color: rgb(65, 131, 196); text-decoration: none;">配置</a>提供支持的。当注册一个依赖或创建一个新对象时，你可以提供一个配置，该配置会提供给容器用于通过相应的 Setter 或属性注入依赖。例如：</p> 
 <ol class="hibot" style="margin: auto; padding-right: 0px; padding-left: 38px; font-size: 14px; font-family: monospace; color: rgb(230, 225, 220); background: rgb(17, 17, 17);"> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> use&nbsp;yii\\base\\Object;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> class&nbsp;Foo&nbsp;extends&nbsp;Object&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> {&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;$bar;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;$_qux;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;getQux()&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;$this-&gt;_qux;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;setQux(Qux&nbsp;$qux)&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;_qux&nbsp;=&nbsp;$qux;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> }&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container-&gt;get('Foo',&nbsp;[],&nbsp;[&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'bar'&nbsp;=&gt;&nbsp;$container-&gt;get('Bar'),&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'qux'&nbsp;=&gt;&nbsp;$container-&gt;get('Qux'),&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> ]);</li> 
 </ol> 
 <h3 style="margin: 1em 0px; padding: 0px; border: 0px; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; line-height: 18.676000595092773px;"> PHP 回调注入<a name="php-callable-injection" style="margin: 0px; padding: 0px; color: rgb(65, 131, 196);"></a></h3> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 这种情况下，容器将使用一个注册过的 PHP 回调创建一个类的新实例。回调负责解决依赖并将其恰当地注入新创建的对象。例如：</p> 
 <ol class="hibot" style="margin: auto; padding-right: 0px; padding-left: 38px; font-size: 14px; font-family: monospace; color: rgb(230, 225, 220); background: rgb(17, 17, 17);"> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container-&gt;set('Foo',&nbsp;function&nbsp;()&nbsp;{&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;Foo(new&nbsp;Bar);&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> });&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $foo&nbsp;=&nbsp;$container-&gt;get('Foo');</li> 
 </ol> 
 <h2 style="margin: 1.5em 0px 1em; padding: 0.5em 0px 0px; border-width: 4px 0px 0px; border-top-style: solid; border-top-color: rgb(224, 224, 224); font-size: 20px; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; line-height: 18.676000595092773px;"> 注册依赖关系</h2> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 可以用 [[yii\di\Container::set()]] 注册依赖关系。注册会用到一个依赖关系名称和一个依赖关系的定义。依赖关系名称可以是一个类名，一个接口名或一个别名。依赖关系的定义可以是一个类名，一个配置数组，或者一个 PHP 回调。</p> 
 <ol class="hibot" style="margin: auto; padding-right: 0px; padding-left: 38px; font-size: 14px; font-family: monospace; color: rgb(230, 225, 220); background: rgb(17, 17, 17);"> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container&nbsp;=&nbsp;new&nbsp;\\yii\\di\\Container;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;注册一个同类名一样的依赖关系，这个可以省略。&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container-&gt;set('yii\\db\\Connection');&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;注册一个接口&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;当一个类依赖这个接口时，相应的类会被初始化作为依赖对象。&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container-&gt;set('yii\\mail\\MailInterface',&nbsp;'yii\\swiftmailer\\Mailer');&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;注册一个别名。&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;你可以使用&nbsp;$container-&gt;get('foo')&nbsp;创建一个&nbsp;Connection&nbsp;实例&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container-&gt;set('foo',&nbsp;'yii\\db\\Connection');&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;通过配置注册一个类&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;通过&nbsp;get()&nbsp;初始化时，配置将会被使用。&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container-&gt;set('yii\\db\\Connection',&nbsp;[&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'dsn'&nbsp;=&gt;&nbsp;'mysql:host=127.0.0.1;dbname=demo',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'username'&nbsp;=&gt;&nbsp;'root',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'password'&nbsp;=&gt;&nbsp;'',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'charset'&nbsp;=&gt;&nbsp;'utf8',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> ]);&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;通过类的配置注册一个别名&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;这种情况下，需要通过一个&nbsp;“class”&nbsp;元素指定这个类&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container-&gt;set('db',&nbsp;[&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'class'&nbsp;=&gt;&nbsp;'yii\\db\\Connection',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'dsn'&nbsp;=&gt;&nbsp;'mysql:host=127.0.0.1;dbname=demo',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'username'&nbsp;=&gt;&nbsp;'root',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'password'&nbsp;=&gt;&nbsp;'',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'charset'&nbsp;=&gt;&nbsp;'utf8',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> ]);&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;注册一个&nbsp;PHP&nbsp;回调&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;每次调用&nbsp;$container-&gt;get('db')&nbsp;时，回调函数都会被执行。&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container-&gt;set('db',&nbsp;function&nbsp;($container,&nbsp;$params,&nbsp;$config)&nbsp;{&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;\\yii\\db\\Connection($config);&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> });&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;注册一个组件实例&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;$container-&gt;get('pageCache')&nbsp;每次被调用时都会返回同一个实例。&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container-&gt;set('pageCache',&nbsp;new&nbsp;FileCache);</li> 
 </ol> 
 <blockquote style="margin: 1em 0px; padding: 0px 0px 0px 0.6em; border-left-width: 5px; border-left-style: solid; border-left-color: rgb(221, 221, 221); color: rgb(85, 85, 85); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px; line-height: 18.676000595092773px;"> 
  <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em;"> Tip: 如果依赖关系名称和依赖关系的定义相同，则不需要通过 DI 容器注册该依赖关系。</p> 
 </blockquote> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 通过&nbsp;<code style="margin: 0px; padding: 0px 0.2em; font-size: 12px; line-height: normal; font-family: Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; color: rgb(68, 68, 68); border: 1px solid rgb(222, 222, 222); background-color: rgb(248, 248, 255);">set()</code>&nbsp;注册的依赖关系，在每次使用时都会产生一个新实例。可以使用 [[yii\di\Container::setSingleton()]] 注册一个单例的依赖关系：</p> 
 <ol class="hibot" style="margin: auto; padding-right: 0px; padding-left: 38px; font-size: 14px; font-family: monospace; color: rgb(230, 225, 220); background: rgb(17, 17, 17);"> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container-&gt;setSingleton('yii\\db\\Connection',&nbsp;[&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'dsn'&nbsp;=&gt;&nbsp;'mysql:host=127.0.0.1;dbname=demo',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'username'&nbsp;=&gt;&nbsp;'root',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'password'&nbsp;=&gt;&nbsp;'',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'charset'&nbsp;=&gt;&nbsp;'utf8',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> ]);</li> 
 </ol> 
 <h2 style="margin: 1.5em 0px 1em; padding: 0.5em 0px 0px; border-width: 4px 0px 0px; border-top-style: solid; border-top-color: rgb(224, 224, 224); font-size: 20px; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; line-height: 18.676000595092773px;"> 解决依赖关系</h2> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 注册依赖关系后，就可以使用 DI 容器创建新对象了。容器会自动解决依赖关系，将依赖实例化并注入新创建的对象。依赖关系的解决是递归的，如果一个依赖关系中还有其他依赖关系，则这些依赖关系都会被自动解决。</p> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 可以使用 [[yii\di\Container::get()]] 创建新的对象。该方法接收一个依赖关系名称，它可以是一个类名，一个接口名或一个别名。依赖关系名或许是通过&nbsp;<code style="margin: 0px; padding: 0px 0.2em; font-size: 12px; line-height: normal; font-family: Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; color: rgb(68, 68, 68); border: 1px solid rgb(222, 222, 222); background-color: rgb(248, 248, 255);">set()</code>&nbsp;或&nbsp;<code style="margin: 0px; padding: 0px 0.2em; font-size: 12px; line-height: normal; font-family: Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; color: rgb(68, 68, 68); border: 1px solid rgb(222, 222, 222); background-color: rgb(248, 248, 255);">setSingleton()</code>&nbsp;注册的。你可以随意地提供一个类的构造器参数列表和一个<a target="_blank" href="http://mahua.jser.me/concept-configurations.md" style="margin: 0px; padding: 0px; color: rgb(65, 131, 196); text-decoration: none;">configuration</a>&nbsp;用于配置新创建的对象。例如：</p> 
 <ol class="hibot" style="margin: auto; padding-right: 0px; padding-left: 38px; font-size: 14px; font-family: monospace; color: rgb(230, 225, 220); background: rgb(17, 17, 17);"> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;"db"&nbsp;是前面定义过的一个别名&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $db&nbsp;=&nbsp;$container-&gt;get('db');&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;等价于：&nbsp;$engine&nbsp;=&nbsp;new&nbsp;\\app\\components\\SearchEngine($apiKey,&nbsp;['type'&nbsp;=&gt;&nbsp;1]);&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $engine&nbsp;=&nbsp;$container-&gt;get('app\\components\\SearchEngine',&nbsp;[$apiKey],&nbsp;['type'&nbsp;=&gt;&nbsp;1]);</li> 
 </ol> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 代码背后，DI 容器做了比创建对象多的多的工作。容器首先将检查类的构造方法，找出依赖的类或接口名，然后自动递归解决这些依赖关系。</p> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 如下代码展示了一个更复杂的示例。<code style="margin: 0px; padding: 0px 0.2em; font-size: 12px; line-height: normal; font-family: Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; color: rgb(68, 68, 68); border: 1px solid rgb(222, 222, 222); background-color: rgb(248, 248, 255);">UserLister</code>&nbsp;类依赖一个实现了&nbsp;<code style="margin: 0px; padding: 0px 0.2em; font-size: 12px; line-height: normal; font-family: Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; color: rgb(68, 68, 68); border: 1px solid rgb(222, 222, 222); background-color: rgb(248, 248, 255);">UserFinderInterface</code>&nbsp;接口的对象；<code style="margin: 0px; padding: 0px 0.2em; font-size: 12px; line-height: normal; font-family: Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; color: rgb(68, 68, 68); border: 1px solid rgb(222, 222, 222); background-color: rgb(248, 248, 255);">UserFinder</code>&nbsp;类实现了这个接口，并依赖于一个&nbsp;<code style="margin: 0px; padding: 0px 0.2em; font-size: 12px; line-height: normal; font-family: Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; color: rgb(68, 68, 68); border: 1px solid rgb(222, 222, 222); background-color: rgb(248, 248, 255);">Connection</code>&nbsp;对象。所有这些依赖关系都是通过类构造器参数的类型提示定义的。通过属性依赖关系的注册，DI 容器可以自动解决这些依赖关系并能通过一个简单的<code style="margin: 0px; padding: 0px 0.2em; font-size: 12px; line-height: normal; font-family: Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; color: rgb(68, 68, 68); border: 1px solid rgb(222, 222, 222); background-color: rgb(248, 248, 255);">get('userLister')</code>&nbsp;调用创建一个新的&nbsp;<code style="margin: 0px; padding: 0px 0.2em; font-size: 12px; line-height: normal; font-family: Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; color: rgb(68, 68, 68); border: 1px solid rgb(222, 222, 222); background-color: rgb(248, 248, 255);">UserLister</code>&nbsp;实例。</p> 
 <ol class="hibot" style="margin: auto; padding-right: 0px; padding-left: 38px; font-size: 14px; font-family: monospace; color: rgb(230, 225, 220); background: rgb(17, 17, 17);"> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> namespace&nbsp;app\\models;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> use&nbsp;yii\\base\\Object;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> use&nbsp;yii\\db\\Connection;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> use&nbsp;yii\\di\\Container;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> interface&nbsp;UserFinderInterface&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> {&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;findUser();&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> }&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> class&nbsp;UserFinder&nbsp;extends&nbsp;Object&nbsp;implements&nbsp;UserFinderInterface&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> {&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;$db;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;__construct(Connection&nbsp;$db,&nbsp;$config&nbsp;=&nbsp;[])&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;db&nbsp;=&nbsp;$db;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent::__construct($config);&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;findUser()&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> }&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> class&nbsp;UserLister&nbsp;extends&nbsp;Object&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> {&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;$finder;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;__construct(UserFinderInterface&nbsp;$finder,&nbsp;$config&nbsp;=&nbsp;[])&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;finder&nbsp;=&nbsp;$finder;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent::__construct($config);&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> }&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container&nbsp;=&nbsp;new&nbsp;Container;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container-&gt;set('yii\\db\\Connection',&nbsp;[&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'dsn'&nbsp;=&gt;&nbsp;'...',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> ]);&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container-&gt;set('app\\models\\UserFinderInterface',&nbsp;[&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;'class'&nbsp;=&gt;&nbsp;'app\\models\\UserFinder',&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> ]);&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $container-&gt;set('userLister',&nbsp;'app\\models\\UserLister');&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $lister&nbsp;=&nbsp;$container-&gt;get('userLister');&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> //&nbsp;等价于:&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $db&nbsp;=&nbsp;new&nbsp;\\yii\\db\\Connection(['dsn'&nbsp;=&gt;&nbsp;'...']);&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $finder&nbsp;=&nbsp;new&nbsp;UserFinder($db);&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> $lister&nbsp;=&nbsp;new&nbsp;UserLister($finder);</li> 
 </ol> 
 <h2 style="margin: 1.5em 0px 1em; padding: 0.5em 0px 0px; border-width: 4px 0px 0px; border-top-style: solid; border-top-color: rgb(224, 224, 224); font-size: 20px; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; line-height: 18.676000595092773px;"> 实践中的运用</h2>   
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 当在应用程序的<a target="_blank" href="http://mahua.jser.me/structure-entry-scripts.md" style="margin: 0px; padding: 0px; color: rgb(65, 131, 196); text-decoration: none;">入口脚本</a>中引入&nbsp;<code style="margin: 0px; padding: 0px 0.2em; font-size: 12px; line-height: normal; font-family: Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; color: rgb(68, 68, 68); border: 1px solid rgb(222, 222, 222); background-color: rgb(248, 248, 255);">Yii.php</code>&nbsp;文件时，Yii 就创建了一个 DI 容器。这个 DI 容器可以通过 [[Yii::$container]] 访问。当调用 [[Yii::createObject()]] 时，此方法实际上会调用这个容器的 [[yii\di\Container::get()|get()]] 方法创建新对象。如上所述，DI 容器会自动解决依赖关系(如果有)并将其注入新创建的对象中。因为 Yii 在其多数核心代码中都使用了 [[Yii::createObject()]] 创建新对象，所以你可以通过 [[Yii::$container]] 全局性地自定义这些对象。</p> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 例如，你可以全局性自定义 [[yii\widgets\LinkPager]] 中分页按钮的默认数量:</p> 
 <ol class="hibot" style="margin: auto; padding-right: 0px; padding-left: 38px; font-size: 14px; font-family: monospace; color: rgb(230, 225, 220); background: rgb(17, 17, 17);"> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> \\Yii::$container-&gt;set('yii\\widgets\\LinkPager',&nbsp;['maxButtonCount'&nbsp;=&gt;&nbsp;5]);</li> 
 </ol> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 这样如果你通过如下代码在一个视图里使用这个挂件，它的&nbsp;<code style="margin: 0px; padding: 0px 0.2em; font-size: 12px; line-height: normal; font-family: Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; color: rgb(68, 68, 68); border: 1px solid rgb(222, 222, 222); background-color: rgb(248, 248, 255);">maxButtonCount</code>&nbsp;属性就会被初始化为 5 而不是类中定义的默认值 10。</p> 
 <ol class="hibot" style="margin: auto; padding-right: 0px; padding-left: 38px; font-size: 14px; font-family: monospace; color: rgb(230, 225, 220); background: rgb(17, 17, 17);"> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> echo&nbsp;\\yii\\widgets\\LinkPager::widget();</li> 
 </ol> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 然而你依然可以覆盖通过 DI 容器设置的值：</p> 
 <ol class="hibot" style="margin: auto; padding-right: 0px; padding-left: 38px; font-size: 14px; font-family: monospace; color: rgb(230, 225, 220); background: rgb(17, 17, 17);"> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> echo&nbsp;\\yii\\widgets\\LinkPager::widget(['maxButtonCount'&nbsp;=&gt;&nbsp;20]);</li> 
 </ol> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 另一个例子是借用 DI 容器中自动构造方法注入带来的好处。假设你的控制器类依赖一些其他对象，例如一个旅馆预订服务。你可以通过一个构造器参数声明依赖关系，然后让 DI 容器帮你自动解决这个依赖关系。</p> 
 <ol class="hibot" style="margin: auto; padding-right: 0px; padding-left: 38px; font-size: 14px; font-family: monospace; color: rgb(230, 225, 220); background: rgb(17, 17, 17);"> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> namespace&nbsp;app\\controllers;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> use&nbsp;yii\\web\\Controller;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> use&nbsp;app\\components\\BookingInterface;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> class&nbsp;HotelController&nbsp;extends&nbsp;Controller&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> {&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;$bookingService;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;__construct($id,&nbsp;$module,&nbsp;BookingInterface&nbsp;$bookingService,&nbsp;$config&nbsp;=&nbsp;[])&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;bookingService&nbsp;=&nbsp;$bookingService;&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent::__construct($id,&nbsp;$module,&nbsp;$config);&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> &nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</li> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> }</li> 
 </ol> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 如果你从浏览器中访问这个控制器，你将看到一个报错信息，提醒你&nbsp;<code style="margin: 0px; padding: 0px 0.2em; font-size: 12px; line-height: normal; font-family: Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; color: rgb(68, 68, 68); border: 1px solid rgb(222, 222, 222); background-color: rgb(248, 248, 255);">BookingInterface</code>&nbsp;无法被实例化。这是因为你需要告诉 DI 容器怎样处理这个依赖关系。</p> 
 <ol class="hibot" style="margin: auto; padding-right: 0px; padding-left: 38px; font-size: 14px; font-family: monospace; color: rgb(230, 225, 220); background: rgb(17, 17, 17);"> 
  <li rel="0" style="margin: 0px; padding: 0px 0px 0px 10px; border-left-width: 2px; border-left-style: solid; border-left-color: rgb(204, 204, 204); list-style-position: outside; list-style-type: decimal; word-wrap: break-word; word-break: break-all; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> \\Yii::$container-&gt;set('app\\components\\BookingInterface',&nbsp;'app\\components\\BookingService');</li> 
 </ol> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 现在如果你再次访问这个控制器，一个&nbsp;<code style="margin: 0px; padding: 0px 0.2em; font-size: 12px; line-height: normal; font-family: Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; color: rgb(68, 68, 68); border: 1px solid rgb(222, 222, 222); background-color: rgb(248, 248, 255);">app\components\BookingService</code>&nbsp;的实例就会被创建并被作为第三个参数注入到控制器的构造器中。</p> 
 <h2 style="margin: 1.5em 0px 1em; padding: 0.5em 0px 0px; border-width: 4px 0px 0px; border-top-style: solid; border-top-color: rgb(224, 224, 224); font-size: 20px; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; line-height: 18.676000595092773px;"> 什么时候注册依赖关系</h2> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 由于依赖关系在创建新对象时需要解决，因此它们的注册应该尽早完成。如下是推荐的实践：</p> 
 <ul> 
  <li> 如果你是一个应用程序的开发者，你可以在应用程序的<a target="_blank" href="http://mahua.jser.me/structure-entry-scripts.md">入口脚本</a>或者被入口脚本引入的脚本中注册依赖关系。</li> 
  <li> 如果你是一个可再分发<a target="_blank" href="http://mahua.jser.me/structure-extensions.md">扩展</a>的开发者，你可以将依赖关系注册到扩展的引导类中。</li> 
 </ul> 
 <h2 style="margin: 1.5em 0px 1em; padding: 0.5em 0px 0px; border-width: 4px 0px 0px; border-top-style: solid; border-top-color: rgb(224, 224, 224); font-size: 20px; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; line-height: 18.676000595092773px;"> 总结<a name="summary" style="margin: 0px; padding: 0px; color: rgb(65, 131, 196);"></a></h2> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> 依赖注入和<a target="_blank" href="http://mahua.jser.me/concept-service-locator.md" style="margin: 0px; padding: 0px; color: rgb(65, 131, 196); text-decoration: none;">服务定位器</a>都是流行的设计模式，它们使你可以用充分解耦且更利于测试的风格构建软件。强烈推荐你阅读&nbsp;<a target="_blank" href="http://martinfowler.com/articles/injection.htmll" style="margin: 0px; padding: 0px; color: rgb(65, 131, 196); text-decoration: none;">Martin 的文章</a>&nbsp;，对依赖注入和服务定位器有个更深入的理解。</p> 
 <p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; color: rgb(0, 0, 0); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 13px;"> Yii 在依赖住入(DI)容器之上实现了它的<a target="_blank" href="http://mahua.jser.me/concept-service-locator.md" style="margin: 0px; padding: 0px; color: rgb(65, 131, 196); text-decoration: none;">服务定位器</a>。当一个服务定位器尝试创建一个新的对象实例时，它会把调用转发到 DI 容器。后者将会像前文所述那样自动解决依赖关系。</p> 
 <br>      
</div></body></html>