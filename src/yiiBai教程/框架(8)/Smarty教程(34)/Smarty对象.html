<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Smarty对象</h1><div style="width:100%;float:left;" class="article-content">   
 <h1> Objects</h1> 
 <div> 
  <h1> 对象</h1> 
  <p> SMARTY允许通过模板访问PHP对象。有两种方式来访问它们。一种是注册对象到模板，然后通过类似于用户自定义函数的形式来访问它。另一种方法给模板分配对象,然后通过访问其它赋值变量类似的方法进行访问。第一种方法有一个很好的模板语法，同时它作为一个注册对象被限制为几个固定的方法和目标，这样是比较安全的。然而一个注册对象不能够在相对自身数组里面循环使用和赋值。总之，你根据你自己的需求来觉得选用那种方法，但是使用第一种方法的话，可以让你的模伴语法达到最小。</p> 
  <p> &nbsp;</p> 
  <p> 如果安全选项激活后，就没有私有成员或者函数能够被访问(以"_"开头)。如果有一个同名成员或者对象存在，那么方法将被使用。</p> 
  <p> &nbsp;</p> 
  <p> 你可以限制成员和函数，但是外解可以通过列举它们为一个第三注册变量的数组的方式来访问它。</p> 
  <p> &nbsp;</p> 
  <p> 一般情况下，参数通过模板传递给对象的方法和自定义函数获得参数的方法是一样的。一个混合数组作为第一个参数传递，而SMARTY对象作为第二个。如果你想像传统的对象参数一样一次传递一个参数，设置第四个参数为 FALSE即可。</p> 
  <table border="0" cellpadding="0" cellspacing="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; max-width: 100%; background-color: transparent;" width="100%"> 
   <tbody style="box-sizing: border-box;"> 
    <tr style="box-sizing: border-box;"> 
     <td style="box-sizing: border-box; padding: 0px; font-size: 10pt;"> <br style="box-sizing: border-box;"> <p style="box-sizing: border-box; margin: 0px 0px 10px;"> <span style="box-sizing: border-box; font-weight: 700;">Example 15-1. using a registered or assigned object</span></p> 
      <table bgcolor="#E0E0E0" border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; max-width: 100%; background-color: transparent;" width="100%"> 
       <tbody style="box-sizing: border-box;"> 
        <tr style="box-sizing: border-box;"> 
         <td style="box-sizing: border-box; padding: 0px; font-size: 10pt;"> <pre class="PROGRAMLISTING" style="box-sizing: border-box; overflow: auto; Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; line-height: 1.42857143; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border-color: rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(245, 245, 245);">
&lt;?php
// the object

class My_Object() {
	function meth1($params, &amp;$smarty_obj) {
		return "this is my meth1";
	}
}

$myobj = new My_Object;
// registering the object (will be by reference)
$smarty-&gt;register_object("foobar",$myobj);
// if we want to restrict access to certain methods or properties, list them
$smarty-&gt;register_object("foobar",$myobj,array('meth1','meth2','prop1'));
// if you want to use the traditional object parameter format, pass a boolean of false
$smarty-&gt;register_object("foobar",$myobj,null,false);

// We can also assign objects. Assign by ref when possible.
$smarty-&gt;assign_by_ref("myobj", $myobj);

$smarty-&gt;display("index.tpl");
?&gt;
// www.yiibai.com/smarty
TEMPLATE:

{* access our registered object *}
{foobar-&gt;meth1 p1="foo" p2=$bar}

{* you can also assign the output *}
{foobar-&gt;meth1 p1="foo" p2=$bar assign="output"}
the output was {$output)

{* access our assigned object *}
{$myobj-&gt;meth1("foo",$bar)}</pre> </td> 
        </tr> 
       </tbody> 
      </table>   </td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
 <br> 
 <br>      
</div></body></html>