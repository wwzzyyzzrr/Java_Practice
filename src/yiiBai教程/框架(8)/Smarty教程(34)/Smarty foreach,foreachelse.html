<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Smarty foreach,foreachelse</h1><div style="width:100%;float:left;" class="article-content">   
 <h1 style="box-sizing: border-box; font-size: 18pt; margin: 20px 0px 10px; tahoma, arial, helvetica,  line-height: 1.1; color: rgb(0, 0, 102);"> foreach,foreachelse</h1> 
 <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(83, 91, 96); 微软雅黑, Verdana, sans-serif, 宋体; font-size: 14px; line-height: 20px;"> <span style="box-sizing: border-box; font-weight: 700;">Table of Contents目录</span></p> 
 <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(83, 91, 96); 微软雅黑, Verdana, sans-serif, 宋体; font-size: 14px; line-height: 20px;"> <a target="_blank" href="http://www.php100.com/manual/smarty/foreach.property.iteration.htmll" style="box-sizing: border-box; color: rgb(79, 141, 179); text-decoration: none; background: 0px 0px;">iteration</a>&nbsp;<span style="box-sizing: border-box; Verdana, arial, helvetica,  font-size: 13px; line-height: normal;">用于显示当前循环的执行次数[待考]</span></p> 
 <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(83, 91, 96); 微软雅黑, Verdana, sans-serif, 宋体; font-size: 14px; line-height: 20px;"> <a target="_blank" href="http://www.php100.com/manual/smarty/foreach.property.first.htmll" style="box-sizing: border-box; color: rgb(79, 141, 179); text-decoration: none; background: 0px 0px;">first</a>&nbsp;:&nbsp;<span style="box-sizing: border-box; Verdana, arial, helvetica,  font-size: 13px; line-height: normal;">当前 foreach 循环第一次执行时&nbsp;</span><em style="box-sizing: border-box;">first&nbsp;</em><span style="box-sizing: border-box; Verdana, arial, helvetica,  font-size: 13px; line-height: normal;">被设置成 true.</span></p> 
 <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(83, 91, 96); 微软雅黑, Verdana, sans-serif, 宋体; font-size: 14px; line-height: 20px;"> <a target="_blank" href="http://www.php100.com/manual/smarty/foreach.property.last.htmll" style="box-sizing: border-box; color: rgb(79, 141, 179); text-decoration: none; background: 0px 0px;">last</a>&nbsp;:&nbsp;<span style="box-sizing: border-box; Verdana, arial, helvetica,  font-size: 13px; line-height: normal;">当前 foreach 循环执行到最后一遍时&nbsp;</span><em style="box-sizing: border-box;">last</em><span style="box-sizing: border-box; Verdana, arial, helvetica,  font-size: 13px; line-height: normal;">&nbsp;被设置成 true.</span></p> 
 <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(83, 91, 96); 微软雅黑, Verdana, sans-serif, 宋体; font-size: 14px; line-height: 20px;"> <a target="_blank" href="http://www.php100.com/manual/smarty/foreach.property.show.htmll" style="box-sizing: border-box; color: rgb(79, 141, 179); text-decoration: none; background: 0px 0px;">show</a>:&nbsp;<span style="box-sizing: border-box; Verdana, arial, helvetica,  font-size: 13px; line-height: normal;">是 foreach 的一个参数. 取值为布尔值 true 或 false. 如果指定为 false 该循环不显示，如果循环指定了 foreachelse 子句，该子句显示与否也取决于&nbsp;</span><em style="box-sizing: border-box;">show&nbsp;</em><span style="box-sizing: border-box; Verdana, arial, helvetica,  font-size: 13px; line-height: normal;">的取值.</span></p> 
 <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(83, 91, 96); 微软雅黑, Verdana, sans-serif, 宋体; font-size: 14px; line-height: 20px;"> <a target="_blank" href="http://www.php100.com/manual/smarty/foreach.property.total.htmll" style="box-sizing: border-box; color: rgb(79, 141, 179); text-decoration: none; background: 0px 0px;">total</a>:&nbsp;<span style="box-sizing: border-box; Verdana, arial, helvetica,  font-size: 13px; line-height: normal;">用于显示循环执行的次数，可以在循环中或循环执行后调用.</span></p> 
 <div style="box-sizing: border-box; color: rgb(83, 91, 96); line-height: 20px; Verdana, arial, helvetica,  font-size: 13px;"> 
  <p style="box-sizing: border-box; margin: 0px 0px 10px;"> &nbsp;</p> 
  <table border="1" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; max-width: 100%; background-color: transparent;"> 
   <tbody style="box-sizing: border-box;"> 
    <tr style="box-sizing: border-box;"> 
     <th align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> Attribute Name</th> 
     <th align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> Type</th> 
     <th align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> Required</th> 
     <th align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> Default</th> 
     <th align="LEFT" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> 描述</th> 
    </tr> 
   </tbody> 
   <tbody style="box-sizing: border-box;"> 
    <tr style="box-sizing: border-box;"> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> from</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> string</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> Yes</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> <span style="box-sizing: border-box;"><i style="box-sizing: border-box;">n/a</i></span></td> 
     <td align="LEFT" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> The name of the array you are looping through</td> 
    </tr> 
    <tr style="box-sizing: border-box;"> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> item</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> string</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> Yes</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> <span style="box-sizing: border-box;"><i style="box-sizing: border-box;">n/a</i></span></td> 
     <td align="LEFT" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> The name of the variable that is the current element</td> 
    </tr> 
    <tr style="box-sizing: border-box;"> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> key</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> string</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> No</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> <span style="box-sizing: border-box;"><i style="box-sizing: border-box;">n/a</i></span></td> 
     <td align="LEFT" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> The name of the variable that is the current key</td> 
    </tr> 
    <tr style="box-sizing: border-box;"> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> name</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> string</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> No</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> <span style="box-sizing: border-box;"><i style="box-sizing: border-box;">n/a</i></span></td> 
     <td align="LEFT" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> The name of the foreach loop for accessing foreach properties</td> 
    </tr> 
   </tbody> 
  </table> 
  <br style="box-sizing: border-box;"> 
  <table border="1" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; max-width: 100%; background-color: transparent;"> 
   <tbody style="box-sizing: border-box;"> 
    <tr style="box-sizing: border-box;"> 
     <th align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> 属性</th> 
     <th align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> 类型</th> 
     <th align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> 是否必须</th> 
     <th align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> 缺省值</th> 
     <th align="center" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> 描述</th> 
    </tr> 
   </tbody> 
   <tbody style="box-sizing: border-box;"> 
    <tr style="box-sizing: border-box;"> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> from</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> string</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> Yes</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> <span style="box-sizing: border-box;"><i style="box-sizing: border-box;">n/a</i></span></td> 
     <td align="LEFT" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> 待循环数组的名称</td> 
    </tr> 
    <tr style="box-sizing: border-box;"> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> item</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> string</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> Yes</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> <span style="box-sizing: border-box;"><i style="box-sizing: border-box;">n/a</i></span></td> 
     <td align="LEFT" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> 当前处理元素的变量名称</td> 
    </tr> 
    <tr style="box-sizing: border-box;"> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> key</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> string</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> No</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> <span style="box-sizing: border-box;"><i style="box-sizing: border-box;">n/a</i></span></td> 
     <td align="LEFT" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> <p style="box-sizing: border-box; margin: 0px 0px 10px;"> 当前处理元素的键名</p> </td> 
    </tr> 
    <tr style="box-sizing: border-box;"> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> name</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> string</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> No</td> 
     <td align="CENTER" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> <span style="box-sizing: border-box;"><i style="box-sizing: border-box;">n/a</i></span></td> 
     <td align="LEFT" style="box-sizing: border-box; padding: 0px; font-size: 10pt;" valign="TOP" width="20%"> 该循环的名称，用于访问该循环</td> 
    </tr> 
   </tbody> 
  </table> 
  <p style="box-sizing: border-box; margin: 0px 0px 10px;"> &nbsp;</p> 
 </div> 
 <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(83, 91, 96); line-height: 20px; Verdana, arial, helvetica,  font-size: 13px;"> <em style="box-sizing: border-box;">foreach</em>&nbsp;是除<em style="box-sizing: border-box;">&nbsp;section</em>&nbsp;之外处理循环的另一种方案(根据不同需要选择不同的方案).<br style="box-sizing: border-box;"> <em style="box-sizing: border-box;">foreach</em>&nbsp;用于处理简单数组(数组中的元素的类型一致)，它的格式比&nbsp;<em style="box-sizing: border-box;">section</em>&nbsp;简单许多，缺点是只能处理简单数组.<br style="box-sizing: border-box;"> <em style="box-sizing: border-box;">foreach</em>&nbsp;必须和&nbsp;<em style="box-sizing: border-box;">/foreach&nbsp;</em>成对使用<em style="box-sizing: border-box;">，且必须指定&nbsp;</em><em style="box-sizing: border-box;">from</em>&nbsp;和&nbsp;<em style="box-sizing: border-box;">item&nbsp;</em>属性.<br style="box-sizing: border-box;"> <em style="box-sizing: border-box;">name&nbsp;</em>属性可以任意指定(字母、数字和下划线的组合).<br style="box-sizing: border-box;"> <em style="box-sizing: border-box;">foreach</em>&nbsp;可以嵌套，但必须保证嵌套中的&nbsp;<em style="box-sizing: border-box;">foreach</em>&nbsp;名称唯一.<br style="box-sizing: border-box;"> <em style="box-sizing: border-box;">from</em>&nbsp;属性(通常是数组)决定循环的次数.<br style="box-sizing: border-box;"> <em style="box-sizing: border-box;">foreachelse&nbsp;</em>语句在&nbsp;<em style="box-sizing: border-box;">from&nbsp;</em>变量没有值的时候被执行.</p> 
 <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(83, 91, 96); line-height: 20px; Verdana, arial, helvetica,  font-size: 13px;"> &nbsp;</p> 
 <table border="0" cellpadding="0" cellspacing="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; max-width: 100%; color: rgb(83, 91, 96); font-size: 14px; line-height: 20px; Verdana, arial, helvetica, " width="100%"> 
  <tbody style="box-sizing: border-box;"> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; padding: 0px; font-size: 10pt;"> <span style="box-sizing: border-box; font-weight: 700;">Example 7-4. foreach</span><br style="box-sizing: border-box;"> <p style="box-sizing: border-box; margin: 0px 0px 10px;"> <span style="box-sizing: border-box; font-weight: 700;">例 7-4. foreach 演示</span></p> 
     <table bgcolor="#E0E0E0" border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; max-width: 100%; background-color: transparent;" width="100%"> 
      <tbody style="box-sizing: border-box;"> 
       <tr style="box-sizing: border-box;"> 
        <td style="box-sizing: border-box; padding: 0px; font-size: 10pt;">   <pre class="PROGRAMLISTING" style="box-sizing: border-box; overflow: auto; Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; line-height: 1.42857143; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border-color: rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(245, 245, 245);">
{* this example will print out all the values of the $custid array *}
{* 该例将输出数组 $custid 中的所有元素的值 *}
{foreach from=$custid item=curr_id}
	id: {$curr_id}&lt;br&gt;
{/foreach}

OUTPUT:

id: 1000&lt;br&gt;
id: 1001&lt;br&gt;
id: 1002&lt;br&gt;</pre> </td> 
       </tr> 
      </tbody> 
     </table> </td> 
   </tr> 
  </tbody> 
 </table> 
 <table border="0" cellpadding="0" cellspacing="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; max-width: 100%; color: rgb(83, 91, 96); font-size: 14px; line-height: 20px; Verdana, arial, helvetica, " width="100%"> 
  <tbody style="box-sizing: border-box;"> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; padding: 0px; font-size: 10pt;"> <br style="box-sizing: border-box;"> <p style="box-sizing: border-box; margin: 0px 0px 10px;"> <span style="box-sizing: border-box; font-weight: 700;">Example 7-5. foreach key<br style="box-sizing: border-box;"> 例 7-5. foreach 键的演示</span></p> 
     <table bgcolor="#E0E0E0" border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; max-width: 100%; background-color: transparent;" width="100%"> 
      <tbody style="box-sizing: border-box;"> 
       <tr style="box-sizing: border-box;"> 
        <td style="box-sizing: border-box; padding: 0px; font-size: 10pt;"> <pre class="PROGRAMLISTING" style="box-sizing: border-box; overflow: auto; Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 9.5px; line-height: 1.42857143; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border-color: rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(245, 245, 245);">
{* The key contains the key for each looped value

assignment looks like this:

$smarty-&gt;assign("contacts", array(array("phone" =&gt; "1", "fax" =&gt; "2", "cell" =&gt; "3"),
 array("phone" =&gt; "555-4444", "fax" =&gt; "555-3333", "cell" =&gt; "760-1234")));
*}
{* 键就是数组的下标，请参看关于数组的解释 *}

{foreach name=outer item=contact from=$contacts}
 {foreach key=key item=item from=$contact}
 {$key}: {$item}&lt;br&gt;
 {/foreach}
{/foreach}

OUTPUT:

phone: 1&lt;br&gt;
fax: 2&lt;br&gt;
cell: 3&lt;br&gt;
phone: 555-4444&lt;br&gt;
fax: 555-3333&lt;br&gt;
cell: 760-1234&lt;br&gt;</pre> </td> 
       </tr> 
      </tbody> 
     </table> </td> 
   </tr> 
  </tbody> 
 </table> 
 <p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(83, 91, 96); line-height: 20px; Verdana, arial, helvetica,  font-size: 13px;"> <br style="box-sizing: border-box;"> foreach 循环有自己的变量名，使用该变量名可以访问该循环. 使用方法为{$smarty.foreach.foreachname.varname}，其中 foreachname 即在 foreach 中指定的&nbsp;<em style="box-sizing: border-box;">name&nbsp;</em>属性.</p> 
 <br>      
</div></body></html>