<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Laravel验证</h1><div style="width:100%;float:left;" class="article-content">   
 <div>
   在设计的应用程序验证是最重要的一个方面。它会验证输入的数据。默认情况下，基本控制器类使用一个&nbsp;ValidatesRequests&nbsp;其提供一个多种强大的验证规则和方法来验证传入的HTTP请求。 
 </div> 
 <div> 
  <h2> 
   <div>
     Laravel可用的验证规则 
   </div> </h2> 
  <table border="1" cellpadding="2" cellspacing="0" style="font-size:14px;color:#313131;font-family:Verdana, Geneva, Tahoma,  Helvetica, text-align:center;background-color:inherit;"> 
   <tbody> 
    <tr> 
     <th colspan="3" style="border:1px solid #999999;background-color:#EEEEEE;"> 
      <div style="background-color:inherit;">
        Laravel可用的验证规则 
      </div> </th> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> Accepted </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Active URL </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> After (Date) </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> Alpha </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Alpha Dash </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Alpha Numeric </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> Array </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Before (Date) </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Between </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> Boolean </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Confirmed </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Date </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> Date Format </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Different </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Digits </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> Digits Between </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> E-Mail </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Exists (Database) </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> Image (File) </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> In </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Integer </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> IP Address </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> JSON </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Max </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> MIME Types(File) </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Min </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Not In </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> Numeric </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Regular Expression </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Required </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> Required If </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Required Unless </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Required With </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> Required With All </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Required Without </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Required Without All </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> Same </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Size </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> String </td> 
    </tr> 
    <tr> 
     <td style="border:1px solid #999999;background-color:inherit;"> Timezone </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> Unique (Database) </td> 
     <td style="border:1px solid #999999;background-color:inherit;"> URL </td> 
    </tr> 
   </tbody> 
  </table> 
  <p style="text-align:justify;"> Laravel总是会检查是否存在错误在会话数据中，如果它们都可用就会自动将其绑定到视图。&nbsp;因此，要注意，$error&nbsp;变量总是会在每次请求视图时都是可以访问的，$errors&nbsp;变量就类似在应用中是始终定义的，可以放心使用。$errors&nbsp;变量是&nbsp;Illuminate\Support\MessageBag的一个实例。可以通过将代码将错误消息显示在视图文件中，如下所示。 </p> 
  <pre>@if (count($errors) &gt; 0)
   &lt;div class = "alert alert-danger"&gt;
      &lt;ul&gt;
         @foreach ($errors-&gt;all() as $error)
            &lt;li&gt;{{ $error }}&lt;/li&gt;
         @endforeach
      &lt;/ul&gt;
   &lt;/div&gt;
@endif</pre> 
  <h3> 示例 </h3> 
  <div>
    第1步&nbsp;-&nbsp;通过执行以下命令创建一个名为&nbsp;ValidationController&nbsp;的控制器。 
  </div>   
  <pre>php artisan make:controller ValidationController</pre> 
  <div>
    第2步&nbsp;-&nbsp;成功执行后，您会收到以下输出&nbsp;-
   <br> 
   <img src="/uploads/tutorial/20160513/1-1605131S51Y46.png" width="541" height="187" title="Laravel验证" alt="Laravel验证">
   <br> 
  </div> 
  <p style="text-align:justify;"> 第3步&nbsp;-&nbsp;复制下面的代码到文件-&nbsp;app/Http/Controllers/ValidationController.php&nbsp; </p> 
  <pre>&lt;?php
namespace App\Http\Controllers;
use Illuminate\Http\Request;
use App\Http\Requests;
use App\Http\Controllers\Controller;

class ValidationController extends Controller {
   public function showform(){
      return view('login');
   }
   public function validateform(Request $request){
      print_r($request-&gt;all());
      $this-&gt;validate($request,[
         'username'=&gt;'required|max:8',
         'password'=&gt;'required'
      ]);
   }
}</pre> 
  <div>
    第4步&nbsp;-&nbsp;创建一个名为&nbsp;resources/views/login.blade.php&nbsp;的视图文件，并复制下面的代码放入到此文件中。 
  </div> 
  <p style="text-align:justify;"> resources/views/login.blade.php </p> 
  <pre>&lt;html&gt;
   
   &lt;head&gt;
      &lt;title&gt;登录示例表单&lt;/title&gt;
   &lt;/head&gt;

   &lt;body&gt;
      
      @if (count($errors) &gt; 0)
         &lt;div class = "alert alert-danger"&gt;
            &lt;ul&gt;
               @foreach ($errors-&gt;all() as $error)
                  &lt;li&gt;{{ $error }}&lt;/li&gt;
               @endforeach
            &lt;/ul&gt;
         &lt;/div&gt;
      @endif
      
      &lt;?php
         echo Form::open(array('url'=&gt;'/validation'));
      ?&gt;
      
      &lt;table border = '1'&gt;
         &lt;tr&gt;
            &lt;td align = 'center' colspan = '2'&gt;登录示例&lt;/td&gt;
         &lt;/tr&gt;
         
         &lt;tr&gt;
            &lt;td&gt;用户名：&lt;/td&gt;
            &lt;td&gt;&lt;?php echo Form::text('username'); ?&gt;&lt;/td&gt;
         &lt;/tr&gt;
         
         &lt;tr&gt;
            &lt;td&gt;密码：&lt;/td&gt;
            &lt;td&gt;&lt;?php echo Form::password('password'); ?&gt;&lt;/td&gt;
         &lt;/tr&gt;
         
         &lt;tr&gt;
            &lt;td align = 'center' colspan = '2'&gt;
               &lt;?php echo Form::submit('登陆'); ?  &gt;&lt;/td&gt;
         &lt;/tr&gt;
      &lt;/table&gt;
      
      &lt;?php
         echo Form::close();
      ?&gt;   
   &lt;/body&gt;
&lt;/html&gt;&nbsp;</pre> 
  <p style="text-align:justify;"> 第5步&nbsp;-&nbsp;添加以下行到&nbsp;app/Http/routes.php. </p> 
  <p style="text-align:justify;"> app/Http/routes.php </p> 
  <pre>Route::get('/validation','ValidationController@showform');
Route::post('/validation','ValidationController@validateform');</pre> 
  <div>
    第6步&nbsp;-&nbsp;请访问以下网址进行测试验证。 
  </div> 
  <p style="text-align:justify;"> http://localhost:8000/validation </p> 
  <p style="text-align:justify;"> <img src="/uploads/tutorial/20160513/1-1605131S5524P.png" alt=""><br> &nbsp;第7步&nbsp;-&nbsp;无需在文本字段中输入任何内容直接点击“登录”按钮。&nbsp;输出将如下面的图所示。<br> <img src="/uploads/tutorial/20160513/1-1605131S610U1.png" alt=""> </p> 
 </div>
 <br>      
</div></body></html>