<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Laravel会话(session)</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    会话用于存储有关跨请求的用户信息。Laravel提供了多种驱动器，如&nbsp;file, cookie, apc, array, Memcached, Redis&nbsp;和&nbsp;database&nbsp;用来处理会话数据。默认情况下，使用的文件驱动程序，因为它是轻量级的。会话可以在config/session.php&nbsp;文件中进行配置。 
  </div> 
 </div> 
 <div> 
  <h2> 
   <div>
     访问会话数据 
   </div> </h2> 
  <p style="text-align:justify;"> 访问会话数据，我们需要通过HTTP请求来访问会话的一个实例。获得实例后，我们就可以使用get()方法，这需要一个参数-“键”，以获取会话数据。 </p> 
  <pre>$value = $request-&gt;session()-&gt;get('key');</pre> 
  <div>
    您可以使用&nbsp;all()&nbsp;方法来获取所有的会话数据。 
  </div> 
  <h2> 
   <div>
     存储会话数据 
   </div> </h2> 
  <p style="text-align:justify;"> 可以用put()方法被数据保存在会话中。put()方法有两个参数，“key”和“value”。 </p> 
  <pre>$request-&gt;session()-&gt;put('key', 'value');</pre> 
  <h2> 
   <div>
     删除Session数据 
   </div> </h2> 
  <p style="text-align:justify;"> forget()&nbsp;方法用于删除会话中的数据项。这个方法将“key”作为参数。 </p> 
  <pre>$request-&gt;session()-&gt;forget('key');&nbsp;</pre> 
  <p> 可使用flush()方法来删除所有的会话数据。&nbsp;使用&nbsp;pull()&nbsp;方法来检索会话数据，然后删除它。pull()方法也将采用&nbsp;“key”&nbsp;作为参数。forget()&nbsp;和&nbsp;pull()&nbsp;方法之间的差异是forget()&nbsp;方法将不会返回会话的值，而&nbsp;pull()&nbsp;方法将返回并删除会话值。 </p> 
  <h3> 示例 </h3> 
  <div>
    第1步&nbsp;- &nbsp;通过执行以下命令创建一个名为 SessionsController 的控制器。 
  </div> 
  <pre>php artisan make:controller SessionController</pre> 
  <div>
    第2步&nbsp;-&nbsp;成功执行后，您会收到以下输出&nbsp;- 
  </div> 
  <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/9b196ca930074c0790079f7a387c4351/clipboard.png">
  <br> 
  <p> 第2步&nbsp;-&nbsp;成功执行后，您会收到以下输出&nbsp;-&nbsp;app/Http/Controllers/SessionController.php. </p> 
  <p> app/Http/Controllers/SessionController.php </p> 
  <pre>&lt;?php
namespace App\Http\Controllers;
use Illuminate\Http\Request;
use App\Http\Requests;
use App\Http\Controllers\Controller;

class SessionController extends Controller {
   public function accessSessionData(Request $request){
      if($request-&gt;session()-&gt;has('my_name'))
         echo $request-&gt;session()-&gt;get('my_name');
      else
         echo 'No data in the session';
   }
   public function storeSessionData(Request $request){
      $request-&gt;session()-&gt;put('my_name','Yiibai Yiibai');
      echo "Data has been added to session";
   }
   public function deleteSessionData(Request $request){
      $request-&gt;session()-&gt;forget('my_name');
      echo "Data has been removed from session.";
   }
}</pre> 
  <div style="background-color:inherit;">
    第4步&nbsp;-&nbsp;添加以下行到文件&nbsp;-&nbsp;app/Http/routes.php 
  </div> 
  <p style="font-family:Verdana, Geneva, Tahoma,  Helvetica, text-align:justify;font-size:15px !important;background-color:inherit;"> <b>app/Http/routes.php</b> </p> 
  <pre>Route::get('session/get','SessionController@accessSessionData');
Route::get('session/set','SessionController@storeSessionData');
Route::get('session/remove','SessionController@deleteSessionData');</pre> 
  <div style="background-color:inherit;">
    第5步&nbsp;-&nbsp;请访问以下网址来设置会话数据。 
  </div> 
  <p style="font-family:Verdana, Geneva, Tahoma,  Helvetica, text-align:justify;font-size:15px !important;background-color:inherit;"> <b>http://localhost:8000/session/set</b> </p> 
  <div style="background-color:inherit;">
    第6步&nbsp;-&nbsp;输出结果如下面的图片所示。 
  </div> 
  <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/9418be6d6674483b8f64ef669f45ec3e/clipboard.png">
  <br> 
  <div style="background-color:inherit;">
    第7步&nbsp;-&nbsp;请访问以下网址获取会话数据。 
  </div> 
  <p style="font-family:Verdana, Geneva, Tahoma,  Helvetica, text-align:justify;font-size:15px !important;background-color:inherit;"> <b>http://localhost:8000/session/get</b> </p> 
  <p style="font-family:Verdana, Geneva, Tahoma,  Helvetica, text-align:justify;font-size:15px !important;background-color:inherit;"> <b></b><span style="font-family:微软雅黑;font-size:14px;">第8步&nbsp;-&nbsp;</span><span style="font-family:微软雅黑;font-size:14px;">输出结果</span><span style="font-family:微软雅黑;font-size:14px;">如下面的图片所示。</span> </p> 
  <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/2ddd0d9901dd45e9ac827f9006f4617f/clipboard.png">
  <br> 
  <div style="background-color:inherit;">
    第9步&nbsp;-&nbsp;访问以下网址以删除会话数据。 
  </div> 
  <p style="font-family:Verdana, Geneva, Tahoma,  Helvetica, text-align:justify;font-size:15px !important;background-color:inherit;"> <b>http://localhost:8000/session/remove</b> </p> 
  <p style="font-family:Verdana, Geneva, Tahoma,  Helvetica, text-align:justify;font-size:15px !important;background-color:inherit;"> <b></b><span style="font-family:微软雅黑;font-size:14px;">第10步&nbsp;-&nbsp;</span><span style="font-family:微软雅黑;font-size:14px;">输出结果</span><span style="font-family:微软雅黑;font-size:14px;">如下面的图片所示。</span> </p> 
  <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/0561fb4291e142b39c102d39890734f9/clipboard.png">
  <br> 
 </div>
 <br>      
</div></body></html>