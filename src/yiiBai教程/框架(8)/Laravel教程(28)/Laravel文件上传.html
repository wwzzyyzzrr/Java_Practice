<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Laravel文件上传</h1><div style="width:100%;float:left;" class="article-content">   
 <div>
   上传文件在Laravel中是很容易的。我们需要做的是创建一个视图文件，用户可以选择要上传的文件，并使用控制器来处理上传的文件。 
 </div> 
 <div> 
  <div>
    在视图文件中需要通过添加以下代码行来生成一个文件输入框。 
  </div> 
  <pre>Form::file('file_name');</pre> 
  <div>
    在Form::open(),&nbsp;我们需要添加‘files’=&gt;’true’&nbsp;，如下图所示。这有利于使用&nbsp;multiple&nbsp;parts&nbsp;上传文件。 
  </div> 
  <pre>Form::open(array('url' =&gt; '/uploadfile','files'=&gt;'true'));</pre> 
  <h2> 示例 </h2> 
  <div>
    第1步&nbsp;-&nbsp;创建一个名为&nbsp;resources/views/uploadfile.php&nbsp;的视图文件，并复制下面的代码到此文件。 
  </div> 
  <p style="text-align:justify;"> resources/views/uploadfile.php </p> 
  <pre>&lt;html&gt;
   &lt;body&gt;
      
      &lt;?php
         echo Form::open(array('url' =&gt; '/uploadfile','files'=&gt;'true'));
         echo '选择一个要上传的文件：&lt;br/&gt;';
         echo Form::file('image');
         echo Form::submit('提交上传');
         echo Form::close();
      ?&gt;
   
   &lt;/body&gt;
&lt;/html&gt;</pre> 
  <div>
    第2步&nbsp;-&nbsp;通过执行以下命令创建一个名为UploadFileController&nbsp;的控制器。 
  </div> 
  <pre>D:\laravel&gt;php artisan make:controller UploadFileController</pre> 
  <div>
    第3步&nbsp;-&nbsp;成功执行后，您会收到以下输出&nbsp;-
   <br> 
   <img src="/uploads/tutorial/20160513/1-1605131SU4G8.png" alt="">
   <br> 
  </div> 
  <div>
    第4步&nbsp;-&nbsp;复制下面的代码到文件&nbsp;-&nbsp;app/Http/Controllers/UploadFileController.php。 
  </div> 
  <p style="text-align:justify;"> app/Http/Controllers/UploadFileController.php </p> 
  <pre>&lt;?php
namespace App\Http\Controllers;
use Illuminate\Http\Request;
use App\Http\Requests;
use App\Http\Controllers\Controller;

class UploadFileController extends Controller {
   public function index(){
      return view('uploadfile');
   }
   public function showUploadFile(Request $request){
      $file = $request-&gt;file('image');
   
      //Display File Name
      echo 'File Name: '.$file-&gt;getClientOriginalName();
      echo '&lt;br&gt;';
   
      //Display File Extension
      echo 'File Extension: '.$file-&gt;getClientOriginalExtension();
      echo '&lt;br&gt;';
   
      //Display File Real Path
      echo 'File Real Path: '.$file-&gt;getRealPath();
      echo '&lt;br&gt;';
   
      //Display File Size
      echo 'File Size: '.$file-&gt;getSize();
      echo '&lt;br&gt;';
   
      //Display File Mime Type
      echo 'File Mime Type: '.$file-&gt;getMimeType();
   
      //Move Uploaded File
      $destinationPath = 'uploads';
      $file-&gt;move($destinationPath,$file-&gt;getClientOriginalName());
   }
}</pre> 
  <div>
    第5步&nbsp;-&nbsp;添加以下行到文件&nbsp;-&nbsp;app/Http/routes.php 
  </div> 
  <p style="text-align:justify;"> app/Http/routes.php </p>   
  <pre>Route::get('/uploadfile','UploadFileController@index');
Route::post('/uploadfile','UploadFileController@showUploadFile');</pre> 
  <div>
    第6步&nbsp;-&nbsp;请访问以下网址进行测试上传文件功能。 
  </div> 
  <p style="text-align:justify;"> http://localhost:8000/uploadfile </p> 
  <div>
    第7步-&nbsp;这会收到一个提示，如下面图片所示。 
  </div> 
 </div> 
 <div> 
  <img src="/uploads/tutorial/20160513/1-1605131S919249.png" width="573" height="242" title="Laravel文件上传" alt="Laravel文件上传">
  <br> 
 </div> 
 <div>
   点击“提交上传”按钮后，上传文件处理结果如下所示：
  <br> 
  <img src="/uploads/tutorial/20160513/1-1605131S955O5.png" alt="">
  <br> 
 </div>
 <br>      
</div></body></html>