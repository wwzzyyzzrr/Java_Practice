<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Laravel删除数据</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    我们可以使用DB::delete()方法删除记录。删除方法的语法如下表所示。 
  </div> 
 </div> 
 <div> 
  <table border="1" cellpadding="2" cellspacing="0" style="font-size:14px;color:#313131;font-family:Verdana, Geneva, Tahoma,  Helvetica, background-color:inherit;"> 
   <tbody> 
    <tr> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> 语法 </th> 
     <td style="border:1px solid #999999;background-color:inherit;"> int delete(string $query, array $bindings = array()) </td> 
    </tr> 
    <tr> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> 参数 </th> 
     <td style="border:1px solid #999999;background-color:inherit;"> 
      <ul style="background-color:inherit;"> 
       <li style="background-color:inherit;color:#000000;"> $query(string) –&nbsp;<span style="background-color:inherit;font-size:inherit;line-height:1.5;">在数据库中查询执行</span> </li> 
       <li style="background-color:inherit;color:#000000;"> $bindings(array) –&nbsp;<span style="background-color:inherit;font-size:inherit;line-height:1.5;">与查询绑定值</span> </li> 
      </ul> </td> 
    </tr> 
    <tr> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> Returns </th> 
     <td style="border:1px solid #999999;background-color:inherit;"> int </td> 
    </tr> 
    <tr> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> Description </th> 
     <td style="border:1px solid #999999;background-color:inherit;"> 
      <div style="background-color:inherit;">
        在数据库运行一个delete语句。 
      </div> </td> 
    </tr> 
   </tbody> 
  </table> 
  <h2> 示例 </h2> 
  <div>
    第1步&nbsp;-&nbsp;执行以下命令来创建一个名为 StudDeleteController 控制器。 
  </div> 
  <pre>php artisan make:controller StudDeleteController</pre> 
  <div>
    第2步&nbsp;-&nbsp;成功执行后，您会收到以下输出&nbsp;-
   <br> 
   <img src="/uploads/tutorial/20160511/1-160511222I2E8.png" alt="">
   <br> 
  </div> 
  <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/4386af96b3a242e8bbbf20eea2ee600f/clipboard.png">
  <br> 
  <p style="text-align:justify;"> 第3步&nbsp;-&nbsp;将以下代码复制到文件&nbsp;app/Http/Controllers/StudDeleteController.php </p> 
  <p style="text-align:justify;"> app/Http/Controllers/StudDeleteController.php </p> 
  <pre>&lt;?php
namespace App\Http\Controllers;
use Illuminate\Http\Request;
use DB;
use App\Http\Requests;
use App\Http\Controllers\Controller;

class StudDeleteController extends Controller {
   public function index(){
      $users = DB::select('select * from student');
      return view('stud_delete_view',['users'=&gt;$users]);
   }
   public function destroy($id) {
      DB::delete('delete from student where id = ?',[$id]);
      echo "删除记录成功.&lt;br/&gt;";
      echo '&lt;a href="/delete-records"&gt;点击这里&lt;/a&gt; 返回.';
   }
}</pre> 
  <div style="background-color:inherit;">
    第4步&nbsp;-&nbsp;创建一个名为&nbsp;resources/views/stud_delete_view.blade.php&nbsp;并复制下面的代码到这个视图文件。 
  </div> 
  <p style="font-family:Verdana, Geneva, Tahoma,  Helvetica, text-align:justify;font-size:15px !important;background-color:inherit;"> <b>resources/views/stud_delete_view.blade.php</b> </p>   
  <pre>&lt;html&gt;   
   &lt;head&gt;
      &lt;title&gt;查看学生记录&lt;/title&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;table border = "1"&gt;
         &lt;tr&gt;
            &lt;td&gt;编号ID&lt;/td&gt;
            &lt;td&gt;名字&lt;/td&gt;
            &lt;td&gt;操作&lt;/td&gt;
         &lt;/tr&gt;
         @foreach ($users as $user)
         &lt;tr&gt;
            &lt;td&gt;{{ $user-&gt;id }}&lt;/td&gt;
            &lt;td&gt;{{ $user-&gt;name }}&lt;/td&gt;
            &lt;td&gt;&lt;a href = 'delete/{{ $user-&gt;id }}'&gt;删除&lt;/a&gt;&lt;/td&gt;
         &lt;/tr&gt;
         @endforeach
      &lt;/table&gt;
   
   &lt;/body&gt;
&lt;/html&gt;</pre> 
  <div>
    第5步&nbsp;-&nbsp;添加以下行到文件&nbsp;-&nbsp;app/Http/routes.php. 
  </div> 
  <p> app/Http/routes.php </p> 
  <pre>Route::get('delete-records','StudDeleteController@index');
Route::get('delete/{id}','StudDeleteController@destroy');</pre> 
  <div>
    第6步&nbsp;- 访问URL：
   <a target="_blank" href="http://localhost:8000/edit-records">http://localhost:8000/edit-records</a>&nbsp;，如下图显示输出结果
   <br> 
   <img src="/uploads/tutorial/20160511/1-160511222K3527.png" alt="">
   <br> 
  </div> 
  <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/54658226685743179251b9b1e7220924/clipboard.png">
  <br> 
  <p> 第7步&nbsp;-&nbsp;点击删除链接执行删除数据库中的记录(删除编号为 3 的记录)。您将被重定向到一个页面，会看到一条消息，如下面图中所示。<br> <img src="/uploads/tutorial/20160511/1-160511222R04I.png" alt=""> </p> 
  <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/9ee21faebbea4afa992886dc510726cb/clipboard.png">
  <br> 
  <div>
    第8步&nbsp;-&nbsp;点击“点击这里”链接，将被重定向到一个页面，你会看到有一条记录已经被删除了。
   <br> 
   <img src="/uploads/tutorial/20160511/1-160511222S6430.png" alt="">
   <br> 
  </div> 
  <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/abc20c23d5324507b43f2007796d759d/clipboard.png"> 
 </div>
 <br>      
</div></body></html>