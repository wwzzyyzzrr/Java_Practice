<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Laravel检索查询数据</h1><div style="width:100%;float:left;" class="article-content">   
 <div>
   配置数据库之后，使用&nbsp;DB::select()&nbsp;方法检索查询记录。&nbsp;select()方法的语法如下表所示。 
 </div> 
 <div> 
  <table border="1" cellpadding="2" cellspacing="0" style="font-size:14px;color:#313131;font-family:Verdana, Geneva, Tahoma,  Helvetica, background-color:inherit;"> 
   <tbody> 
    <tr> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> 语法 </th> 
     <td style="border:1px solid #999999;background-color:inherit;"> array select(string $query, array $bindings = array()) </td> 
    </tr> 
    <tr> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> 参数 </th> 
     <td style="border:1px solid #999999;background-color:inherit;"> 
      <ul style="background-color:inherit;"> 
       <li style="background-color:inherit;color:#000000;"> $query(string) –&nbsp;<span style="background-color:inherit;font-size:inherit;line-height:1.5;">在数据库中执行查询</span> </li> 
       <li style="background-color:inherit;color:#000000;"> $bindings(array) –&nbsp;<span style="background-color:inherit;font-size:inherit;line-height:1.5;">与查询绑定值</span> </li> 
      </ul> </td> 
    </tr> 
    <tr> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> 返回值 </th> 
     <td style="border:1px solid #999999;background-color:inherit;"> array </td> 
    </tr> 
    <tr> 
     <th style="border:1px solid #999999;background-color:#EEEEEE;"> 描述 </th> 
     <td style="border:1px solid #999999;background-color:inherit;"> 
      <div style="background-color:inherit;">
        在数据库上运行 select 语句 
      </div> </td> 
    </tr> 
   </tbody> 
  </table> 
  <h2> 示例 </h2> 
  <div> 
   <strong>第1步</strong>-&nbsp;执行以下命令来创建一个名为&nbsp;StudViewController&nbsp;的控制器。 
  </div> 
  <pre>php artisan make:controller StudViewController</pre> 
  <div> 
   <strong>第2步&nbsp;</strong>-&nbsp;成功执行后，您会收到以下输出&nbsp;-
   <br> 
   <img src="/uploads/tutorial/20160511/1-16051122210UM.png" alt="">
   <br> 
  </div> 
  <p> <strong>第3步&nbsp;</strong>-&nbsp;将以下代码复制到文件 -&nbsp;app/Http/Controllers/StudViewController.php </p> 
  <pre>&lt;?php
namespace App\Http\Controllers;
use Illuminate\Http\Request;
use DB;
use App\Http\Requests;
use App\Http\Controllers\Controller;

class StudViewController extends Controller {
   public function index(){
      $users = DB::select('select * from student');
      return view('stud_view',['users'=&gt;$users]);
   }
}</pre> 
  <div> 
   <strong>第4步</strong>&nbsp;-&nbsp;创建一个名为&nbsp;resources/views/stud_view.blade.php&nbsp;的视图文件，并复制下面代码到此文件中。 
  </div> 
  <p> resources/views/ stud_view.blade.php </p>   
  <pre><span style="background-color:inherit;">&lt;html&gt; </span><span style="background-color:inherit;"> &lt;head&gt;
      &lt;title&gt;查看学生列表&lt;/title&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;table border = 1&gt;
         &lt;tr&gt;
            &lt;td&gt;编号ID&lt;/td&gt;
            &lt;td&gt;名字&lt;/td&gt; </span><span style="line-height:1.5;">&lt;td&gt;年龄&lt;/td&gt;</span><span style="background-color:inherit;"> &lt;/tr&gt;
         @foreach ($users as $user)
         &lt;tr&gt;
            &lt;td&gt;{{ $user-&gt;id }}&lt;/td&gt;
            &lt;td&gt;{{ $user-&gt;name }}&lt;/td&gt; </span><span style="line-height:1.5;"><span style="background-color:inherit;"></span></span><span style="line-height:1.5;">&lt;td&gt;{{ $user-&gt;age}}&lt;/td&gt;</span><span style="background-color:inherit;"> &lt;/tr&gt;
         @endforeach
      &lt;/table&gt;
   
   &lt;/body&gt;
&lt;/html&gt;&nbsp;</span></pre> 
  <p> <strong>第5步</strong>&nbsp;-&nbsp;添加以下行到&nbsp;app/Http/routes.php&nbsp; </p> 
  <pre>Route::get('view-records','StudViewController@index');</pre> 
  <div> 
   <strong>第6步</strong>&nbsp;-&nbsp;请访问以下网址查看来自数据库 student 表中的记录。 
  </div> 
  <p> http://localhost:8000/view-records </p> 
  <div> 
   <strong>第7步</strong>&nbsp;- 访问的结果如下面的图中所示。
   <br> 
   <img src="/uploads/tutorial/20160511/1-16051122214Y55.png" alt="">
   <br> 
  </div> 
 </div>
 <br>      
</div></body></html>