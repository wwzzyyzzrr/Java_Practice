<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">VueJS组件</h1><div style="width:100%;float:left;" class="article-content">   
 <p>Vue组件是VueJS的重要功能之一，可以创建可以在HTML中重用的自定义元素。</p> 
 <p>下面通过一个例子来创建一个组件，这将更好地理解组件如何与VueJS一起工作。</p> 
 <h2 id="h2-u793Au4F8Bu4E00"><a name="示例一" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例一</h2>
 <p>创建一个文件：<em>component-example1.html</em> ，代码如下 - </p> 
 <pre><code class="lang-html">&lt;html&gt;
   &lt;head&gt;
      &lt;meta charset="utf-8" /&gt;
      &lt;title&gt;VueJs组件示例&lt;/title&gt;
      &lt;script type = "text/javascript" src = "js/vue.js"&gt;&lt;/script&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;div id = "component_test"&gt;
         &lt;testcomponent&gt;&lt;/testcomponent&gt;
      &lt;/div&gt;
      &lt;div id = "component_test1"&gt;
         &lt;testcomponent&gt;&lt;/testcomponent&gt;
      &lt;/div&gt;
      &lt;script type = "text/javascript" src = "js/vue_component.js"&gt;&lt;/script&gt;
   &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>文件：<em>vue_component.js</em> ， 内容如下 -</p> 
 <pre><code class="lang-js">Vue.component('testcomponent',{
   template : '&lt;div&gt;&lt;h2&gt;这是组件中的内容~&lt;/h2&gt;&lt;/div&gt;'
});
var vm = new Vue({
   el: '#component_test'
});
var vm1 = new Vue({
   el: '#component_test1'
});
</code></pre> 
 <p>在<em>component-example1.html</em>文件中，创建了两个ID为<code>component_test</code>和<code>component_test1</code>的<code>div</code>。 在上面的<em>vue_component.js</em> 文件中，使用<code>div</code>的<code>id</code>创建了两个Vue实例。并创建了一个公共组件(<em>testcomponent</em>)，用于两个视图实例。</p> 
 <p>要创建组件，请遵循以下语法。</p> 
 <pre><code class="lang-js">Vue.component('nameofthecomponent',{ // options});
</code></pre> 
 <p>当创建了一个组件，组件的名称就成为了自定义元素，并且可以在创建的Vue实例元素中使用相同的元素，即在带有<code>component_test</code>和<code>component_test1</code>的div中。</p> 
 <p>在<em>vue_component.js</em> 文件中，我们使用了 <em>testcomponent</em> 作为组件的名称，并使用相同的名称作为<code>div</code>中的自定义元素。</p> 
 <p><strong>示例</strong></p> 
 <pre><code class="lang-html">&lt;div id = "component_test"&gt;
   &lt;testcomponent&gt;&lt;/testcomponent&gt;
&lt;/div&gt;
&lt;div id = "component_test1"&gt;
   &lt;testcomponent&gt;&lt;/testcomponent&gt;
&lt;/div&gt;
</code></pre> 
 <p>在<em>vue_component.js</em> 文件中创建的组件中，添加了一个已经分配了HTML代码的模板。 这是一种注册全局组件的方法，可以将其作为任何vue实例的一部分，如以下脚本所示。</p> 
 <pre><code class="lang-js">Vue.component('testcomponent',{
   template : '&lt;div&gt;&lt;h2&gt;这是组件中的内容~&lt;/h2&gt;&lt;/div&gt;'
});
</code></pre> 
 <p>在执行时，同样会在浏览器中体现出来。效果如下图所示 -<br><img src="http://www.yiibai.com/uploads/images/201712/2012/151101210_52561.png" alt=""></p> 
 <p>这些组件被赋予了自定义元素标签，即<code>&lt;testcomponent&gt; &lt;/testcomponent&gt;</code>。 但是，当我们在浏览器中检查相同的内容时，不会注意到模板中存在的纯HTML中的自定义标记，如以下屏幕截图所示-<br><img src="http://www.yiibai.com/uploads/images/201712/2012/219101215_90197.png" alt=""></p> 
 <p>还可以直接将组件作为vue实例的一部分，如以下脚本所示。</p> 
 <pre><code class="lang-js">var vm = new Vue({
   el: '#component_test',
   components:{
      'testcomponent': {
         template : '&lt;div&gt;&lt;h2&gt;这是组件中的内容~&lt;/h2&gt;&lt;/div&gt;'
      }
   }
});
</code></pre> 
 <p>这被称为局部注册，组件将只是创建vue实例的一部分。</p> 
 <p>到目前为止，我们了解了具有基本选项的基本组成部分。 现在，让我们添加更多的选项，如数据和方法。 就像Vue实例有数据和方法一样，组件也是一样的。 因此，我们将扩展前面学过的数据和方法的代码。</p> 
 <h2 id="h2-u793Au4F8Bu4E8C"><a name="示例二" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例二</h2>
 <p>创建一个文件：<em>component-example2.html</em> ，代码如下 - </p> 
 <pre><code class="lang-html">&lt;html&gt;
   &lt;head&gt;
      &lt;meta charset="utf-8" /&gt;
      &lt;title&gt;VueJs组件示例&lt;/title&gt;
      &lt;script type = "text/javascript" src = "js/vue.js"&gt;&lt;/script&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;div id = "component_test"&gt;
         &lt;testcomponent&gt;&lt;/testcomponent&gt;
      &lt;/div&gt;
      &lt;div id = "component_test1"&gt;
         &lt;testcomponent&gt;&lt;/testcomponent&gt;
      &lt;/div&gt;
      &lt;script type = "text/javascript" src = "js/vue_component2.js"&gt;&lt;/script&gt;
   &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>创建一个文件：<em>vue_component2.js</em> ，代码如下 - </p> 
 <pre><code class="lang-js">Vue.component('testcomponent',{
   template : '&lt;div v-on:mouseover = "changename()" v-on:mouseout = "originalname();"&gt;&lt;h2&gt;Custom Component created by &lt;span id = "name"&gt;{{name}}&lt;/span&gt;&lt;/h2&gt;&lt;/div&gt;',
   data: function() {
      return {
         name : "Maxsu"
      }
   },
   methods:{
      changename : function() {
         this.name = "Kobe Bryant";
      },
      originalname: function() {
         this.name = "Linsa";
      }
   }
});
var vm = new Vue({
   el: '#component_test'
});
var vm1 = new Vue({
   el: '#component_test1'
});
</code></pre> 
 <p>在上面的<em>vue_component2.js</em> 文件中，我们添加了一个函数，它返回一个对象。 该对象具有名称属性，该属性被分配值为<code>"Maxsu"</code>。这在以下模板中使用。</p>   
 <pre><code class="lang-js">template : '&lt;div v-on:mouseover = "changename()" v-on:mouseout = "originalname();"&gt;&lt;h2&gt;Custom Component created by &lt;span id = "name"&gt;{{name}}&lt;/span&gt;&lt;/h2&gt;&lt;/div&gt;',
</code></pre> 
 <p>尽管数据是组件中的一个函数，但是可以像使用Vue实例一样使用它的属性。 另外，还有两个方法，即<code>changename</code>和<code>originalname</code>。 在更改名称中更改<code>name</code>属性，而在原始名称中，将其重置为原始名称。</p> 
 <p>我们还在<code>div</code>上添加了两个事件：，<code>mouseover</code>和<code>mouseout</code>。 事件的细节将在事件章节中讨论。所以现在，<code>mouseover</code>调用<code>changename</code>方法，而<code>mouseout</code>调用<code>originalname</code>方法。</p> 
 <p>相同的显示在下面的浏览器中显示 -<br><img src="http://www.yiibai.com/uploads/images/201712/2012/859101230_10893.png" alt=""></p> 
 <p>在上面的浏览器中所看到的，它显示了在<code>data</code>属性中分配的名字，这是同一个名字。 我们还在div上分配了一个<code>mouseover</code>事件，并且还有一个<code>mouseout</code>事件。看看当触发<code>mouseover</code>和<code>mouseout</code>时会发生什么效果？如下图所示 -<br><img src="http://www.yiibai.com/uploads/images/201712/2012/161101234_48811.gif" alt=""></p> 
 <h2 id="h2-u52A8u6001u7EC4u4EF6"><a name="动态组件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>动态组件</h2>
 <p>动态组件是使用关键字(标签)<code>&lt;component&gt; &lt;/component&gt;</code>创建的，并且使用如下例所示的属性绑定。</p> 
 <p><strong>实例</strong></p> 
 <p>创建一个文件：<em>dynamic-components.html</em> - </p> 
 <pre><code class="lang-html">&lt;html&gt;
   &lt;head&gt;
      &lt;meta charset="utf-8" /&gt;
      &lt;title&gt;VueJs动态组件示例&lt;/title&gt;
      &lt;script type = "text/javascript" src = "js/vue.js"&gt;&lt;/script&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;div id = "databinding"&gt;
         &lt;component v-bind:is = "view"&gt;&lt;/component&gt;
      &lt;/div&gt;
      &lt;script type = "text/javascript"&gt;
         var vm = new Vue({
            el: '#databinding',
            data: {
               view: 'component1'
            },
            components: {
               'component1': {
                  template: '&lt;div&gt;&lt;span style = "font-size:25;color:red;"&gt;VueJs动态组件内容~&lt;/span&gt;&lt;/div&gt;'
               }
            }
         });
      &lt;/script&gt;
   &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>在浏览器中打开，输出效果如下 -<br><img src="http://www.yiibai.com/uploads/images/201712/2012/189101243_42669.png" alt=""></p> 
 <p>动态组件是使用以下语法创建的。</p> 
 <pre><code class="lang-html">&lt;component v-bind:is = "view"&gt;&lt;/component&gt;
</code></pre> 
 <p>它有使用<code>v-bind:is = "view"</code>指令并为其分配值视图。视图在Vue实例中定义如下。</p> 
 <pre><code class="lang-js">var vm = new Vue({
            el: '#databinding',
            data: {
               view: 'component1'
            },
            components: {
               'component1': {
                  template: '&lt;div&gt;&lt;span style = "font-size:25;color:red;"&gt;VueJs动态组件内容~&lt;/span&gt;&lt;/div&gt;'
               }
            }
         });
</code></pre> 
 <p>执行时，模板动态组件将显示在浏览器中。</p>
 <br>      
</div></body></html>