<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java this关键字</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在java中，<code>this</code>关键字有很多种用法。 在java中，这是一个引用当前对象的引用变量。</p> 
 <p>java <code>this</code>关键字的用法如下：</p> 
 <ol> 
  <li><code>this</code>关键字可用来引用当前类的实例变量。</li>
  <li><code>this</code>关键字可用于调用当前类方法(隐式)。</li>
  <li><code>this()</code>可以用来调用当前类的构造函数。</li>
  <li><code>this</code>关键字可作为调用方法中的参数传递。</li>
  <li><code>this</code>关键字可作为参数在构造函数调用中传递。</li>
  <li><code>this</code>关键字可用于从方法返回当前类的实例。</li>
 </ol> 
 <blockquote> 
  <p><strong>建议：</strong>如果你是java初学者，只学习 <code>this</code> 关键字的前三个用法就可以了。</p> 
 </blockquote> 
 <p><img src="http://www.yiibai.com/uploads/images/201703/0503/213220320_43861.jpg" alt=""></p> 
 <h2 id="h2-1-this-"><a name="1. this：引用当前类的实例变量" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1. this：引用当前类的实例变量</h2>
 <p><code>this</code>关键字可以用来引用当前类的实例变量。如果实例变量和参数之间存在歧义，则 <code>this</code> 关键字可用于明确地指定类变量以解决歧义问题。</p> 
 <p><strong>了解没有 this 关键字的问题</strong></p> 
 <p>下面先来理解一个不使用 <code>this</code> 关键字的示例：</p> 
 <pre><code class="lang-java">class Student {
    int rollno;
    String name;
    float fee;

    Student(int rollno, String name, float fee) {
        rollno = rollno;
        name = name;
        fee = fee;
    }

    void display() {
        System.out.println(rollno + " " + name + " " + fee);
    }
}

class TestThis1 {
    public static void main(String args[]) {
        Student s1 = new Student(111, "ankit", 5000f);
        Student s2 = new Student(112, "sumit", 6000f);
        s1.display();
        s2.display();
    }
}
</code></pre> 
 <p>执行上面代码输出结果如下 - </p> 
 <pre><code class="lang-java">0 null 0.0
0 null 0.0
</code></pre> 
 <p>在上面的例子中，参数(形式参数)和实例变量(<code>rollno</code>和<code>name</code>)是相同的。 所以要使用<code>this</code>关键字来区分局部变量和实例变量。</p> 
 <p><strong>使用 this 关键字解决了上面的问题</strong></p> 
 <pre><code class="lang-java">class Student {
    int rollno;
    String name;
    float fee;

    Student(int rollno, String name, float fee) {
        this.rollno = rollno;
        this.name = name;
        this.fee = fee;
    }

    void display() {
        System.out.println(rollno + " " + name + " " + fee);
    }
}

class TestThis2 {
    public static void main(String args[]) {
        Student s1 = new Student(111, "ankit", 5000f);
        Student s2 = new Student(112, "sumit", 6000f);
        s1.display();
        s2.display();
    }
}
</code></pre> 
 <p>执行上面代码输出结果如下 - </p> 
 <pre><code class="lang-java">111 ankit 5000
112 sumit 6000
</code></pre> 
 <p>如果局部变量(形式参数)和实例变量不同，则不需要像下面的程序一样使用<code>this</code>关键字：</p> 
 <p><strong>不需要 this 关键字的程序示例</strong></p> 
 <pre><code class="lang-java">class Student {
    int rollno;
    String name;
    float fee;

    Student(int r, String n, float f) {
        rollno = r;
        name = n;
        fee = f;
    }

    void display() {
        System.out.println(rollno + " " + name + " " + fee);
    }
}

class TestThis3 {
    public static void main(String args[]) {
        Student s1 = new Student(111, "ankit", 5000f);
        Student s2 = new Student(112, "sumit", 6000f);
        s1.display();
        s2.display();
    }
}
</code></pre> 
 <p>执行上面代码输出结果如下 - </p> 
 <pre><code class="lang-java">111 ankit 5000
112 sumit 6000
</code></pre> 
 <blockquote> 
  <p>对变量使用有意义的名称是一种好的编程习惯。所以使用相同名称的实例变量和参数，并且总是使用<code>this</code>关键字。</p> 
 </blockquote> 
 <h2 id="h2-2-this-"><a name="2. this：调用当前类方法" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2. this：调用当前类方法</h2>
 <p>可以使用<code>this</code>关键字调用当前类的方法。如果不使用<code>this</code>关键字，编译器会在调用方法时自动添加此 <code>this</code> 关键字。我们来看看这个例子。<br><img src="http://www.yiibai.com/uploads/images/201703/0603/406080352_39957.jpg" alt=""></p> 
 <p>执行上面代码输出结果如下 - </p> 
 <pre><code class="lang-java">hello n
hello m
</code></pre> 
 <h2 id="h2-3-this-"><a name="3. this()：调用当前类的构造函数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3. this()：调用当前类的构造函数</h2>
 <p><code>this()</code>构造函数调用可以用来调用当前类的构造函数。 它用于重用构造函数。 换句话说，它用于构造函数链接。</p> 
 <p><strong>从参数化构造函数调用默认构造函数：</strong></p> 
 <pre><code class="lang-java">class A {
    A() {
        System.out.println("hello a");
    }

    A(int x) {
        this();
        System.out.println(x);
    }
}

class TestThis5 {
    public static void main(String args[]) {
        A a = new A(10);
    }
}
</code></pre> 
 <p>执行上面代码输出结果如下 - </p> 
 <pre><code class="lang-java">hello a
10
</code></pre> 
 <p><strong>从默认构造函数调用参数化构造函数：</strong></p> 
 <pre><code class="lang-java">class A {
    A() {
        this(5);
        System.out.println("hello a");
    }

    A(int x) {
        System.out.println(x);
    }
}

class TestThis6 {
    public static void main(String args[]) {
        A a = new A();
    }
}
</code></pre> 
 <p>执行上面代码输出结果如下 - </p> 
 <pre><code class="lang-java">5
hello a
</code></pre> 
 <h3 id="h3--this-"><a name="使用this()构造函数调用" class="reference-link"></a><span class="header-link octicon octicon-link"></span>使用this()构造函数调用</h3>
 <p><code>this()</code>构造函数调用用于从构造函数重用构造函数。 它维护构造函数之间的链，即它用于构造函数链接。看看下面给出的示例，显示<code>this</code>关键字的实际使用。</p> 
 <pre><code class="lang-java">class Student {
    int rollno;
    String name, course;
    float fee;

    Student(int rollno, String name, String course) {
        this.rollno = rollno;
        this.name = name;
        this.course = course;
    }

    Student(int rollno, String name, String course, float fee) {
        this(rollno, name, course);// reusing constructor
        this.fee = fee;
    }

    void display() {
        System.out.println(rollno + " " + name + " " + course + " " + fee);
    }
}

class TestThis7 {
    public static void main(String args[]) {
        Student s1 = new Student(111, "ankit", "java");
        Student s2 = new Student(112, "sumit", "java", 6000f);
        s1.display();
        s2.display();
    }
}
</code></pre> 
 <p>执行上面代码输出结果如下 - </p>   
 <pre><code class="lang-java">111 ankit java null
112 sumit java 6000
</code></pre> 
 <blockquote> 
  <p>注意：调用<code>this()</code>必须是构造函数中的第一个语句。</p> 
 </blockquote> 
 <p>下面示例为不把 <code>this()</code> 语句放在第一行，因此编译不通过。</p> 
 <pre><code class="lang-java">class Student {
    int rollno;
    String name, course;
    float fee;

    Student(int rollno, String name, String course) {
        this.rollno = rollno;
        this.name = name;
        this.course = course;
    }

    Student(int rollno, String name, String course, float fee) {
        this.fee = fee;
        this(rollno, name, course);// C.T.Error
    }

    void display() {
        System.out.println(rollno + " " + name + " " + course + " " + fee);
    }
}

class TestThis8 {
    public static void main(String args[]) {
        Student s1 = new Student(111, "ankit", "java");
        Student s2 = new Student(112, "sumit", "java", 6000f);
        s1.display();
        s2.display();
    }
}
</code></pre> 
 <p>执行上面代码输出结果如下 - </p> 
 <pre><code class="lang-java">Compile Time Error: Call to this must be first statement in constructor
</code></pre> 
 <h2 id="h2-4-this-"><a name="4. this：作为参数传递给方法" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4. this：作为参数传递给方法</h2>
 <p><code>this</code>关键字也可以作为方法中的参数传递。 它主要用于事件处理。 看看下面的一个例子：</p> 
 <pre><code class="lang-java">class S2 {
    void m(S2 obj) {
        System.out.println("method is invoked");
    }

    void p() {
        m(this);
    }

    public static void main(String args[]) {
        S2 s1 = new S2();
        s1.p();
    }
}
</code></pre> 
 <p>执行上面代码输出结果如下 - </p> 
 <pre><code class="lang-java">method is invoked
</code></pre> 
 <p><strong>这个应用程序可以作为参数传递：</strong></p> 
 <p>在事件处理(或)的情况下，必须提供一个类的引用到另一个。 它用于在多个方法中重用一个对象。</p> 
 <h2 id="h2-this-"><a name="this：在构造函数调用中作为参数传递" class="reference-link"></a><span class="header-link octicon octicon-link"></span>this：在构造函数调用中作为参数传递</h2>
 <p>也可以在构造函数中传递<code>this</code>关键字。 如果必须在多个类中使用一个对象，可以使用这种方式。 看看下面的一个例子：</p> 
 <pre><code class="lang-java">class B {
    A4 obj;

    B(A4 obj) {
        this.obj = obj;
    }

    void display() {
        System.out.println(obj.data);// using data member of A4 class
    }
}

class A4 {
    int data = 10;

    A4() {
        B b = new B(this);
        b.display();
    }

    public static void main(String args[]) {
        A4 a = new A4();
    }
}
</code></pre> 
 <p>执行上面代码输出结果如下 - </p> 
 <pre><code class="lang-java">10
</code></pre> 
 <h2 id="h2-6-this-"><a name="6. this关键字用来返回当前类的实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>6. this关键字用来返回当前类的实例</h2>
 <p>可以从方法中 <code>this</code> 关键字作为语句返回。 在这种情况下，方法的返回类型必须是类类型(非原始)。 看看下面的一个例子：</p> 
 <p><strong>作为语句返回的语法</strong></p> 
 <pre><code class="lang-java">return_type method_name(){  
    return this;  
}
</code></pre> 
 <p><strong>从方法中返回为语句的 this 关键字的示例</strong></p> 
 <pre><code class="lang-java">class A {
    A getA() {
        return this;
    }

    void msg() {
        System.out.println("Hello java");
    }
}

class Test1 {
    public static void main(String args[]) {
        new A().getA().msg();
    }
}
</code></pre> 
 <p>执行上面代码输出结果如下 - </p> 
 <pre><code class="lang-java">Hello java
</code></pre> 
 <p><strong>验证 this 关键字</strong></p> 
 <p>现在来验证 <code>this</code> 关键字引用当前类的实例变量。 在这个程序中将打印参考变量，这两个变量的输出是相同的。</p> 
 <pre><code class="lang-java">class A5 {
    void m() {
        System.out.println(this);// prints same reference ID
    }

    public static void main(String args[]) {
        A5 obj = new A5();
        System.out.println(obj);// prints the reference ID
        obj.m();
    }
}
</code></pre> 
 <p>执行上面代码输出结果如下 - </p> 
 <pre><code class="lang-java">A5@22b3ea59
A5@22b3ea59
</code></pre>
 <br>      
</div></body></html>