<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java国际化(i18n)Reader/Writer与Unicode转换</h1><div style="width:100%;float:left;" class="article-content">   
 <p>Reader和Writer类是面向字符的流类。 这些可用于读取和转换Unicode字符。</p> 
 <h2 id="h2-u8F6Cu6362"><a name="转换" class="reference-link"></a><span class="header-link octicon octicon-link"></span>转换</h2>
 <p>以下示例将使用Reader和Writer类展示Unicode字符串到UTF8 byte []，以及UTF8 byte []到Unicode byte []的转换。</p> 
 <p>文件:<em>IOTester.java</em> - </p> 
 <pre><code class="lang-java">import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
import java.io.Reader;
import java.io.Writer;
import java.nio.charset.Charset;
import java.text.ParseException;

public class I18NTester {
   public static void main(String[] args) throws ParseException, IOException {

      String input = "This is a sample text" ;

      InputStream inputStream = new ByteArrayInputStream(input.getBytes());

      //get the UTF-8 data
      Reader reader = new InputStreamReader(inputStream, Charset.forName("UTF-8"));

      //convert UTF-8 to Unicode
      int data = reader.read();
      while(data != -1){
         char theChar = (char) data;
         System.out.print(theChar);
         data = reader.read();
      }
      reader.close();

      System.out.println();

      //Convert Unicode to UTF-8 Bytes
      ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
      Writer writer = new OutputStreamWriter(outputStream, Charset.forName("UTF-8"));

      writer.write(input);
      writer.close();

      String out = new String(outputStream.toByteArray());

      System.out.println(out);
   }  
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p>   
 <pre><code class="lang-shell">This is a sample text
This is a sample text
</code></pre>
 <br>      
</div></body></html>