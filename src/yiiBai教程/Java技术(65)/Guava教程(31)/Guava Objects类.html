<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Guava Objects类</h1><div style="width:100%;float:left;" class="article-content">   
 <p> Objects类提供适用于所有对象，如equals, hashCode等辅助函数</p> 
 <h2> 类声明</h2> 
 <p> 以下是com.google.common.base.Objects类的声明：</p> 
 <pre class="prettyprint" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49);">
@GwtCompatible
public final class Objects
   extends Object</pre> 
 <h2> 类方法</h2> 
 <table class="src" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px;  border-color: rgb(214, 214, 214); width: 603.333374023438px; vertical-align: top; margin-top: 8px; margin-bottom: 8px; color: rgb(49, 49, 49);    font-size: 14.4444446563721px; line-height: 22px; background-color: rgb(247, 247, 247);"> 
  <tbody style="box-sizing: border-box;"> 
   <tr style="box-sizing: border-box;"> 
    <th style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px; width: 38.8888893127441px; background: rgb(238, 238, 238);"> S.N.</th> 
    <th style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px; background: rgb(238, 238, 238);"> 方法及说明</th> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 1</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static boolean equal(Object a, Object b)</b><br style="box-sizing: border-box;"> 确定两个可能是空的对象是否相等。</td> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 2</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static &lt;T&gt; T firstNonNull(T first, T second)</b><br style="box-sizing: border-box;"> 不推荐使用。使用MoreObjects.firstNonNull（T，T）来代替。定于2016年6月去除该方法。</td> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 3</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static int hashCode(Object... objects)</b><br style="box-sizing: border-box;"> 生成多个值的哈希码。</td> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 4</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static Objects.ToStringHelper toStringHelper(Class&lt;?&gt; clazz)</b><br style="box-sizing: border-box;"> 不推荐使用。使用MoreObjects.toStringHelper（Class）来代替。定于2016年6月去除该方法。</td> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 5</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static Objects.ToStringHelper toStringHelper(Object self)</b><br style="box-sizing: border-box;"> 不推荐使用。使用MoreObjects.toStringHelper（Object）来代替。定于2016年6月去除该方法。</td> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 6</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static Objects.ToStringHelper toStringHelper(String className)</b><br style="box-sizing: border-box;"> 不推荐使用。使用MoreObjects.toStringHelper（String）来代替。定于2016年6月去除该方法。</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2> 方法继承</h2> 
 <p> 这个类从以下类继承的方法：</p> 
 <ul> 
  <li> <p> java.lang.Object</p> </li> 
 </ul> 
 <h2> Objects 示例</h2> 
 <p> 使用所选择的编辑器，创建下面的java程序比如&nbsp;<b style="box-sizing: border-box;">C:/&gt; Guava</b></p> 
 <i style="box-sizing: border-box; color: rgb(49, 49, 49);    font-size: 14.4444446563721px; line-height: 22px;">GuavaTester.java</i> 
 <pre class="prettyprint tryit" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); cursor: default; background-image: url(http://www.yiibai.com/guava/images/try-it.jpg) !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: 100% 0%; background-repeat: no-repeat !important;">
import com.google.common.base.Objects;

public class GuavaTester {
   public static void main(String args[]){
      Student s1 = new Student("Mahesh", "Parashar", 1, "VI");	
      Student s2 = new Student("Suresh", null, 3, null);	
	  
      System.out.println(s1.equals(s2));
      System.out.println(s1.hashCode());	
      System.out.println(
      Objects.toStringHelper(s1)
         .add("Name",s1.getFirstName()+" " + s1.getLastName())
         .add("Class", s1.getClassName())
         .add("Roll No", s1.getRollNo())
         .toString());
   }
}

class Student {
   private String firstName;
   private String lastName;
   private int rollNo;
   private String className;

   public Student(String firstName, String lastName, int rollNo, String className){
      this.firstName = firstName;
      this.lastName = lastName;
      this.rollNo = rollNo;
      this.className = className;		
   }

   @Override
   public boolean equals(Object object){
      if(!(object instanceof Student) || object == null){
         return false;
      }
      Student student = (Student)object;
      // no need to handle null here		
      // Objects.equal("test", "test") == true
      // Objects.equal("test", null) == false
      // Objects.equal(null, "test") == false
      // Objects.equal(null, null) == true		
      return Objects.equal(firstName, student.firstName) // first name can be null
         &amp;&amp; Objects.equal(lastName, student.lastName) // last name can be null
         &amp;&amp; Objects.equal(rollNo, student.rollNo)	
         &amp;&amp; Objects.equal(className, student.className);// class name can be null
   }

   @Override
   public int hashCode(){
      //no need to compute hashCode by self
      return Objects.hashCode(className,rollNo);
   }
   public String getFirstName() {
      return firstName;
   }
   public void setFirstName(String firstName) {
      this.firstName = firstName;
   }
   public String getLastName() {
      return lastName;
   }
   public void setLastName(String lastName) {
      this.lastName = lastName;
   }
   public int getRollNo() {
      return rollNo;
   }
   public void setRollNo(int rollNo) {
      this.rollNo = rollNo;
   }
   public String getClassName() {
      return className;
   }
   public void setClassName(String className) {
      this.className = className;
   }
}</pre> 
 <h2> 验证结果</h2> 
 <p> 使用javac编译器编译如下类</p>   
 <pre class="result" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
C:\Guava&gt;javac GuavaTester.java</pre> 
 <p> 现在运行GuavaTester看到的结果</p> 
 <pre class="result" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
C:\Guava&gt;java GuavaTester</pre> 
 <p> 看到结果。</p> 
 <pre class="result" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 603.767395019531px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
false
85871
Student{Name=Mahesh Parashar, Class=VI, Roll No=1}</pre> 
 <br>      
</div></body></html>