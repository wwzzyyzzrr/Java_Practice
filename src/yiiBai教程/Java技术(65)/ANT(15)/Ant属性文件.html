<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Ant属性文件</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 直接在构建文件中设置属性是好的，如果你使用的是少数属性。然而，对于一个大型项目，是要存储在一个单独的属性文件中。</p> 
 <p> 存储在一个单独的文件中的属性可以让你重复使用相同的编译文件，针对不同的执行环境不同的属性设置。例如，生成属性文件可以单独维持DEV，TEST和PROD环境。</p> 
 <p> 指定在一个单独的文件属性是有用的，当你不知道一个属性（在一个特定的环境中）前面的值。这使您可以在属性值是已知的其他环境进行构建。</p> 
 <p> 没有硬性规定，但一般属性文件名为build.properties文件，并放在沿一侧的build.xml文件。如build.properties.dev和build.properties.test - 你可以根据部署环境中创建多个生成属性文件</p> 
 <p> 构建属性文件的内容类似于普通的Java属性文件。他们每行包含一个属性。每个属性由一个名称和一个值对来表示。名称和值对由等号分开。强烈建议属性标注了正确的注释。注释列出所使用的哈希字符。</p> 
 <p> 下面显示了一个build.xml文件和相关build.properties文件</p> 
 <h2> build.xml</h2> 
 <pre class="prettyprint prettyprinted" style="font-size: 12px;">
<span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">&lt;?</span><span class="pln" style="margin: 0px; padding: 0px;">xml version</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"1.0"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">?&gt;</span><span class="pln" style="margin: 0px; padding: 0px;">
</span><span class="tag" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">&lt;project</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="atn" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">name</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="atv" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"Hello World Project"</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="atn" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">default</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="atv" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"info"</span><span class="tag" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="margin: 0px; padding: 0px;">
   </span><span class="tag" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">&lt;property</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="atn" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">file</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="atv" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"build.properties"</span><span class="tag" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">/&gt;</span><span class="pln" style="margin: 0px; padding: 0px;">
      </span><span class="tag" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">&lt;target</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="atn" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">name</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="atv" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"info"</span><span class="tag" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">&gt;</span><span class="pln" style="margin: 0px; padding: 0px;">
         </span><span class="tag" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">&lt;echo&gt;</span><span class="pln" style="margin: 0px; padding: 0px;">Apache Ant version is ${ant.version} - You are 
         at ${sitename} </span><span class="tag" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">&lt;/echo&gt;</span><span class="pln" style="margin: 0px; padding: 0px;">
     </span><span class="tag" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">&lt;/target&gt;</span><span class="pln" style="margin: 0px; padding: 0px;">
</span><span class="tag" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">&lt;/project&gt;</span></pre> 
 <h2 style="margin: 0.2em 0.2em 0.2em 0px; padding: 0px; font-size: 1.6em; line-height: 1.5em; font-weight: normal; text-shadow: rgb(204, 204, 204) 1px 1px 2px; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif;"> build.properties</h2> 
 <pre class="prettyprint prettyprinted" style="font-size: 12px;">
<span class="com" style="margin: 0px; padding: 0px; color: rgb(136, 0, 0);"># The Site Name</span><span class="pln" style="margin: 0px; padding: 0px;">
sitename</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="margin: 0px; padding: 0px;">www</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">yiibai</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">com
buildversion</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="lit" style="margin: 0px; padding: 0px; color: rgb(0, 102, 102);">3.3</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="lit" style="margin: 0px; padding: 0px; color: rgb(0, 102, 102);">2</span></pre> 
 <div>
   在上面的例子中，站点名是被映射到该站点的名称自定义属性，可以声明任意数目以这种方式自定义属性。在上面的例子中所列的另一个自定义属性是buildversion，其中，在这种情况下指的是创建的版本。
 </div> 
 <div>
   &nbsp;
 </div> 
 <div>
   除上述者外，Ant附带了一些预定义的构建属性，它已被列入上一节中，但下面是代表一次。
 </div> 
 <table class="src" style="margin: 8px 0px; padding: 0px;  border-color: rgb(214, 214, 214); width: 560px; border-collapse: collapse; vertical-align: top; background-color: rgb(247, 247, 247); color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif;"> 
  <tbody style="margin: 0px; padding: 0px;"> 
   <tr style="margin: 0px; padding: 0px;"> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214); background-color: rgb(238, 238, 238); width: 157px;"> 属性</th> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214); background-color: rgb(238, 238, 238);"> 描述</th> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> ant.file</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> The full location of the build file</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> ant.version</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> The version of the Apache Ant installation</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> basedir</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> The basedir of the build, as specified in the&nbsp;<b style="margin: 0px; padding: 0px;">basedir</b>&nbsp;attribute of the<b style="margin: 0px; padding: 0px;">project</b>&nbsp;element.</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> ant.java.version</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> The version of the JDK that is used by Ant.</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> ant.project.name</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> The name of the project, as specified in the&nbsp;<b style="margin: 0px; padding: 0px;">name</b>&nbsp;atrribute of the<b style="margin: 0px; padding: 0px;">project</b>&nbsp;element.</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> ant.project.default-target</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> The default target of the current project</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> ant.project.invoked-targets</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> Comma separated list of the targets that were invoked in the current project</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> ant.core.lib</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> The full location of the ant jar file</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> ant.home</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> The home directory of Ant installation</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> ant.library.dir</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> The home directory for Ant library files - typically ANT_HOME/lib folder.</td> 
   </tr> 
  </tbody> 
 </table> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif;"> 在本节的例子中，我们使用内置的属性ant.version。</p> 
 <br>      
</div></body></html>