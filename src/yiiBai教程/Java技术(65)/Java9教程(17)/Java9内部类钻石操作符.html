<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java9内部类钻石操作符</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在java 7中引入了钻石操作符，使代码更具可读性，但不能与匿名内部类一起使用。 在Java 9中，它也可以与匿名类一起使用，以简化代码并提高可读性。 在Java 9之前考虑以下代码。</p> 
 <p><em>Tester.java</em> - </p> 
 <pre><code class="lang-java">public class Tester {
   public static void main(String[] args) {
      Handler&lt;Integer&gt; intHandler = new Handler&lt;Integer&gt;(1) {
         @Override
         public void handle() {
            System.out.println(content);
         }
      };
      intHandler.handle();
      Handler&lt;? extends Number&gt; intHandler1 = new Handler&lt;Number&gt;(2) {
         @Override
         public void handle() {
            System.out.println(content);
         }
      };
      intHandler1.handle();
      Handler&lt;?&gt; handler = new Handler&lt;Object&gt;("test") {
         @Override
         public void handle() {
            System.out.println(content);
         }
      };
      handler.handle();    
   }  
}
abstract class Handler&lt;T&gt; {
   public T content;

   public Handler(T content) {
      this.content = content; 
   }

   abstract void handle();
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">1
2
Test
</code></pre> 
 <p>对于Java 9，我们可以使用匿名类的<code>&lt;&gt;</code>运算符，如下所示。</p> 
 <p>文件:<em>Tester.java</em> - </p> 
 <pre><code class="lang-java">public class Tester {
   public static void main(String[] args) {
      Handler&lt;Integer&gt; intHandler = new Handler&lt;&gt;(1) {
         @Override
         public void handle() {
            System.out.println(content);
         }
      };
      intHandler.handle();
      Handler&lt;? extends Number&gt; intHandler1 = new Handler&lt;&gt;(2) {
         @Override
         public void handle() {
            System.out.println(content);
         }
      };
      intHandler1.handle();
      Handler&lt;?&gt; handler = new Handler&lt;&gt;("test") {
         @Override
         public void handle() {
            System.out.println(content);
         }
      };

      handler.handle();    
   }  
}

abstract class Handler&lt;T&gt; {
   public T content;

   public Handler(T content) {
      this.content = content; 
   }

   abstract void handle();
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p>   
 <pre><code class="lang-shell">1
2
Test
</code></pre>
 <br>      
</div></body></html>