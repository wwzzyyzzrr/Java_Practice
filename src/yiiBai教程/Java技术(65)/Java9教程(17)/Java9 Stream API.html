<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java9 Stream API</h1><div style="width:100%;float:left;" class="article-content">   
 <p>流(Stream)是在Java中引入的，以帮助开发人员从一系列对象中执行聚合操作。在Java 9中，使用较少的方法就可以使流更好。</p> 
 <h2 id="h2-takewhile-predicate-"><a name="takeWhile(Predicate接口)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>takeWhile(Predicate接口)</h2>
 <p><strong>语法</strong></p> 
 <pre><code class="lang-java">default Stream&lt;T&gt; takeWhile(Predicate&lt;? super T&gt; predicate)
</code></pre> 
 <p><code>takeWhile</code>方法获取所有值直到<code>predicate</code>返回<code>false</code>。 在有序流的情况下，它返回一个流，该流包含从此流中匹配给定<code>predicate</code>的元素的最长前缀。</p> 
 <p><strong>示例</strong></p> 
 <pre><code class="lang-java">import java.util.stream.Stream;

public class Tester {
   public static void main(String[] args) {
      Stream.of("a","b","c","","e","f").takeWhile(s-&gt;!s.isEmpty())
         .forEach(System.out::print);
   } 
}
</code></pre> 
 <p><code>takeWhile</code>方法获取所有<code>a</code>，<code>b</code>和<code>c</code>值，然后当字符串为空，它将停止执行。</p> 
 <pre><code class="lang-shell">abc
</code></pre> 
 <h2 id="h2-dropwhile-predicate-"><a name="dropWhile(Predicate接口)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>dropWhile(Predicate接口)</h2>
 <p><strong>语法</strong></p> 
 <pre><code class="lang-java">default Stream&lt;T&gt; dropWhile(Predicate&lt;? super T&gt; predicate)
</code></pre> 
 <p><code>dropWhile</code>方法在开始时丢弃所有值，直到谓词返回<code>true</code>。 在排序流的情况下，它返回包含该流剩余元素的流后，删除与给定<code>predicate</code>匹配的元素的最长前缀。</p> 
 <p><strong>示例</strong></p> 
 <pre><code class="lang-java">import java.util.stream.Stream;

public class Tester {
   public static void main(String[] args) {
      Stream.of("a","b","c","","e","f").dropWhile(s-&gt; !s.isEmpty())
         .forEach(System.out::print);

      System.out.println();
      Stream.of("a","b","c","","e","","f").dropWhile(s-&gt; !s.isEmpty())
         .forEach(System.out::print);
   } 
}
</code></pre> 
 <p><code>dropWhile</code>方法删除<code>a</code>，<code>b</code>和<code>c</code>值，然后当字符串为空，它将获取所有值。</p>   
 <pre><code class="lang-shell">ef
ef
</code></pre> 
 <p><strong>iterate语法</strong></p> 
 <pre><code class="lang-java">static &lt;T&gt; Stream&lt;T&gt; iterate(T seed, Predicate&lt;? super T&gt; hasNext, UnaryOperator&lt;T&gt; next)
</code></pre> 
 <p><code>iterate</code>方法现在具有<code>hasNext</code>作为参数，当<code>hasNext</code> Predicate返回<code>false</code>，它将停止循环。</p> 
 <p><strong>示例</strong></p> 
 <pre><code class="lang-java">import java.util.stream.IntStream;

public class Tester {
   public static void main(String[] args) {
      IntStream.iterate(3, x -&gt; x &lt; 10, x -&gt; x+ 3).forEach(System.out::println);
   } 
}
</code></pre> 
 <p>执行上面代码，输出结果如下 - </p> 
 <pre><code class="lang-shell">3
6
9
</code></pre> 
 <p><strong>ofNullable语法</strong></p> 
 <pre><code class="lang-java">static &lt;T&gt; Stream&lt;T&gt; ofNullable(T t)
</code></pre> 
 <p><code>ofNullable</code>方法被引入以防止<code>NullPointerExceptions</code>并避免对流进行空检查。 此方法返回包含单个元素的顺序流，如果非空(<code>null</code>)。否则返回空流。</p> 
 <p><strong>语法</strong></p> 
 <pre><code class="lang-java">import java.util.stream.Stream;

public class Tester {
   public static void main(String[] args) {
      long count = Stream.ofNullable(100).count();
      System.out.println(count);

      count = Stream.ofNullable(null).count();
      System.out.println(count);
   } 
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">1
0
</code></pre>
 <br>      
</div></body></html>