<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java空对象模式</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在“空对象”模式中，空对象将替换<code>NULL</code>对象实例的检查。而不是检查一个空值，<code>Null</code>对象反映一个无关的关系(即什么也不做)。 这种<code>Null</code>对象还可以用于在数据不可用时提供默认行为。</p> 
 <p>在空对象模式（Null Object模式）中创建一个抽象类，指定要执行的各种操作。扩展此类的具体类和一个null对象类，不提供此类的任何实现，并且无需检查空值。</p> 
 <h2 id="h2-u5B9Eu73B0u5B9Eu4F8B"><a name="实现实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实现实例</h2>
 <p>在这个实例中，将创建一个<code>AbstractCustomer</code>抽象类来定义一些操作。这里的客户名称和扩展<code>AbstractCustomer</code>类的具体类。 创建工厂类<code>CustomerFactory</code>用来根据传递给它的客户名称返回<code>RealCustomer</code>或<code>NullCustomer</code>对象。</p> 
 <p><code>NullPatternDemo</code>这是一个演示类，将使用<code>CustomerFactory</code>演示使用空对象模式（<strong>Null Object</strong>）模式。</p> 
 <p>空对象示例的结构如下图所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201612/09/595091236_93337.jpg" alt=""></p> 
 <h3 id="h3--1-"><a name="第1步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第1步</h3>
 <p>创建一个抽象类，其代码如下 -<br><em>AbstractCustomer.java</em></p> 
 <pre><code class="lang-java">public abstract class AbstractCustomer {
   protected String name;
   public abstract boolean isNil();
   public abstract String getName();
}
</code></pre> 
 <h3 id="h3--2-"><a name="第2步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第2步</h3>
 <p>创建扩展上述类的具体类，其代码如下 -<br><em>RealCustomer.java</em></p> 
 <pre><code class="lang-java">public class RealCustomer extends AbstractCustomer {

   public RealCustomer(String name) {
      this.name = name;
   }

   @Override
   public String getName() {
      return name;
   }

   @Override
   public boolean isNil() {
      return false;
   }
}
</code></pre> 
 <p><em>NullCustomer.java</em></p> 
 <pre><code class="lang-java">public class NullCustomer extends AbstractCustomer {

   @Override
   public String getName() {
      return "Not Available in Customer Database";
   }

   @Override
   public boolean isNil() {
      return true;
   }
}
</code></pre> 
 <h3 id="h3--3-"><a name="第3步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第3步</h3>
 <p>创建一个<code>CustomerFactory</code>类，其代码如下 -<br><em>CustomerFactory.java</em></p>   
 <pre><code class="lang-java">public class CustomerFactory {

   public static final String[] names = {"Rob", "Joe", "Julie"};

   public static AbstractCustomer getCustomer(String name){

      for (int i = 0; i &lt; names.length; i++) {
         if (names[i].equalsIgnoreCase(name)){
            return new RealCustomer(name);
         }
      }
      return new NullCustomer();
   }
}
</code></pre> 
 <h3 id="h3--4-"><a name="第4步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第4步</h3>
 <p>使用<code>CustomerFactory</code>根据传递给它的客户名称获取<code>RealCustomer</code>或<code>NullCustomer</code>对象。</p> 
 <p><em>NullPatternDemo.java</em></p> 
 <pre><code class="lang-java">public class NullPatternDemo {
   public static void main(String[] args) {

      AbstractCustomer customer1 = CustomerFactory.getCustomer("Rob");
      AbstractCustomer customer2 = CustomerFactory.getCustomer("Bob");
      AbstractCustomer customer3 = CustomerFactory.getCustomer("Julie");
      AbstractCustomer customer4 = CustomerFactory.getCustomer("Laura");

      System.out.println("Customers");
      System.out.println(customer1.getName());
      System.out.println(customer2.getName());
      System.out.println(customer3.getName());
      System.out.println(customer4.getName());
   }
}
</code></pre> 
 <h3 id="h3--5-"><a name="第5步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第5步</h3>
 <p>验证输出，执行上面的代码得到以下结果 -</p> 
 <pre><code class="lang-java">Customers
Rob
Not Available in Customer Database
Julie
Not Available in Customer Database
</code></pre>
 <br>      
</div></body></html>