<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java工厂设计模式</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 工厂模式是Java中最常用的设计模式之一。 这种类型的设计模式属于创建模式，因为此模式提供了创建对象的最佳方法之一。 </p> 
 <p> 在工厂模式中，我们没有创建逻辑暴露给客户端创建对象，并使用一个通用的接口引用新创建的对象。 </p> 
 <h2 id="h2-u5B9Eu73B0u65B9u6CD5"> <a name="实现方法"></a><span class="header-link octicon octicon-link"></span>实现方法 </h2> 
 <p> 我们将创建一个Shape接口和实现Shape接口的具体类。 一个工厂类ShapeFactory会在下一步中定义。 </p> 
 <p> FactoryPatternDemo这是一个演示类，将使用ShapeFactory来获取一个Shape对象。 它会将信息（CIRCLE/RECTANGLE/SQUARE）传递给ShapeFactory以获取所需的对象类型。 </p> 
 <p> 实现工厂模式的结构如下图所示 - </p> 
 <p> <img src="http://www.yiibai.com/uploads/images/201612/07/444221217_55898.jpg" alt=""> </p> 
 <h3 id="h3--1-"> <a name="第1步"></a><span class="header-link octicon octicon-link"></span>第1步 </h3> 
 <p> 创建一个接口- </p> 
 <p> <em>Shape.java</em> </p> 
 <pre>public interface Shape {
   void draw();
}</pre> 
 <h3 id="h3--2-"> <a name="第2步"></a><span class="header-link octicon octicon-link"></span>第2步 </h3> 
 <p> 创建实现相同接口的具体类。如下所示几个类 -<br> <em>Rectangle.java</em> </p> 
 <pre>public class Rectangle implements Shape {

   @Override
   public void draw() {
      System.out.println("Inside Rectangle::draw() method.");
   }
}</pre> 
 <p> <em>Square.java</em> </p> 
 <pre>public class Square implements Shape {

   @Override
   public void draw() {
      System.out.println("Inside Square::draw() method.");
   }
}</pre> 
 <p> <em>Circle.java</em> </p> 
 <pre>public class Circle implements Shape {

   @Override
   public void draw() {
      System.out.println("Inside Circle::draw() method.");
   }
}</pre> 
 <h3 id="h3--3-"> <a name="第3步"></a><span class="header-link octicon octicon-link"></span>第3步 </h3> 
 <p> 创建工厂根据给定的信息生成具体类的对象。 </p> 
 <p> <em>ShapeFactory.java</em> </p> 
 <pre>public class ShapeFactory {

   //use getShape method to get object of type shape 
   public Shape getShape(String shapeType){
      if(shapeType == null){
         return null;
      }        
      if(shapeType.equalsIgnoreCase("CIRCLE")){
         return new Circle();

      } else if(shapeType.equalsIgnoreCase("RECTANGLE")){
         return new Rectangle();

      } else if(shapeType.equalsIgnoreCase("SQUARE")){
         return new Square();
      }

      return null;
   }
}</pre> 
 <h3 id="h3--4-"> <a name="第4步"></a><span class="header-link octicon octicon-link"></span>第4步 </h3> 
 <p> 使用工厂通过传递类型等信息来获取具体类的对象。 </p> 
 <p> <em>FactoryPatternDemo.java</em> </p>   
 <pre>public class FactoryPatternDemo {

   public static void main(String[] args) {
      ShapeFactory shapeFactory = new ShapeFactory();

      //get an object of Circle and call its draw method.
      Shape shape1 = shapeFactory.getShape("CIRCLE");

      //call draw method of Circle
      shape1.draw();

      //get an object of Rectangle and call its draw method.
      Shape shape2 = shapeFactory.getShape("RECTANGLE");

      //call draw method of Rectangle
      shape2.draw();

      //get an object of Square and call its draw method.
      Shape shape3 = shapeFactory.getShape("SQUARE");

      //call draw method of circle
      shape3.draw();
   }
}</pre> 
 <h3 id="h3--5-"> <a name="第5步"></a><span class="header-link octicon octicon-link"></span>第5步 </h3> 
 <p> 验证输出结果如下- </p> 
 <pre>Inside Circle::draw() method.
Inside Rectangle::draw() method.
Inside Square::draw() method.</pre>
 <br>      
</div></body></html>