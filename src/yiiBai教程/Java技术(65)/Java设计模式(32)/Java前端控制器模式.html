<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java前端控制器模式</h1><div style="width:100%;float:left;" class="article-content">   
 <p>前端控制器设计模式用于提供集中式请求处理机制，以便所有请求将由单个处理程序处理。此处理程序可以执行请求的身份验证/授权/记录或跟踪，然后将请求传递到相应的处理程序。 以下是这种类型的设计模式的实体。</p> 
 <ul> 
  <li><strong>前端控制器</strong> - 用于处理应用程序（基于Web或基于桌面）的各种请求的单个处理程序。</li>
  <li><strong>分发器</strong> - 前端控制器可以使用可以将请求分派到相应的特定处理器的分派器对象。</li>
  <li><strong>视图</strong> - 视图是进行请求的对象。</li>
 </ul> 
 <h2 id="h2-u5B9Eu73B0u5B9Eu4F8B"><a name="实现实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实现实例</h2>
 <p>在这个实现实例中，将创建一个<code>FrontController</code>和<code>Dispatcher</code>作为前台控制器和相应的调度程序。 <code>HomeView</code>和<code>StudentView</code>代表各种视图，请求可以到前端的控制器中。</p> 
 <p><code>FrontControllerPatternDemo</code>这是一个演示类，将使用<code>FrontController</code>来演示前控制器设计模式。</p> 
 <p>前端控制器设计模式示例的结构如下图所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201612/09/614141226_79497.jpg" alt=""></p> 
 <h3 id="h3--1-"><a name="第1步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第1步</h3>
 <p>创建两个视图，其代码如下 -<br><em>HomeView.java</em></p> 
 <pre><code class="lang-java">public class HomeView {
   public void show(){
      System.out.println("Displaying Home Page");
   }
}
</code></pre> 
 <p><em>StudentView.java</em></p> 
 <pre><code class="lang-java">public class StudentView {
   public void show(){
      System.out.println("Displaying Student Page");
   }
}
</code></pre> 
 <h3 id="h3--2-"><a name="第2步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第2步</h3>
 <p>创建分派调度程序，其代码如下 -<br><em>Dispatcher.java</em></p> 
 <pre><code class="lang-java">public class Dispatcher {
   private StudentView studentView;
   private HomeView homeView;

   public Dispatcher(){
      studentView = new StudentView();
      homeView = new HomeView();
   }

   public void dispatch(String request){
      if(request.equalsIgnoreCase("STUDENT")){
         studentView.show();
      }
      else{
         homeView.show();
      }    
   }
}
</code></pre> 
 <h3 id="h3--3-"><a name="第3步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第3步</h3>
 <p>创建前端控制器 - FrontController，其代码如下 -<br><em>FrontController.java</em></p>   
 <pre><code class="lang-java">public class FrontController {

   private Dispatcher dispatcher;

   public FrontController(){
      dispatcher = new Dispatcher();
   }

   private boolean isAuthenticUser(){
      System.out.println("User is authenticated successfully.");
      return true;
   }

   private void trackRequest(String request){
      System.out.println("Page requested: " + request);
   }

   public void dispatchRequest(String request){
      //log each request
      trackRequest(request);

      //authenticate the user
      if(isAuthenticUser()){
         dispatcher.dispatch(request);
      }    
   }
}
</code></pre> 
 <h3 id="h3--4-"><a name="第4步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第4步</h3>
 <p>使用<code>FrontController</code>来演示前端控制器设计模式。</p> 
 <p><em>FrontControllerPatternDemo.java</em></p> 
 <pre><code class="lang-java">public class FrontControllerPatternDemo {
   public static void main(String[] args) {

      FrontController frontController = new FrontController();
      frontController.dispatchRequest("HOME");
      frontController.dispatchRequest("STUDENT");
   }
}
</code></pre> 
 <h3 id="h3--5-"><a name="第5步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第5步</h3>
 <p>验证输出，执行上面的代码得到以下结果 -</p> 
 <pre><code class="lang-java">Page requested: HOME
User is authenticated successfully.
Displaying Home Page
Page requested: STUDENT
User is authenticated successfully.
Displaying Student Page
</code></pre>
 <br>      
</div></body></html>