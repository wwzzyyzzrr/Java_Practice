<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java传输对象模式</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 当我们想要在客户端到服务器的一个传递具有多个属性的数据时，可使用传输对象模式。传输对象也称为值对象。传输对象是一个具有getter/setter方法的简单POJO类，并且是可序列化的，因此可以通过网络传输。 它没有任何行为。服务器端业务类通常从数据库获取数据并填充到POJO类，并将其发送到客户端或通过值传递它。对于客户端，传输对象是只读的。 客户端可以创建自己的传输对象，并将其传递给服务器，以便一次性更新数据库中的值。 以下是这种类型的设计模式的实体。 </p> 
 <ul> 
  <li> <strong>业务对象</strong> - 业务服务使用数据填充传输对象。 </li> 
  <li> <strong>传输对象</strong> - 具有仅设置/获取属性的方法的简单POJO。 </li> 
  <li> <strong>客户端</strong> - 客户端请求或发送传输对象到业务对象。 </li> 
 </ul> 
 <h2 id="h2-u5B9Eu73B0u5B9Eu4F8B"> <a name="实现实例"></a><span class="header-link octicon octicon-link"></span>实现实例 </h2> 
 <p> 在这个实现实例中，将创建一个StudentBO作为业务对象，Student作为传输对象表示实体。 </p> 
 <p> TransferObjectPatternDemo是一个演示类，在这里充当客户端，将使用StudentBO和Student演示传输对象设计模式。 </p> 
 <p> 服务定位器模式示例的结构如下图所示 - </p> 
 <p> <img src="http://www.yiibai.com/uploads/images/201612/09/335151224_58851.jpg" alt=""> </p> 
 <h3 id="h3--1-"> <a name="第1步"></a><span class="header-link octicon octicon-link"></span>第1步 </h3> 
 <p> 创建一个传输对象，其代码如下所示 - </p> 
 <p> <em>StudentVO.java</em> </p> 
 <pre>public class StudentVO {
   private String name;
   private int rollNo;

   StudentVO(String name, int rollNo){
      this.name = name;
      this.rollNo = rollNo;
   }

   public String getName() {
      return name;
   }

   public void setName(String name) {
      this.name = name;
   }

   public int getRollNo() {
      return rollNo;
   }

   public void setRollNo(int rollNo) {
      this.rollNo = rollNo;
   }
}</pre> 
 <h3 id="h3--2-"> <a name="第2步"></a><span class="header-link octicon octicon-link"></span>第2步 </h3> 
 <p> 创建一个业务对象，其代码如下所示 -<br> <em>StudentBO.java</em> </p> 
 <pre>import java.util.ArrayList;
import java.util.List;

public class StudentBO {

   //list is working as a database
   List&lt;StudentVO&gt; students;

   public StudentBO(){
      students = new ArrayList&lt;StudentVO&gt;();
      StudentVO student1 = new StudentVO("Robert",0);
      StudentVO student2 = new StudentVO("John",1);
      students.add(student1);
      students.add(student2);        
   }
   public void deleteStudent(StudentVO student) {
      students.remove(student.getRollNo());
      System.out.println("Student: Roll No " + student.getRollNo() + ", deleted from database");
   }

   //retrive list of students from the database
   public List&lt;StudentVO&gt; getAllStudents() {
      return students;
   }

   public StudentVO getStudent(int rollNo) {
      return students.get(rollNo);
   }

   public void updateStudent(StudentVO student) {
      students.get(student.getRollNo()).setName(student.getName());
      System.out.println("Student: Roll No " + student.getRollNo() +", updated in the database");
   }
}</pre> 
 <h3 id="h3--3-"> <a name="第3步"></a><span class="header-link octicon octicon-link"></span>第3步 </h3> 
 <p> 使用StudentBO演示传输对象设计模式，其代码如下所示 -<br> <em>TransferObjectPatternDemo.java</em> </p>   
 <pre>public class TransferObjectPatternDemo {
   public static void main(String[] args) {
      StudentBO studentBusinessObject = new StudentBO();

      //print all students
      for (StudentVO student : studentBusinessObject.getAllStudents()) {
         System.out.println("Student: [RollNo : " + student.getRollNo() + ", Name : " + student.getName() + " ]");
      }

      //update student
      StudentVO student = studentBusinessObject.getAllStudents().get(0);
      student.setName("Michael");
      studentBusinessObject.updateStudent(student);

      //get the student
      student = studentBusinessObject.getStudent(0);
      System.out.println("Student: [RollNo : " + student.getRollNo() + ", Name : " + student.getName() + " ]");
   }
}</pre> 
 <h3 id="h3--4-"> <a name="第4步"></a><span class="header-link octicon octicon-link"></span>第4步 </h3> 
 <p> 验证输出，执行上面的代码得到以下结果 - </p> 
 <pre>Student: [RollNo : 0, Name : Robert ]
Student: [RollNo : 1, Name : John ]
Student: Roll No 0, updated in the database
Student: [RollNo : 0, Name : Michael ]</pre>
 <br>      
</div></body></html>