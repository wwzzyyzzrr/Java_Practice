<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java策略模式</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在策略模式中，可以在运行时更改类行为或其算法。 这种类型的设计模式属于行为模式。</p> 
 <p>在策略模式中，创建表示各种策略对象和其行为根据其策略对象而变化的上下文对象。 策略对象更改上下文对象的执行算法。</p> 
 <h2 id="h2-u5B9Eu73B0u5B9Eu4F8B"><a name="实现实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实现实例</h2>
 <p>在这个示例中，将创建一个 <code>Strategy</code> 接口，定义实现策略接口的操作和具体策略类。 上下文类- <code>Context</code> 是使用策略的类。</p> 
 <p><code>StrategyPatternDemo</code>是一个演示类，将使用上下文- <code>Context</code> 和策略对象来演示上下文行为基于其部署或使用的策略的变化。</p> 
 <p>策略模式示例的结构如下图所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201612/09/596091247_62321.jpg" alt=""></p> 
 <h3 id="h3--1-"><a name="第1步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第1步</h3>
 <p>创建一个类接口，其代码如下 -<br><em>Strategy.java</em></p> 
 <pre><code class="lang-java">public interface Strategy {
   public int doOperation(int num1, int num2);
}
</code></pre> 
 <h3 id="h3--2-"><a name="第2步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第2步</h3>
 <p>创建三个实现相同接口的具体类。其代码分别如下 -<br><em>OperationAdd.java</em></p> 
 <pre><code class="lang-java">public class OperationAdd implements Strategy{
   @Override
   public int doOperation(int num1, int num2) {
      return num1 + num2;
   }
}
</code></pre> 
 <p><em>OperationSubstract.java</em></p> 
 <pre><code class="lang-java">public class OperationSubstract implements Strategy{
   @Override
   public int doOperation(int num1, int num2) {
      return num1 - num2;
   }
}
</code></pre> 
 <p><em>OperationMultiply.java</em></p> 
 <pre><code class="lang-java">public class OperationMultiply implements Strategy{
   @Override
   public int doOperation(int num1, int num2) {
      return num1 * num2;
   }
}
</code></pre> 
 <p>创建上下文（<code>Context</code> ）类，其代码如下 -<br><em>Context.java</em></p>   
 <pre><code class="lang-java">public class Context {
   private Strategy strategy;

   public Context(Strategy strategy){
      this.strategy = strategy;
   }

   public int executeStrategy(int num1, int num2){
      return strategy.doOperation(num1, num2);
   }
}
</code></pre> 
 <h3 id="h3--3-"><a name="第3步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第3步</h3>
 <p>使用上下文- <code>Context</code> 在更改其策略时查看行为更改。<br><em>StrategyPatternDemo.java</em></p> 
 <pre><code class="lang-java">public class StrategyPatternDemo {
   public static void main(String[] args) {
      Context context = new Context(new OperationAdd());
      System.out.println("10 + 5 = " + context.executeStrategy(10, 5));

      context = new Context(new OperationSubstract());
      System.out.println("10 - 5 = " + context.executeStrategy(10, 5));

      context = new Context(new OperationMultiply());
      System.out.println("10 * 5 = " + context.executeStrategy(10, 5));
   }
}
</code></pre> 
 <h3 id="h3--4-"><a name="第4步" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第4步</h3>
 <p>验证输出，执行上面的代码得到以下结果 -</p> 
 <pre><code class="lang-java">10 + 5 = 15
10 - 5 = 5
10 * 5 = 50
</code></pre>
 <br>      
</div></body></html>