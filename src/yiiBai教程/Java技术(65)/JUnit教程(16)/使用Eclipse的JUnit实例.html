<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">使用Eclipse的JUnit实例</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 在本节中，我们将展示使用JUnit的一个完整的例子。我们将详细了解如何创建和运行测试，我们将展示如何使用特定的注释和JUnit断言。 </p> 
 <h3> 1. 初始步骤 </h3> 
 <p> 让我们创建一个名为&nbsp;JUnitGuide 的Java项目. 在&nbsp;src&nbsp;文件夹, 我们用鼠标右键单击并选择&nbsp;New -&gt; Package, 创造一个新的包名为：&nbsp;com.yiibai.junit&nbsp;这里我们将定位类用于测试。 对于测试类，一个很好的做法就是创建专用于测试的一个新的源文件夹，这样的类用于测试以及测试类将在不同的源的文件夹。 为此，右键单击您的项目，选择&nbsp;New -&gt; Source Folder, 命名新的源文件夹test 并点击&nbsp;Finish. </p> 
 <div style="background-color:#F1F1F1;color:#333333;font-family:Tahoma,  Verdana, font-size:15px;text-align:center;"> 
  <img src="file://D:/Program%20Files/qq24B39E2329F08D9F4C3146A571A415EF/280c294fdedf4dd6b8ee64729358662b/clipboard.png">
  <br> 
  <p style="color:#888888;background-color:inherit;"> <img src="/uploads/tutorial/20151106/1-151106064S94J.png" alt=""> </p> 
 </div> 
 <div> 
  <strong>提示：</strong>
  <br> 或者，可以通过右键点击项目创建一个新的源文件夹，选择Properties -&gt; Java Build Path, 选择标签&nbsp;Source, 选择&nbsp;Add Folder -&gt; Create New Folder, 写上名称为test，然后按 Finish。 
 </div> 
 <p> 可以很容易地看到，在项目中有两个源文件夹： </p> 
 <div style="background-color:#F1F1F1;color:#333333;font-family:Tahoma,  Verdana, font-size:15px;text-align:center;"> 
  <img src="file://D:/Program%20Files/qq24B39E2329F08D9F4C3146A571A415EF/37bbde6d8be64678be6e83ec101b714f/clipboard.png">
  <br> 
  <p style="color:#888888;background-color:inherit;"> <img src="/uploads/tutorial/20151106/1-1511060649223N.png" alt=""> </p> 
 </div> 
 <p> 还可以创建一个新的包在新创建的测试文件夹，名称为&nbsp;com.javacodegeeks.junit, 测试类不会在默认包中，我们已经准备好了，现在就开始吧！ </p> 
 <h3> 2. 创建Java类用于测试 </h3> 
 <p> 右键单击src文件夹并创建一个新的Java类称为&nbsp;FirstDayAtSchool.java. 这个类的公共方法将被测试。 </p> 
 <p style="color:#333333;font-family:Tahoma,  Verdana, font-size:15px;"> <em>FirstDayAtSchool.java</em> </p> 
 <div style="background-color:inherit;color:#333333;font-size:15px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"> 
  <div style="background-color:inherit;font-size:1em !important;"> 
   <div style="background-color:inherit;font-size:1em !important;"> 
    <pre class="prettyprint lang-java">package com.yiibai.junit;

import java.util.Arrays;

public class FirstDayAtSchool {

	public String[] prepareMyBag() {
		String[] schoolbag = { "Books", "Notebooks", "Pens" };
		System.out.println("My school bag contains: "
				+ Arrays.toString(schoolbag));
		return schoolbag;
	}

	public String[] addPencils() {
		String[] schoolbag = { "Books", "Notebooks", "Pens", "Pencils" };
		System.out.println("Now my school bag contains: "
				+ Arrays.toString(schoolbag));
		return schoolbag;
	}
}</pre> 
   </div> 
  </div> 
 </div> 
 <h3> 3. 创建和运行JUnit测试案例 </h3> 
 <p> 要为现有类&nbsp;FirstDayAtSchool.java&nbsp;创建一个JUnit测试案例, 在Package Explorer视图上右键单击并选择&nbsp;New → JUnit Test Case. 更改源文件夹，这样的类将位于 test 源文件夹并确保该标志 New JUnit4 测试选择。 </p> 
 <p> <img src="/uploads/tutorial/20151106/1-1511060A130626.png" alt=""> </p> 
 <div style="background-color:#F1F1F1;color:#333333;font-family:Tahoma,  Verdana, font-size:15px;text-align:center;"> 
  <img src="file://D:/Program%20Files/qq24B39E2329F08D9F4C3146A571A415EF/88d1d0d8875e4c8c9e77f1bc9058eee0/clipboard.png">
  <br> 
 </div> 
 <p> 然后点击&nbsp;Finish. 如果您的项目不包含JUnit库在classpath中，下面的消息会显示成为将JUnit库添加到类路径： </p> 
 <p> <img src="/uploads/tutorial/20151106/1-1511060A15L41.png" alt=""> </p> 
 <p> 下面，有一个名为：FirstDayAtSchoolTest.java 类，这个测试类的代码如下所示： </p> 
 <p style="color:#333333;font-family:Tahoma,  Verdana, font-size:15px;"> <em>FirstDayAtSchool.java</em> </p> 
 <div style="background-color:inherit;color:#333333;font-size:15px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"> 
  <div style="background-color:inherit;font-size:1em !important;"> 
   <div style="background-color:inherit;font-size:1em !important;">   
    <pre class="prettyprint lang-java">package com.yiibai.junit;

import static org.junit.Assert.*;

import org.junit.Test;

public class FirstDayAtSchoolTest {

	FirstDayAtSchool school = new FirstDayAtSchool();
	String[] bag1 = { "Books", "Notebooks", "Pens" };
	String[] bag2 = { "Books", "Notebooks", "Pens", "Pencils" };

	@Test
	public void testPrepareMyBag() {
		System.out.println("Inside testPrepareMyBag()");
		assertArrayEquals(bag1, school.prepareMyBag());
	}

	@Test
	public void testAddPencils() {
		System.out.println("Inside testAddPencils()");
		assertArrayEquals(bag2, school.addPencils());
	}

}</pre> 
   </div> 
  </div> 
 </div> 
 <p> 现在，我们可以通过右击运行测试测试类用例，选择&nbsp;Run As -&gt; JUnit Test. </p> 
 <p> 程序将输出类似如下所示： </p> 
 <div> 
  <div> 
   <div> 
    <pre class="prettyprint">Inside testPrepareMyBag()
My school bag contains: [Books, Notebooks, Pens]
Inside testAddPencils()
Now my school bag contains: [Books, Notebooks, Pens, Pencils]</pre> 
    <br> 
   </div> 
  </div> 
 </div> 
 <p> 在JUnit视图将没有失败或错误。如果改变其中一个数组，以便它包含超过预期的元素： </p> 
 <pre class="prettyprint">String[] bag2 = { "Books", "Notebooks", "Pens", "Pencils", "Rulers"};</pre> 
 <p> 我们再次运行测试类，JUnit视图将包含一个错误： </p> 
 <p> <img src="/uploads/tutorial/20151106/1-1511060A4133X.png" alt=""> </p> 
 <p style="color:#333333;font-family:Tahoma,  Verdana, font-size:15px;"> 否则，如果我们再次更改其中一个数组，让它包含一个不同的元素： </p> 
 <div style="background-color:inherit;color:#333333;font-size:15px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;"> 
  <div style="background-color:inherit;font-size:1em !important;"> 
   <div style="background-color:inherit;font-size:1em !important;"> 
    <pre class="prettyprint lang-java">String[] bag1 = { "Books", "Notebooks", "Rulers" };</pre> 
   </div> 
  </div> 
 </div> 
 <p style="color:#333333;font-family:Tahoma,  Verdana, font-size:15px;"> 我们再次运行测试类，JUnit视图将再一次失败： </p> 
 <p style="color:#333333;font-family:Tahoma,  Verdana, font-size:15px;"> <img src="/uploads/tutorial/20151106/1-1511060A51JV.png" alt=""> </p>
 <br>      
</div></body></html>