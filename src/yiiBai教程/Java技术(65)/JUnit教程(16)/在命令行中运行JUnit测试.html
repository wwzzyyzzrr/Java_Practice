<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">在命令行中运行JUnit测试</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 可以在Eclipse之外运行JUnit测试，使用org.junit.runner.JUnitCore类。 这个类提供了runClasses()方法，它允许运行一个或多个测试类。runClasses()方法返回类型是org.junit.runner.Result对象类型。&nbsp;这个对象可以被用来收集关于测试信息。此外，如果有一个失败的测试，可以用org.junit.runner.notification.Failure对象保存失败测试的描述。 </p> 
 <p> 下面的步骤显示了如何在Eclipse之外(命令行下)运行测试。 </p> 
 <p> 用下面的代码创建一个新的Java类为JunitRunner.java： </p> 
 <p style="color:#333333;font-family:Tahoma,  Verdana, font-size:15px;background-color:#FFFFFF;"> <em>JunitRunner.java</em> </p> 
 <p style="color:#333333;font-family:Tahoma,  Verdana, font-size:15px;background-color:#FFFFFF;"> </p>
 <pre class="prettyprint lang-java">package com.yiibai.junit;

import org.junit.runner.JUnitCore;
import org.junit.runner.Result;
import org.junit.runner.notification.Failure;

public class JunitRunner {

	public static void main(String[] args) {

		Result result = JUnitCore.runClasses(AssertionsTest.class);
		for (Failure fail : result.getFailures()) {
			System.out.println(fail.toString());
		}
		if (result.wasSuccessful()) {
			System.out.println("All tests finished successfully...");
		}
	}
}</pre> 
 <p></p> 
 <div>
   作为一个例子，我们选择运行AssertionsTest测试类。 
 </div> 
 <ul> 
  <li> 打开命令提示符，然后往下移目录，找到两个类所在的目录。 </li> 
  <li> 编译测试类和运行类。 </li> 
  <div style="background-color:inherit;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;font-size:1em !important;"> 
   <div style="background-color:inherit;font-size:1em !important;"> 
    <div style="background-color:inherit;font-size:1em !important;"> 
     <table border="1" cellpadding="2" cellspacing="0" style="color:#333333;font-size:1em !important;background-color:inherit;"> 
      <tbody> 
       <tr> 
        <td style="border:1px solid #999999;background-color:inherit;color:#AFAFAF !important;font-size:1em !important;"> 1 </td> 
        <td style="border:1px solid #999999;background-color:inherit;color:#000000 !important;font-size:1em !important;"> C:\Users\yiibai\eclipse_workspace\JUnitGuide\test\com\yiibai\junit&gt;javac -classpath&nbsp;"C:\Users\yiibai\Downloads\junit-4.11.jar";"C:\Users\yiibai\Downloads\hamcrest-core-1.3.jar"; AssertionsTest.java JunitRunner.java </td> 
       </tr> 
      </tbody> 
     </table> 
    </div> 
   </div> 
  </div> 
  <p> 注：这里指定包含相关 junit 的相关 jar 包。 </p> 
  <li> 现在运行&nbsp;JunitRunner. </li> 
  <div style="background-color:inherit;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;font-size:1em !important;"> 
   <div style="background-color:inherit;font-size:1em !important;"> 
    <div style="background-color:inherit;font-size:1em !important;"> 
     <table border="1" cellpadding="2" cellspacing="0" style="color:#333333;font-size:1em !important;background-color:inherit;"> 
      <tbody> 
       <tr> 
        <td style="border:1px solid #999999;background-color:inherit;color:#AFAFAF !important;font-size:1em !important;"> 1 </td> 
        <td style="border:1px solid #999999;background-color:inherit;color:#000000 !important;font-size:1em !important;"> C:\Users\yiibai\eclipse_workspace\JUnitGuide\test\com\yiibai\junit&gt;java -classpath&nbsp;"C:\Users\yiibai\Downloads\junit-4.11.jar";"C:\Users\yiibai\Downloads\hamcrest-core-1.3.jar"; JunitRunner </td> 
       </tr> 
      </tbody> 
     </table> 
    </div> 
   </div> 
  </div> 
 </ul> 
 <p> 这里是结果输出： </p> 
 <div style="color:#333333;font-size:15px;font-family:Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important;background-color:#FFFFFF;"> 
  <div style="background-color:inherit;font-size:1em !important;"> 
   <div style="background-color:inherit;font-size:1em !important;">   
    <pre class="prettyprint">All tests finished successfully...</pre> 
   </div> 
  </div> 
 </div>
 <br>      
</div></body></html>