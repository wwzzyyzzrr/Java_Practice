<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">log4j安装配置</h1><div style="width:100%;float:left;" class="article-content">   
 <p> Log4j的API包使用Apache软件许可证，由开源倡议认证一个完全成熟的开源许可证下发布。</p> 
 <p> 最新log4j的版本，包括完整的源代码，类文件和文档可以在这里找到&nbsp;<a target="_blank" href="http://logging.apache.org/log4j/">http://logging.apache.org/log4j/</a>.</p> 
 <p> 下载&nbsp;apache-log4j-x.x.x.tar.gz&nbsp;做到以下几点：</p> 
 <h2> 步骤1:</h2> 
 <p> 将下载的文件解压缩和解压在&nbsp;/usr/local/&nbsp;目录，如下所示：</p> 
 <pre class="prettyprint" style="border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; font-size: 12px; overflow: auto;">
$ gunzip apache-log4j-1.2.15.tar.gz
$ tar -xvf apache-log4j-1.2.15.tar
apache-log4j-1.2.15/tests/input/
apache-log4j-1.2.15/tests/input/xml/
apache-log4j-1.2.15/tests/src/
apache-log4j-1.2.15/tests/src/java/
apache-log4j-1.2.15/tests/src/java/org/
.......................................</pre> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> 当执行解压缩，这将创建一个名称&nbsp;apache-log4j-x.x.x 的目录层次结构如下：</p> 
 <pre class="prettyprint" style="border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; font-size: 12px; overflow: auto;">
-rw-r--r--  1 root root   3565 2007-08-25 00:09 BUILD-INFO.txt
-rw-r--r--  1 root root   2607 2007-08-25 00:09 build.properties.sample
-rw-r--r--  1 root root  32619 2007-08-25 00:09 build.xml
drwxr-xr-x 14 root root   4096 2010-02-04 14:09 contribs
drwxr-xr-x  5 root root   4096 2010-02-04 14:09 examples
-rw-r--r--  1 root root   2752 2007-08-25 00:09 INSTALL
-rw-r--r--  1 root root   4787 2007-08-25 00:09 KEYS
-rw-r--r--  1 root root  11366 2007-08-25 00:09 LICENSE
-rw-r--r--  1 root root 391834 2007-08-25 00:29 log4j-1.2.15.jar
-rw-r--r--  1 root root    160 2007-08-25 00:09 NOTICE
-rwxr-xr-x  1 root root  10240 2007-08-25 00:27 NTEventLogAppender.dll
-rw-r--r--  1 root root  17780 2007-08-25 00:09 pom.xml
drwxr-xr-x  7 root root   4096 2007-08-25 00:13 site
drwxr-xr-x  8 root root   4096 2010-02-04 14:08 src
drwxr-xr-x  6 root root   4096 2010-02-04 14:09 tests</pre> 
 <h2> 步骤2:</h2> 
 <p> 这一步是可选的，取决于什么功能，要使用log4j 框架。如果已经有以下安装在您的机器，那么可以使用这些软件包，否则将需要安装它们，才能正常使log4j工作</p> 
 <ul> 
  <li> <p> JavaMail API:&nbsp;&nbsp;电子邮件。基于log4j日志记录功能需要Java邮件API（mail.jar）在计算机上安装&nbsp;<a target="_blank" href="https://glassfish.dev.java.net/javaee5/mail/">https://glassfish.dev.java.net/javaee5/mail/</a></p> </li> 
  <li> <p> JavaBeans 活动框架：&nbsp;Java邮件API还需要JavaBeans激活框架（的activation.jar）从<a target="_blank" href="http://java.sun.com/products/javabeans/jaf/index.jsp">http://java.sun.com/products/javabeans/jaf/index.jsp</a>&nbsp;上下载安装在您的计算机上</p> </li> 
  <li> <p> Java&nbsp;信息服务:&nbsp;&nbsp;log4j的JMS兼容的功能将需要两个JMS和JNDI（Java命名和Directory接口），可以从<a target="_blank" href="http://java.sun.com/products/jms">http://java.sun.com/products/jms</a>&nbsp;下载安装</p> </li> 
  <li> <p> XML Parser:&nbsp;需要一个JAXP兼容的XML解析器来使用log4j。请确保已经在机器上安装xerces.jar ，可从<a target="_blank" href="http://xerces.apache.org/xerces-j/install.html">http://xerces.apache.org/xerces-j/install.html</a>&nbsp;下载安装</p> </li> 
 </ul> 
 <h2> 步骤3:</h2> 
 <p> 这一步是非常重要的，需要设置CLASSPATH和PATH变量正确。在这里要设置只是 log4j.x.x.x.jar 文件</p>   
 <pre class="prettyprint" style="border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; font-size: 12px; overflow: auto;">
$ pwd
/usr/local/apache-log4j-1.2.15
$ export CLASSPATH= 
      $CLASSPATH:/usr/local/apache-log4j-1.2.15/log4j-1.2.15.jar
$ export PATH=$PATH:/usr/local/apache-log4j-1.2.15/</pre> 
 <br> 注意：如果在Window上开发使用Eclipse的话，可以在Eclipse创建用户库并加入到构建路径中。
 <br> 
 <br>      
</div></body></html>