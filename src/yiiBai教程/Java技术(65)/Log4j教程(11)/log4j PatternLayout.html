<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">log4j PatternLayout</h1><div style="width:100%;float:left;" class="article-content">   
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> 如果想生成基于模式的特定格式的日志信息，那么可以使用 org.apache.log4j.PatternLayout 格式化日志信息。</p> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> PatternLayout类扩展抽象 org.apache.log4j.Layout 类并覆盖format()方法根据提供的模式构建日志信息。&nbsp;</p> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> PatternLayout也是一个简单的布局对象，它提供下列Bean属性，可以通过配置文件进行设置：</p> 
 <table class="src" style="margin: 8px 0px; padding: 0px;  border-color: rgb(214, 214, 214); width: 560px; border-collapse: collapse; vertical-align: top; color: rgb(0, 0, 0);  background-color: rgb(247, 247, 247);"> 
  <tbody style="margin: 0px; padding: 0px;"> 
   <tr style="margin: 0px; padding: 0px;"> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214); width: 23px; background-color: rgb(238, 238, 238);"> S.N.</th> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214); background-color: rgb(238, 238, 238);"> 属性和说明</th> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 1</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> <b style="margin: 0px; padding: 0px;">conversionPattern</b><br style="margin: 0px; padding: 0px;"> 设置转换模式。默认为&nbsp;%r [%t] %p %c %x - %m%n</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2> 模式转换字符：</h2> 
 <p> 下表说明了以上模式使用的字符和所有其他字符，可以在自定义模式中使用：</p> 
 <table class="src" style="margin: 8px 0px; padding: 0px;  border-color: rgb(214, 214, 214); width: 560px; border-collapse: collapse; vertical-align: top; color: rgb(0, 0, 0);  background-color: rgb(247, 247, 247);"> 
  <tbody style="margin: 0px; padding: 0px;"> 
   <tr style="margin: 0px; padding: 0px;"> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214); width: 66px; background-color: rgb(238, 238, 238);"> 转换字符</th> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214); background-color: rgb(238, 238, 238);"> 表示的意思</th> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> c</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 用于输出的记录事件的类别。例如，对于类别名称"a.b.c"&nbsp;模式&nbsp;&nbsp;%c{2}&nbsp;会输出&nbsp;"b.c"</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> C</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 用于输出呼叫者发出日志请求的完全限定类名。例如，对于类名 "org.apache.xyz.SomeClass", 模式&nbsp;%C{1} 会输出 "SomeClass".</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> d</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 用于输出的记录事件的日期。例如， %d{HH:mm:ss,SSS} 或 %d{dd MMM yyyy HH:mm:ss,SSS}.</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> F</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 用于输出被发出日志记录请求，其中的文件名</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> l</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 用于将产生的日志事件调用者输出位置信息</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> L</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 用于输出从被发出日志记录请求的行号</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> m</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 用于输出使用日志事件相关联的应用程序提供的消息</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> M</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 用于输出发出日志请求所在的方法名称</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> n</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 输出平台相关的行分隔符或文字</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> p</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 用于输出的记录事件的优先级</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> r</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 用于输出毫秒从布局的结构经过直到创建日志记录事件的数目</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> t</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 用于输出生成的日志记录事件的线程的名称</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> x</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 用于与产生该日志事件的线程相关联输出的NDC（嵌套诊断上下文）</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> X</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 在X转换字符后面是键为的MDC。例如&nbsp;&nbsp;X{clientIP}&nbsp;将打印存储在MDC对键clientIP的信息</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> %</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse;  border-color: rgb(214, 214, 214);"> 文字百分号&nbsp;%%将打印％标志</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2> 格式修饰符：</h2> 
 <p> 默认情况下，相关资料原样输出。然而，随着格式修饰符的帮助下，可以改变最小字段宽度，最大字段宽度和对齐。</p> 
 <p> 下表涵盖了各种各样的修饰符的情况：</p> 
 <table border="1" cellpadding="5" cellspacing="5" class="src" style="margin: 8px 0px; padding: 0px; border: 1px solid rgb(214, 214, 214); width: 560px; border-collapse: collapse; vertical-align: top; color: rgb(0, 0, 0);  background-color: rgb(247, 247, 247);"> 
  <tbody style="margin: 0px; padding: 0px;"> 
   <tr style="margin: 0px; padding: 0px;"> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214); background-color: rgb(238, 238, 238);"> Format modifier</th> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214); background-color: rgb(238, 238, 238);"> left justify</th> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214); background-color: rgb(238, 238, 238);"> minimum width</th> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214); background-color: rgb(238, 238, 238);"> maximum width</th> 
    <th style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214); background-color: rgb(238, 238, 238);"> 注释</th> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> %20c</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> false</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> 20</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> none</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> 用空格左垫，如果类别名称少于20个字符长</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> %-20c</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> true</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> 20</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> none</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> 用空格右垫，如果类别名称少于20个字符长</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> %.30c</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> NA</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> none</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> 30</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> 从开始截断，如果类别名称超过30个字符长</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> %20.30c</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> false</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> 20</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> 30</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> 用空格左侧垫，如果类别名称短于20个字符。但是，如果类别名称长度超过30个字符，那么从开始截断。</td> 
   </tr> 
   <tr style="margin: 0px; padding: 0px;"> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> %-20.30c</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> true</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> 20</td> 
    <td align="center" style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> 30</td> 
    <td style="margin: 0px; padding: 5px; border-collapse: collapse; border: 1px solid rgb(214, 214, 214);"> 用空格右侧垫，如果类别名称短于20个字符。但是，如果类别名称长度超过30个字符，那么从开始截断。</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2> PatternLayout 示例:</h2> 
 <p> 以下是针对 PatternLayout 一个简单的配置文件：</p> 
 <pre class="prettyprint prettyprinted" style="border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; font-size: 12px; overflow: auto;">
<span class="com" style="margin: 0px; padding: 0px; color: rgb(136, 0, 0);"># Define the root logger with appender file</span><span class="pln" style="margin: 0px; padding: 0px;">
log </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">/usr/</span><span class="pln" style="margin: 0px; padding: 0px;">home</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">/</span><span class="pln" style="margin: 0px; padding: 0px;">log4j
log4j</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">rootLogger </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="margin: 0px; padding: 0px;"> DEBUG</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span class="pln" style="margin: 0px; padding: 0px;"> FILE

</span><span class="com" style="margin: 0px; padding: 0px; color: rgb(136, 0, 0);"># Define the file appender</span><span class="pln" style="margin: 0px; padding: 0px;">
log4j</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">appender</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">FILE</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="margin: 0px; padding: 0px;">org</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">apache</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">log4j</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">FileAppender</span><span class="pln" style="margin: 0px; padding: 0px;">
log4j</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">appender</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">FILE</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">File</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="margin: 0px; padding: 0px;">$</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span class="pln" style="margin: 0px; padding: 0px;">log</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">}/</span><span class="pln" style="margin: 0px; padding: 0px;">log</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">out</span><span class="pln" style="margin: 0px; padding: 0px;">

</span><span class="com" style="margin: 0px; padding: 0px; color: rgb(136, 0, 0);"># Define the layout for file appender</span><span class="pln" style="margin: 0px; padding: 0px;">
log4j</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">appender</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">FILE</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">layout</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="margin: 0px; padding: 0px;">org</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">apache</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">log4j</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">PatternLayout</span><span class="pln" style="margin: 0px; padding: 0px;">
log4j</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">appender</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">FILE</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">layout</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">ConversionPattern</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="margin: 0px; padding: 0px;">
      </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">%</span><span class="pln" style="margin: 0px; padding: 0px;">d</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span class="pln" style="margin: 0px; padding: 0px;">yyyy</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">-</span><span class="pln" style="margin: 0px; padding: 0px;">MM</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">-</span><span class="pln" style="margin: 0px; padding: 0px;">dd</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">}-%</span><span class="pln" style="margin: 0px; padding: 0px;">t</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">-%</span><span class="pln" style="margin: 0px; padding: 0px;">x</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">-%-</span><span class="lit" style="margin: 0px; padding: 0px; color: rgb(0, 102, 102);">5p</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">-%-</span><span class="lit" style="margin: 0px; padding: 0px; color: rgb(0, 102, 102);">10c</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:%</span><span class="pln" style="margin: 0px; padding: 0px;">m</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">%</span><span class="pln" style="margin: 0px; padding: 0px;">n</span></pre> 
 <p style="margin: 0.8em 0px 1em; padding: 0px; text-align: justify; color: rgb(0, 0, 0); "> 现在考虑下面产生日志信息的Java例子：</p>   
 <pre class="prettyprint prettyprinted" style="border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; font-size: 12px; overflow: auto;">
<span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">import</span><span class="pln" style="margin: 0px; padding: 0px;"> org</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">apache</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">log4j</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">Logger</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span class="pln" style="margin: 0px; padding: 0px;">

</span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">import</span><span class="pln" style="margin: 0px; padding: 0px;"> java</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">io</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.*;</span><span class="pln" style="margin: 0px; padding: 0px;">
</span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">import</span><span class="pln" style="margin: 0px; padding: 0px;"> java</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">sql</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">SQLException</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span class="pln" style="margin: 0px; padding: 0px;">
</span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">import</span><span class="pln" style="margin: 0px; padding: 0px;"> java</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">util</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.*;</span><span class="pln" style="margin: 0px; padding: 0px;">

</span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">public</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">class</span><span class="pln" style="margin: 0px; padding: 0px;"> log4jExample</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span class="pln" style="margin: 0px; padding: 0px;">
  </span><span class="com" style="margin: 0px; padding: 0px; color: rgb(136, 0, 0);">/* Get actual class name to be printed on */</span><span class="pln" style="margin: 0px; padding: 0px;">
  </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">static</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">Logger</span><span class="pln" style="margin: 0px; padding: 0px;"> log </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">Logger</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">getLogger</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span class="pln" style="margin: 0px; padding: 0px;">
                      log4jExample</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">class</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">getName</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">());</span><span class="pln" style="margin: 0px; padding: 0px;">

  </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">public</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">static</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">void</span><span class="pln" style="margin: 0px; padding: 0px;"> main</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">String</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">[]</span><span class="pln" style="margin: 0px; padding: 0px;"> args</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">)</span><span class="pln" style="margin: 0px; padding: 0px;">
                </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">throws</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">IOException</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">SQLException</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span class="pln" style="margin: 0px; padding: 0px;">
   
     log</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">debug</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"Hello this is an debug message"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span class="pln" style="margin: 0px; padding: 0px;">
     log</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span class="pln" style="margin: 0px; padding: 0px;">info</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span class="str" style="margin: 0px; padding: 0px; color: rgb(0, 136, 0);">"Hello this is an info message"</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span class="pln" style="margin: 0px; padding: 0px;">
  </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span class="pln" style="margin: 0px; padding: 0px;">
</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span></pre> 
 <p> 编译并运行上述程序，它会创建&nbsp;log.out文件在&nbsp;/usr/home/log4j&nbsp;目录，该文件将有如下的日志信息：</p> 
 <pre class="prettyprint prettyprinted" style="border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; font-size: 12px; overflow: auto;">
<span class="lit" style="margin: 0px; padding: 0px; color: rgb(0, 102, 102);">2010</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">-</span><span class="lit" style="margin: 0px; padding: 0px; color: rgb(0, 102, 102);">03</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">-</span><span class="lit" style="margin: 0px; padding: 0px; color: rgb(0, 102, 102);">23</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">-</span><span class="pln" style="margin: 0px; padding: 0px;">main</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">--</span><span class="pln" style="margin: 0px; padding: 0px;">DEBUG</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">-</span><span class="pln" style="margin: 0px; padding: 0px;">log4jExample</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:</span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">Hello</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">this</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">is</span><span class="pln" style="margin: 0px; padding: 0px;"> an debug message
</span><span class="lit" style="margin: 0px; padding: 0px; color: rgb(0, 102, 102);">2010</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">-</span><span class="lit" style="margin: 0px; padding: 0px; color: rgb(0, 102, 102);">03</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">-</span><span class="lit" style="margin: 0px; padding: 0px; color: rgb(0, 102, 102);">23</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">-</span><span class="pln" style="margin: 0px; padding: 0px;">main</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">--</span><span class="pln" style="margin: 0px; padding: 0px;">INFO </span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">-</span><span class="pln" style="margin: 0px; padding: 0px;">log4jExample</span><span class="pun" style="margin: 0px; padding: 0px; color: rgb(102, 102, 0);">:</span><span class="typ" style="margin: 0px; padding: 0px; color: rgb(127, 0, 85);">Hello</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">this</span><span class="pln" style="margin: 0px; padding: 0px;"> </span><span class="kwd" style="margin: 0px; padding: 0px; color: rgb(0, 0, 136);">is</span><span class="pln" style="margin: 0px; padding: 0px;"> an info message</span></pre> 
 <br>      
</div></body></html>