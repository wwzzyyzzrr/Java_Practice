<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java8 Base64</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 使用 Java8，Base64终于得到了在Java整合。 Java8现在有内置编码器和解码器的Base64编码。在Java8中，我们可以使用三种类型的Base64编码。</p> 
 <ul> 
  <li> <p> <strong>简单&nbsp;</strong>- 输出映射设置字符在A-ZA-Z0-9+/。编码器不添加任何换行输出和解码器拒绝在A-Za-z0-9+/以外的任何字符。</p> </li> 
  <li> <p> <strong>URL</strong>&nbsp;- 输出映射设置字符在A-Za-z0-9+_。输出URL和文件名安全。</p> </li> 
  <li> <p> <strong>MIME</strong>&nbsp;- 输出映射到MIME友好的格式。输出表示在每次不超过76个字符行和使用'\r'后跟一个换行符'\n'回车作为行分隔符。无行隔板的存在是为了使编码的结束输出。</p> </li> 
 </ul> 
 <h2> Nested 类</h2> 
 <table class="src" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px;  border-color: rgb(214, 214, 214); width: 496px; vertical-align: top; margin-top: 8px; margin-bottom: 8px; color: rgb(49, 49, 49);    font-size: 14px; line-height: 22px; background-color: rgb(247, 247, 247);"> 
  <tbody style="box-sizing: border-box;"> 
   <tr style="box-sizing: border-box;"> 
    <th style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px; width: 39px; background: rgb(238, 238, 238);"> S.N.</th> 
    <th style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px; background: rgb(238, 238, 238);"> Nested 类 &amp; 描述</th> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 1</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static class Base64.Decoder</b><br style="box-sizing: border-box;"> 这个类实现了一个解码器使用的Base64编码方案解码字节的数据，在RFC4648和RFC2045规定。</td> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 2</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static class Base64.Encoder</b><br style="box-sizing: border-box;"> 这个类实现一个编码器使用的Base64编码方案编码字节数据在RFC4648和RFC2045规定。</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2> 方法</h2> 
 <table class="src" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px;  border-color: rgb(214, 214, 214); width: 496px; vertical-align: top; margin-top: 8px; margin-bottom: 8px; color: rgb(49, 49, 49);    font-size: 14px; line-height: 22px; background-color: rgb(247, 247, 247);"> 
  <tbody style="box-sizing: border-box;"> 
   <tr style="box-sizing: border-box;"> 
    <th style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px; width: 39px; background: rgb(238, 238, 238);"> S.N.</th> 
    <th style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px; background: rgb(238, 238, 238);"> 方法名称 &amp; 描述</th> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 1</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static Base64.Decoder getDecoder()</b><br style="box-sizing: border-box;"> 返回Base64.Decoder解码使用基本型base64编码方案。</td> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 2</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static Base64.Encoder getEncoder()</b><br style="box-sizing: border-box;"> 返回Base64.Encoder编码使用的基本型base64编码方案。</td> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 3</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static Base64.Decoder getMimeDecoder()</b><br style="box-sizing: border-box;"> 返回Base64.Decoder解码使用MIME类型的base64解码方案。</td> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 4</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static Base64.Encoder getMimeEncoder()</b><br style="box-sizing: border-box;"> 返回Base64.Encoder编码使用MIME类型base64编码方案。</td> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 5</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static Base64.Encoder getMimeEncoder(int lineLength, byte[] lineSeparator)</b><br style="box-sizing: border-box;"> 返回Base64.Encoder编码使用指定的行长度和线分隔的MIME类型base64编码方案。</td> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 6</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static Base64.Decoder getUrlDecoder()</b><br style="box-sizing: border-box;"> 返回Base64.Decoder解码使用URL和文件名安全型base64编码方案。</td> 
   </tr> 
   <tr style="box-sizing: border-box;"> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> 7</td> 
    <td style="box-sizing: border-box; border-collapse: collapse;  border-color: rgb(214, 214, 214); padding: 5px;"> <b style="box-sizing: border-box;">static Base64.Encoder getUrlEncoder()</b><br style="box-sizing: border-box;"> 返回Base64.Decoder解码使用URL和文件名安全型base64编码方案。...</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2> 方法继承</h2> 
 <p> 这个类从以下类继承的方法：</p> 
 <ul> 
  <li> <p> java.lang.Object</p> </li> 
 </ul> 
 <h2> Base64 例子</h2> 
 <p> 选择使用任何编辑器创建以下java程序在&nbsp;C:/&gt; JAVA</p> 
 <i style="box-sizing: border-box; color: rgb(49, 49, 49);    font-size: 14px; line-height: 22px;">Java8Tester.java</i>   
 <pre class="prettyprint tryit" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 496.1875px; line-height: 16px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); cursor: default; background-image: url(http://www.yiibai.com/java8/images/try-it.jpg) !important; background-attachment: initial !important; background-size: initial !important; background-origin: initial !important; background-clip: initial !important; background-position: 100% 0%; background-repeat: no-repeat !important;">
import java.util.Base64;
import java.util.UUID;
import java.io.UnsupportedEncodingException;

public class HelloWorld {

   public static void main(String args[]){
      try {
         // Encode using basic encoder
         String base64encodedString = Base64.getEncoder().encodeToString("YiiBai?java8".getBytes("utf-8"));
         System.out.println("Base64 Encoded String (Basic) :" + base64encodedString);

         // Decode
         byte[] base64decodedBytes = Base64.getDecoder().decode(base64encodedString);
         System.out.println("Original String: "+new String(base64decodedBytes, "utf-8"));

         base64encodedString = Base64.getUrlEncoder().encodeToString("YiiBai?java8".getBytes("utf-8"));
         System.out.println("Base64 Encoded String (URL) :" + base64encodedString);

         StringBuilder stringBuilder = new StringBuilder();
         for (int i = 0; i &lt; 10; ++i) {
            stringBuilder.append(UUID.randomUUID().toString());
         }

         byte[] mimeBytes = stringBuilder.toString().getBytes("utf-8");
         String mimeEncodedString = Base64.getMimeEncoder().encodeToString(mimeBytes);
            System.out.println("Base64 Encoded String (MIME) :"+mimeEncodedString);
      }catch(UnsupportedEncodingException e){
         System.out.println("Error :"+e.getMessage());
      }
   }
}</pre> 
 <h2> 验证结果</h2> 
 <p> 使用javac编译如下编译类</p> 
 <pre class="result" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 496.1875px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
C:\JAVA&gt;javac Java8Tester.java</pre> 
 <p> 现在运行Java8Tester看到的结果</p> 
 <pre class="result" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 496.1875px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
C:\JAVA&gt;java Java8Tester</pre> 
 <p> 看到结果</p> 
 <pre class="result" style="box-sizing: border-box; Menlo, Monaco, Consolas, 'Courier New', monospace; margin-bottom: 0px; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; width: 496.1875px; font-size: 12px; overflow: auto; color: rgb(49, 49, 49); line-height: 22px; background-color: rgb(241, 241, 241);">
Base64 Encoded String (Basic) :VHV0b3JpYWxzUG9pbnQ/amF2YTg=              
Original String: YiiBai?java8                                    
Base64 Encoded String (URL) :VHV0b3JpYWxzUG9pbnQ_amF2YTg=                
Base64 Encoded String (MIME) :ZWJjY2YzZWUtYmUwZC00Yjg1LTlkYjUtNWUyMzBlNWI
4ZGQ4ZjE1NGJmMjEtNTdkNi00YzM1LTg4                                        
MzYtNDZlYzNhZDM2NTdkZmQzY2RiNzMtMTU1OC00ZjBmLWFmZGQtM2YyZWU3MDYzZjQwNzVhY
WQ0                                                                      
ODctZWEyZS00YzM2LWEyZmUtOGVkMmNjMGNmZGM3MTg5YWUyZGQtMzg4MS00M2NkLWI2NDEtZ
jNh                                                                      
Zjk2OGIxZDU2YzkzODZlYTUtNjljNC00ZmIyLTkzYTQtMzVlOTFlNjdlY2E0MDcwNWExMWItM
mE4                                                                      
Yy00OTljLTg2NmItMjE3ZTZmMmIyY2NiNzI2MjAwZWQtMjI0NC00YzJhLWJiMGItOTczMDJkM
zIx                                                                      
NGFkY2QyZmVhODItNmUyOS00MWNjLWFlODItNzdmNzRhYmQ4NGU5ZGQ3ZjY3NzktZjgwYi00M
zlk                                                                      
LTlmNDgtOTNlNTIwYzIzZDcy</pre> 
 <br>      
</div></body></html>