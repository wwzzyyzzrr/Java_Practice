<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Struts2配置Action类的静态参数</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div> 
   <span style="line-height:1.5;">在某些情况下，可能需要一个Action类分配一些预定义或静态的参数值。</span> 
  </div> 
 </div> 
 <div> 
  <div> 
   <h2> 
    <div>
      为动作定义静态参数 
    </div> </h2> 
   <div>
     在Struts2，可以在 struts.xml&nbsp;文件中的通过&lt;param&gt;标记进行配置，例如， 
   </div> 
   <p style="background-color:inherit;"> <strong>struts.xml</strong> </p> 
   <pre>&lt;struts&gt;

   &lt;constant name="struts.custom.i18n.resources" value="global" /&gt;
   &lt;constant name="struts.devMode" value="true" /&gt;
	
   &lt;package name="default" namespace="/" extends="struts-default"&gt;
	&lt;action name="locale" class="com.yiibai.common.action.LocaleAction"&gt;
		&lt;result name="SUCCESS"&gt;pages/welcome.jsp&lt;/result&gt;
		&lt;param name="EnglishParam"&gt;English&lt;/param&gt;
    	        &lt;param name="ChineseParam"&gt;Chinese&lt;/param&gt;
     	        &lt;param name="FranceParam"&gt;France&lt;/param&gt;
	&lt;/action&gt;
   &lt;/package&gt;	
&lt;/struts&gt;</pre> 
   <div>
     它分配三个预定义的参数值到LocaleAction&nbsp;Action类。 
   </div> 
   <h2> 
    <div>
      从动作获取静态参数 
    </div> </h2> 
   <p> 要从struts.xml中获取静态参数值，Action类必须实现参数化Parameterizable接口。动作的静态参数是由staticParams拦截，其中包括在默认堆栈控制 </p> 
   <div> 
    <div>
      动作的静态参数是由staticParams拦截，包括在默认堆栈 “struts-default.xml”&nbsp;中控制。 
    </div> 
   </div> 
   <h2> 1. Map属性 </h2> 
   <div>
     在操作类初始化期间，staticParams拦截器将通过动作类的setParams()方法获取预先定义的参数值。 
   </div> 
   <pre>//...
import com.opensymphony.xwork2.config.entities.Parameterizable;

public class LocaleAction implements Parameterizable{

	Map&lt;String, String&gt; params;
	//...
	public void setParams(Map&lt;String, String&gt; params) {
		this.params = params;
	}
}</pre> 
   <h2> 2. JavaBean 属性 </h2> 
   <p> 在动作类的初始化，如果创建了getter和setter方法得当，staticParams拦截器将设置预先定义的参数值，以对应于该“参数”的每JavaBean属性。 </p>   
   <pre>//...
import com.opensymphony.xwork2.config.entities.Parameterizable;

public class LocaleAction implements Parameterizable{

	String englishParam;
	String chineseParam;
	String franceParam;
	
	public String getEnglishParam() {
		return englishParam;
	}

	public void setEnglishParam(String englishParam) {
		this.englishParam = englishParam;
	}

	public String getChineseParam() {
		return chineseParam;
	}

	public void setChineseParam(String chineseParam) {
		this.chineseParam = chineseParam;
	}

	public String getFranceParam() {
		return franceParam;
	}

	public void setFranceParam(String franceParam) {
		this.franceParam = franceParam;
	}
    //...
}</pre> 
  </div> 
  <p> </p>
  <h2> 2. 运行实例 </h2> 
  <p> 在浏览器中打开URL：http://localhost:8080/configure-param/locale.action </p> 
  <p> <img src="/uploads/tutorial/20151203/1-151203202621S3.png" alt=""> </p> 
  <p></p> 
  <div> 
   <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/2fd367e0ff19453bb8b377cf7d5725ff/clipboard.png"> 
  </div> 
  <div>
    代码下载(configure-param) -&nbsp;
   <a target="_blank" href="http://pan.baidu.com/s/1dDmGDK9">http://pan.baidu.com/s/1dDmGDK9</a> 
  </div> 
 </div>
 <br>      
</div></body></html>