<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">如何配置Struts2全局资源包</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    通常情况下，您可能需要一个全局资源包(属性文件)来存储信息，可用于在应用程序中的所有类。 
  </div> 
 </div> 
 <div> 
  <div>
    在Struts2，有三种方式来配置全局资源包： 
  </div> 
  <h2> 1. struts.properties </h2> 
  <div>
    配置全局资源包在&nbsp;“struts.properties”&nbsp;文件，在这里你定义一个名为“global.properties”的属性文件为全局资源包。 
  </div> 
  <pre>struts.custom.i18n.resources = global</pre> 
  <div>
    对于多个资源包，只是用逗号分隔属性文件。 
  </div> 
  <pre>struts.custom.i18n.resources = global, another-properties-file</pre> 
  <h2> 2. struts.xml </h2> 
  <div>
    或者，可以配置全局资源包在&nbsp;struts.xml&nbsp;配置文件中的常量值。 
  </div> 
  <pre>&lt;struts&gt;
   &lt;constant name="struts.custom.i18n.resources" value="global" /&gt; 	
&lt;/struts&gt;</pre> 
  <h2> 3. listener </h2> 
  <div>
    最后一个方法是使用servlet监听器加载一个属性文件作为全局资源包。 
  </div> 
  <pre>package com.yiibai.common.listener;

import javax.servlet.ServletContextEvent;
import javax.servlet.ServletContextListener;

import com.opensymphony.xwork2.util.LocalizedTextUtil;

public class GlobalMessagesListener implements ServletContextListener {
	 
	  private static final String DEFAULT_RESOURCE = "global";

	  public void contextInitialized(ServletContextEvent arg0) {
	    LocalizedTextUtil.addDefaultResourceBundle(DEFAULT_RESOURCE);
	  }

	  public void contextDestroyed(ServletContextEvent arg0) {
	  }
}</pre> 
  <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:16px;"> <strong>web.xml</strong> </p>   
  <pre>&lt;!DOCTYPE web-app PUBLIC
 "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
 "http://java.sun.com/dtd/web-app_2_3.dtd" &gt;

&lt;web-app&gt;
  &lt;display-name&gt;Struts 2 Web Application&lt;/display-name&gt;
  
  &lt;filter&gt;
	&lt;filter-name&gt;struts2&lt;/filter-name&gt;
	&lt;filter-class&gt;org.apache.struts2.dispatcher.FilterDispatcher&lt;/filter-class&gt;
  &lt;/filter&gt;
  
  &lt;filter-mapping&gt;
	&lt;filter-name&gt;struts2&lt;/filter-name&gt;
	&lt;url-pattern&gt;/*&lt;/url-pattern&gt;
  &lt;/filter-mapping&gt;
  
  &lt;listener&gt;
  	&lt;listener-class&gt;
          com.yiibai.common.listener.GlobalMessagesListener
        &lt;/listener-class&gt;
  &lt;/listener&gt;

&lt;/web-app&gt;</pre> 
 </div> 
 <div style="font-family:微软雅黑;font-size:14px;background-color:#FFFFFF;"> 
  <span style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:16px;">下载源代码(globalresource)–&nbsp;<a target="_blank" href="http://pan.baidu.com/s/1sj1Rg7r">http://pan.baidu.com/s/1sj1Rg7r</a></span> 
 </div>
 <br>      
</div></body></html>