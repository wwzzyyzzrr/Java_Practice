<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Struts2 include(包含)多个配置文件</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div> 
   <span style="line-height:1.5;">Struts&nbsp;2自带有“包含文件”功能，包含多个Struts配置文件合并为一个单元。</span> 
  </div> 
 </div> 
 <h2> 
  <div>
    单个Struts配置文件 
  </div> </h2> 
 <div>
   让我们来看看一个糟糕的 Struts&nbsp;2 配置示例。 
 </div> 
 <p> <strong>struts.xml</strong> </p> 
 <pre>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd"&gt;
 
&lt;struts&gt;
 
&lt;package name="default" namespace="/" extends="struts-default"&gt;
&lt;/package&gt;

&lt;package name="audit" namespace="/audit" extends="struts-default"&gt;
	&lt;action name="WelcomeAudit"&gt;
		&lt;result&gt;pages/welcome_audit.jsp&lt;/result&gt;
	&lt;/action&gt;
&lt;/package&gt;

&lt;package name="user" namespace="/user" extends="struts-default"&gt;
	&lt;action name="WelcomeUser"&gt;
		&lt;result&gt;pages/welcome_user.jsp&lt;/result&gt;
	&lt;/action&gt;
&lt;/package&gt;

&lt;/struts&gt;&nbsp;</pre> 
 <p> 在上面的Struts配置文件中，组织所有“用户”和“审核”配置设置在一个文件中，这不是建议的，必须回避。应该打破这种形式，而将struts.xml文件分成更小的模块相关的部分。 </p> 
 <h2> 
  <div>
    多个Struts配置文件 
  </div> </h2> 
 <div>
   在Struts2，应该给每个模块一个Struts配置文件。在这种情况下，可以创建三个文件： 
 </div> 
 <ol> 
  <li> audit-struts.xml –&nbsp;将所有审计模块设置在这里。 </li> 
  <li> user-struts.xml –&nbsp;将所有用户模块设置在这里。 </li> 
  <li> struts.xml –&nbsp;默认设置，包含 struts-audit.xml 和 Struts-user.xml 两个文件。 </li> 
 </ol> 
 <p> <strong>struts-audit.xml</strong> </p> 
 <pre>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd"&gt;
 
&lt;struts&gt;

&lt;package name="audit" namespace="/audit" extends="struts-default"&gt;
	&lt;action name="WelcomeAudit"&gt;
		&lt;result&gt;pages/welcome_audit.jsp&lt;/result&gt;
	&lt;/action&gt;
&lt;/package&gt;

&lt;/struts&gt;</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <strong>struts-user.xml</strong> </p>   
 <pre>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd"&gt;
 
&lt;struts&gt;
 
&lt;package name="user" namespace="/user" extends="struts-default"&gt;
	&lt;action name="WelcomeUser"&gt;
		&lt;result&gt;pages/welcome_user.jsp&lt;/result&gt;
	&lt;/action&gt;
&lt;/package&gt;

&lt;/struts&gt;</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <strong>struts.xml</strong> </p> 
 <pre>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd"&gt;
 
&lt;struts&gt;
 
&lt;package name="default" namespace="/" extends="struts-default"&gt;
&lt;/package&gt;

&lt;include file="conf/user-struts.xml"&gt;&lt;/include&gt;
&lt;include file="conf/audit-struts.xml"&gt;&lt;/include&gt;

&lt;/struts&gt;</pre> 
 <p> 现在文件夹结构看起来如下： </p> 
 <p> <img src="/uploads/tutorial/20151111/1-151111201401929.png" alt=""> </p> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/fbf52f989d7e468bb88a38742b0cfc39/clipboard.png"> </p>
 <br>      
</div></body></html>