<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Struts2 @ResultPath注释示例</h1><div style="width:100%;float:left;" class="article-content">   
 <div>
   在Struts 2中,&nbsp;@ResultPath 注解用于控制Struts2找到存储的结果或JSP页面。默认情况下，它会找到结果页在&nbsp;“WEB-INF/content/” 文件夹。 
 </div> 
 <div style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#E6E6FC;"> 
  <span style="background-color:inherit;font-family:微软雅黑;font-size:14px;line-height:1.5;">不知道为什么在Struts2注解设置</span>&nbsp;“WEB-INF/content/” 作为默认目录, 但是大部分的应用并不将结果页放入到 “WEB-INF/content/” 目录. 可能
  <span style="line-height:1.5;">Struts2惯例也并不是一个标准的文件夹结构。</span>
  <span style="line-height:1.5;">&nbsp;</span>
  <span style="background-color:inherit;font-family:微软雅黑;font-size:14px;line-height:1.5;">我一般是在 Struts&nbsp;2 根路径作为默认的文件夹。</span> 
 </div> 
 <h2> @ResultPath 示例 </h2> 
 <h2> 1. 默认结果路径 </h2> 
 <p> 在登录动作类,设置 “/User” 作为命名空间, 并重定向到 “pages/login.jsp” 页面。 </p> 
 <p> P.S&nbsp;假设struts2example是上下文servlet名称 </p> 
 <pre class="prettyprint lang-java">@Namespace("/User")
@Result(name="success",location="pages/login.jsp")
public class LoginAction extends ActionSupport{
}</pre> 
 <p> 访问它，如下： </p> 
 <pre>http<span style="background-color:inherit;color:#999999;">:</span><span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span><span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>localhost<span style="background-color:inherit;color:#999999;">:</span><span style="background-color:inherit;color:#990055;">8080</span><span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>struts2example<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>User<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>login<span style="background-color:inherit;color:#999999;">.</span>action</pre> 
 <div>
   Struts&nbsp;2将从默认位置找到“login.jsp”结果页面： 
 </div> 
 <pre><span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>struts2example<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>WEB<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">-</span>INF<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>content<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>User<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>pages<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>login<span style="background-color:inherit;color:#999999;">.</span>jsp</pre> 
 <h2> 2. 定制结果路径 </h2> 
 <p> 如果JSP结果页面存储在其他位置，那么可以使用 @ResultPath注释设置改变它。 </p> 
 <pre class="prettyprint lang-java">@Namespace("/User")
@ResultPath(value="/")
@Result(name="success",location="pages/login.jsp")
public class LoginAction extends ActionSupport{
}</pre> 
 <p> 再一次访问： </p>   
 <pre>http<span style="background-color:inherit;color:#999999;">:</span><span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span><span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>localhost<span style="background-color:inherit;color:#999999;">:</span><span style="background-color:inherit;color:#990055;">8080</span><span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/s</span>truts2example<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>User<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>login<span style="background-color:inherit;color:#999999;">.</span>action</pre> 
 <div>
   现在Struts2将从不同的位置找到“login.jsp”结果页面： 
 </div> 
 <pre><span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>Struts2Example<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>User<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>pages<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">/</span>login<span style="background-color:inherit;color:#999999;">.</span>jsp</pre> 
 <h2> 全局@ResultPath </h2> 
 <p> @ResultPath只适用于类级别。在全局范围内应用它，可以在 struts.xml 文件中进行配置。 </p> 
 <p> struts.xml </p> 
 <pre class="prettyprint lang-xml">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd"&gt;
&lt;struts&gt;
	&lt;constant name="struts.convention.result.path" value="/"/&gt;
&lt;/struts&gt;</pre> 
 <h2> 参考 </h2> 
 <ol> 
  <li> <a target="_blank" href="http://struts.apache.org/2.1.8.1/docs/convention-plugin.html#ConventionPlugin-ResultPathannotation">Struts 2 @ResultPath 注解文档</a> </li> 
 </ol>
 <br>      
</div></body></html>