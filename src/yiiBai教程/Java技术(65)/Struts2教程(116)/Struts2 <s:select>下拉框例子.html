<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Struts2 &lt;s:select&gt;下拉框例子</h1><div style="width:100%;float:left;" class="article-content">   
 <p> <span style="color:#535B60;line-height:22px;background-color:#FFFFFF;">这里创建一个Web工程：strut2selectdropdown，来演示</span><span style="color:#535B60;line-height:22px;background-color:#FFFFFF;">在多个复选框</span><span style="color:#535B60;line-height:22px;background-color:#FFFFFF;">如何设置的默认值，整个项目的结构如下图所示：</span> </p> 
 <p> <img src="/uploads/tutorial/20151115/1-151115102I0920.png" alt=""> </p> 
 <p> 在Struts2，可以使用 &lt;s:select&gt; 标签来创建一个HTML下拉框。 </p> 
 <pre>&lt;s:select label="What's your favor search engine" 
		headerKey="-1" headerValue="Select Search Engines"
		list="searchEngine" 
		name="yourSearchEngine" /&gt;</pre> 
 <p> 产生下面的HTML代码... </p> 
 <pre>&lt;td class="tdLabel"&gt;
   &lt;label for="resultAction_yourSearchEngine" class="label"&gt;
       What's your favor search engine:
   &lt;/label&gt;
&lt;/td&gt; 
&lt;td&gt;
&lt;select name="yourSearchEngine" id="resultAction_yourSearchEngine"&gt; 
    &lt;option value="-1"&gt;Select Search Engines&lt;/option&gt; 
    &lt;option value="google.com"&gt;google.com&lt;/option&gt; 
    &lt;option value="bing.com"&gt;bing.com&lt;/option&gt; 
    &lt;option value="yahoo.com"&gt;yahoo.com&lt;/option&gt; 
    &lt;option value="baidu.com"&gt;baidu.com&lt;/option&gt; 
&lt;/select&gt; 
&lt;/td&gt;</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 其语法不需要太多解释，只不过是“headerKey”和“headerValue”。“headerKey”是一个在下拉列表中项用来表示键，而“headerValue”是在下拉列表中的项目表示值。 </p> 
 <div class="note" style="border:1px solid #D1D1E8;padding:20px;margin:20px 0px;color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#E6E6FC;">
   要自动选择下拉框中的默认值，看看这篇文章：
  <a target="_blank" href="http://www.yiibai.com/struts_2/how-to-auto-select-drop-down-box-value-in-struts-2.html">自动选择Struts2下拉框的值</a> 
 </div> 
 <h2> Struts 2&nbsp;&lt;s:select&gt;&nbsp;示例 </h2> 
 <p> 一个通过&lt;s:select&gt;创建下拉框完整的Struts2的例子，和填充通过Java列表，OGNL列表中选择选项，保存所选的值，并在另一页显示。 </p> 
 <h2> 1. 动作 - Action </h2> 
 <p> Action类来生成并按住选定的下拉框中选项。<br> <strong>SelectAction.java</strong> </p> 
 <pre>package com.yiibai.common.action;

import java.util.ArrayList;
import java.util.List;

import com.opensymphony.xwork2.ActionSupport;

public class SelectAction extends ActionSupport{

	private List&lt;String&gt; searchEngine;

	private String yourSearchEngine;
	private String yourMonth;
	
	public String getYourMonth() {
		return yourMonth;
	}

	public void setYourMonth(String yourMonth) {
		this.yourMonth = yourMonth;
	}

	public List&lt;String&gt; getSearchEngine() {
		return searchEngine;
	}

	public void setSearchEngine(List&lt;String&gt; searchEngine) {
		this.searchEngine = searchEngine;
	}

	public String getYourSearchEngine() {
		return yourSearchEngine;
	}

	public void setYourSearchEngine(String yourSearchEngine) {
		this.yourSearchEngine = yourSearchEngine;
	}

	public String getDefaultSearchEngine() {
		return "yahoo.com";
	}
	
	public SelectAction(){
		
		searchEngine = new ArrayList&lt;String&gt;();
		searchEngine.add("google.com");
		searchEngine.add("bing.com");
		searchEngine.add("yahoo.com");
		searchEngine.add("baidu.com");
	}

	public String execute() {
		return SUCCESS;
	}
	
	public String display() {
		return NONE;
	}
	
}</pre> 
 <h2> 2. 结果页面 </h2> 
 <p> 渲染下拉框中通过“&lt;s:select&gt;”标签，并填充通过Java列表，OGNL列表中的选择选项 </p> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <strong>select.jsp</strong> </p> 
 <pre>&lt;%@ taglib prefix="s" uri="/struts-tags" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;h1&gt;Struts 2 drop down box example&lt;/h1&gt;

&lt;s:form action="resultAction" namespace="/"&gt;

&lt;h2&gt;
	&lt;s:select label="What's your favor search engine" 
		headerKey="-1" headerValue="Select Search Engines"
		list="searchEngine" 
		name="yourSearchEngine" 
		value="defaultSearchEngine" /&gt;
&lt;/h2&gt; 

&lt;h2&gt;
	&lt;s:select label="Select a month" 
		headerKey="-1" headerValue="Select Month"
		list="#{'1':'Jan', '2':'Feb', '3':'Mar', '4':'Apr'}" 
		name="yourMonth" 
		value="2" /&gt;
&lt;/h2&gt; 

&lt;s:submit value="submit" name="submit" /&gt;
	
&lt;/s:form&gt;

&lt;/body&gt;
&lt;/html&gt;</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <strong>result.jsp</strong> </p>   
 <pre>&lt;%@ taglib prefix="s" uri="/struts-tags" %&gt;
&lt;html&gt;

&lt;body&gt;
&lt;h1&gt;Struts 2 drop down box example&lt;/h1&gt;

&lt;h2&gt;
  Favor search engine : &lt;s:property value="yourSearchEngine"/&gt;
&lt;/h2&gt; 

&lt;h2&gt;
  Selected month : &lt;s:property value="yourMonth"/&gt;
&lt;/h2&gt; 

&lt;/body&gt;
&lt;/html&gt;</pre> 
 <h2 style="font-family:'Helvetica Neue', Helvetica,  font-weight:500;color:#333333;font-size:24px;background-color:#FFFFFF;"> 3. struts.xml </h2> 
 <pre>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd"&gt;
 
&lt;struts&gt;

 &lt;constant name="struts.devMode" value="true" /&gt;
 	
&lt;package name="default" namespace="/" extends="struts-default"&gt;
		
   &lt;action name="selectAction" 
         class="com.yiibai.common.action.SelectAction" method="display"&gt;
	&lt;result name="none"&gt;/pages/select.jsp&lt;/result&gt;
   &lt;/action&gt;
		
   &lt;action name="resultAction" class="com.yiibai.common.action.SelectAction"&gt;
	&lt;result name="success"&gt;/pages/result.jsp&lt;/result&gt;
   &lt;/action&gt;
  &lt;/package&gt;
	
&lt;/struts&gt;</pre> 
 <h2 style="font-family:'Helvetica Neue', Helvetica,  font-weight:500;color:#333333;font-size:24px;background-color:#FFFFFF;"> 5. 运行实例 </h2> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <em>http://localhost:8080/strut2selectdropdown/selectAction.action</em> </p> 
 <div class="pic" style="border:1px solid #DDDDDD;margin:20px 0px;padding:20px;text-align:center;color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#F9F9F9;"> 
  <img src="/uploads/tutorial/20151115/1-151115102K4293.png" alt=""> 
 </div> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <em>http://localhost:8080/strut2selectdropdown/resultAction.action</em> </p> 
 <div class="pic" style="border:1px solid #DDDDDD;margin:20px 0px;padding:20px;text-align:center;color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#F9F9F9;"> 
  <img src="/uploads/tutorial/20151115/1-151115102U3a5.png" alt=""> 
 </div> 
 <h2 style="font-family:'Helvetica Neue', Helvetica,  font-weight:500;color:#333333;font-size:24px;background-color:#FFFFFF;"> 参考 </h2> 
 <ol style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 
  <li> <a target="_blank" href="http://struts.apache.org/2.x/docs/select.html">Struts 2 select 文档</a> </li> 
 </ol> 
 <p> <br> </p> 
 <div class="download" style="padding:40px 85px;border:1px solid #CEEBCE;color:#333333;font-family:'Helvetica Neue', Helvetica,  background:url(http://www.yiibai.com/wp-content/themes/yiibai/images/download.png) 25px 25px no-repeat #DFF7DF;">
   下载代码 –&nbsp;
  <a target="_blank" href="http://pan.baidu.com/s/1eQGzqHO">http://pan.baidu.com/s/1eQGzqHO</a> 
 </div>
 <br>      
</div></body></html>