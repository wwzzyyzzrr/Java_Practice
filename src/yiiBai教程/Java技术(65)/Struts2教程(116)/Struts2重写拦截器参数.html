<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Struts2重写拦截器参数</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    在Struts2中，可以设置或通过普通的&lt;param&gt;标签重写拦截器的参数。见下面的例子： 
  </div> 
 </div> 
 <div> 
  <pre>&lt;package name="default" namespace="/" extends="struts-default"&gt;
   &lt;action name="whateverAction" 
	class="com.yiibai.common.action.WhateverAction" &gt;
	&lt;interceptor-ref name="workflow"&gt;
		&lt;param name="excludeMethods"&gt;whateverMethod&lt;/param&gt;
	&lt;/interceptor-ref&gt;
	&lt;result name="success"&gt;pages/whatever.jsp&lt;/result&gt;
   &lt;/action&gt;		
&lt;/package&gt;&nbsp;</pre> 
  <p> 然而，在上面的代码片段，动作类被声明为自己的拦截器，&nbsp;它会导致继承“defaultStack”拦截器的直接丢失。 </p> 
  <p> 如果你想保持“defaultStack”拦截器，并覆盖工作流的excludeMethods参数呢？没问题，试试这个： </p> 
  <pre>&lt;package name="default" namespace="/" extends="struts-default"&gt;
   &lt;action name="whateverAction" 
	class="com.yiibai.common.action.WhateverAction" &gt;
	&lt;interceptor-ref name="defaultStack"&gt;
		&lt;param name="workflow.excludeMethods"&gt;whateverMethod&lt;/param&gt;
	&lt;/interceptor-ref&gt;
	&lt;result name="success"&gt;pages/whatever.jsp&lt;/result&gt;
   &lt;/action&gt;		
&lt;/package&gt;</pre> 
  <div>
    上面的代码片段将保持“defaultStack”拦截并覆盖“workflow”参数。 
  </div> 
  <h2> 参考 </h2> 
  <ol> 
   <li> <a target="_blank" href="http://struts.apache.org/2.1.8/docs/interceptors.html">Struts2拦截器文档</a>&nbsp; </li> 
   <li> <a target="_blank" href="http://struts.apache.org/2.0.14/docs/workflow-interceptor.html">Struts2流程拦截器文档</a> </li> 
  </ol> 
 </div>
 <br>      
</div></body></html>