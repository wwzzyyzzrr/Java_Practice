<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Struts2 &lt;s:radio&gt;单选按钮例子</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 在Struts2，可以使用&lt;s:radio&gt;标签来创建一个HTML单选按钮。有很多方法来填充数据到单选按钮，可以通过List, OGNL 或 Object。请查看下面的例子就知道了。 </p> 
 <h2> Struts2 &lt;s:radio&gt; 示例 </h2> 
 <p> 举个例子来说明如何使用列表，OGNL和对象数据填充到Struts2中，使用&lt;s:radio&gt;标签创建一个单选按钮。 </p> 
 <h2> 1. 动作 - Action </h2> 
 <p> Action类来创建性别和语言值单选按钮列表。 </p> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <strong>RadioButtonAction.java</strong> </p> 
 <pre>package com.yiibai.common.action;

import java.util.ArrayList;
import java.util.List;

import com.yiibai.common.model.Language;
import com.opensymphony.xwork2.ActionSupport;

public class RadioButtonAction extends ActionSupport{

	private List&lt;String&gt; genders;
	private List&lt;Language&gt; languages ;
	
	private String yourGender;
	private String yourAnswer;
	private String yourLanguage;
	
	private static final String MALE = "male";
	private static final String FEMALE = "female";
	private static final String UNKNOWN = "unknown";
	
	public RadioButtonAction(){
		
		genders = new ArrayList&lt;String&gt;();
		genders.add(MALE);
		genders.add(FEMALE);
		genders.add(UNKNOWN);
		
		languages = new ArrayList&lt;Language&gt;();
		languages.add( new Language("EN", "English") );
		languages.add( new Language("FR", "France") );
		languages.add( new Language("CN_ZH", "Chinese") );
		languages.add( new Language("DE", "German") );
		
	}
	
	//return default gender value
	public String getDefaultGenderValue(){
		return UNKNOWN;
	}

	//return default language value
	public String getDefaultLanguageValue(){
		return "CN_ZH";
	}
	
	public String execute() {
		return SUCCESS;
	}
	public String display() {
		return NONE;
	}
	
	//getter ad setter methods
}</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <strong>Language.java</strong> </p> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <strong> </strong> </p> 
 <pre class="prettyprint lang-java"><strong>package com.yiibai.common.model;

public class Language{

	private String languageCode;
	private String languageDisplay;
	
	public String getLanguageCode() {
		return languageCode;
	}
	public void setLanguageCode(String languageCode) {
		this.languageCode = languageCode;
	}
	public String getLanguageDisplay() {
		return languageDisplay;
	}
	public void setLanguageDisplay(String languageDisplay) {
		this.languageDisplay = languageDisplay;
	}
	
	public Language(String languageCode, String languageDisplay) {
		this.languageCode = languageCode;
		this.languageDisplay = languageDisplay;
	}
}</strong></pre> 
 <h2 style="font-family:'Helvetica Neue', Helvetica,  font-weight:500;color:#333333;font-size:24px;background-color:#FFFFFF;"> 2. 结果页面 </h2> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 结果页面是使用Struts2 “s:radio” 通过List, OGNL 和 object来创建的三个单选按钮。 </p> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <strong>radiobutton.jsp</strong> </p> 
 <pre>&lt;%@ taglib prefix="s" uri="/struts-tags" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;h1&gt;Struts 2 radio button example&lt;/h1&gt;

&lt;s:form action="resultAction" namespace="/"&gt;

&lt;h2&gt;
  &lt;s:radio label="Gender" name="yourGender" list="genders" value="defaultGenderValue" /&gt;
  &lt;s:radio label="Gender" name="yourLanguage" list="languages" 
      listKey="languageCode" listValue="languageDisplay" value="defaultLanguageValue" /&gt;
  &lt;s:radio label="Answer" name="yourAnswer" list="#{'1':'Yes','2':'No'}" value="2" /&gt;
&lt;/h2&gt; 

&lt;s:submit value="submit" name="submit" /&gt;
	
&lt;/s:form&gt;

&lt;/body&gt;
&lt;/html&gt;a</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <strong>result.jsp</strong> </p> 
 <pre>&lt;%@ taglib prefix="s" uri="/struts-tags" %&gt;
&lt;html&gt;

&lt;body&gt;
&lt;h1&gt;Struts 2 radio button example&lt;/h1&gt;

&lt;h2&gt;
  Your Selected Gender : &lt;s:property value="yourGender"/&gt;
&lt;/h2&gt; 
&lt;h2&gt;
  Your Selected Language : &lt;s:property value="yourLanguage"/&gt;
&lt;/h2&gt; 
&lt;h2&gt;
  Your Selected Answer : &lt;s:property value="yourAnswer"/&gt;
&lt;/h2&gt; 

&lt;/body&gt;
&lt;/html&gt;</pre> 
 <h2 style="font-family:'Helvetica Neue', Helvetica,  font-weight:500;color:#333333;font-size:24px;background-color:#FFFFFF;"> 3. struts.xml </h2>   
 <pre>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd"&gt;
 
&lt;struts&gt;

&lt;constant name="struts.devMode" value="true" /&gt;
 	
  &lt;package name="com.yiibai.common.action" namespace="/" extends="struts-default"&gt;
		
    &lt;action name="radioButtonAction" 
         class="com.yiibai.common.action.RadioButtonAction" method="display"&gt;
		&lt;result name="none"&gt;/pages/radiobutton.jsp&lt;/result&gt;
    &lt;/action&gt;
		
    &lt;action name="resultAction" class="com.yiibai.common.action.RadioButtonAction"&gt;
		&lt;result name="success"&gt;/pages/result.jsp&lt;/result&gt;
    &lt;/action&gt;
  &lt;/package&gt;
	
&lt;/struts&gt;</pre> 
 <h2 style="font-family:'Helvetica Neue', Helvetica,  font-weight:500;color:#333333;font-size:24px;background-color:#FFFFFF;"> 5. 示例 </h2> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <em>http://localhost:8080/struts2radio/radioButtonAction.action</em> </p> 
 <div class="pic" style="border:1px solid #DDDDDD;margin:20px 0px;padding:20px;text-align:center;color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#F9F9F9;"> 
  <img src="/uploads/tutorial/20151114/1-151114214953A6.png" alt="">
  <br> 
 </div> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <em>http://localhost:8080/struts2radio/resultAction.action</em> </p> 
 <div class="pic" style="border:1px solid #DDDDDD;margin:20px 0px;padding:20px;text-align:center;color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#F9F9F9;"> 
  <img src="/uploads/tutorial/20151114/1-151114215029361.png" alt="">
  <br> 
 </div> 
 <div class="note" style="border:1px solid #D1D1E8;padding:20px;margin:20px 0px;color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#E6E6FC;">
   要了解如何预选值，读这篇文章 –&nbsp;
  <a target="_blank" href="http://www.yiibai.com/struts_2/how-to-preselect-a-radio-button-value-in-struts-2.html">在Struts2的单选按钮预选值</a> 
 </div> 
 <h2 style="font-family:'Helvetica Neue', Helvetica,  font-weight:500;color:#333333;font-size:24px;background-color:#FFFFFF;"> 参数 </h2> 
 <ol style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 
  <li> <a target="_blank" href="http://struts.apache.org/2.0.11.2/docs/radio.html">http://struts.apache.org/2.0.11.2/docs/radio.html</a> </li> 
  <li> <a target="_blank" href="http://struts.apache.org/2.1.8.1/docs/struts-2-form-tags.html">http://struts.apache.org/2.1.8.1/docs/struts-2-form-tags.html</a> </li> 
 </ol>
 <br>      
</div></body></html>