<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Struts2 &lt;s:param&gt;标签示例</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div> 
   <span style="line-height:1.5;">Struts2 &lt;s:</span>
   <span style="line-height:1.5;">param</span>
   <span style="line-height:1.5;">&gt;</span>
   <span style="line-height:1.5;">标签被用来参数化其他标签。</span>
   <span style="line-height:1.5;">&nbsp;</span>
   <span style="line-height:1.5;">但是，当称明&lt;s:param&gt;标签，“参数值”可以有两种定义方式：</span> 
  </div> 
 </div> 
 <p> <br> </p> 
 <ol> 
  <li> “value” 属性 </li> 
  <li> 
   <div>
     param标签的开始和结束之间的文本 
   </div> </li> 
 </ol> 
 <div>
   例如， 
 </div> 
 <pre>&lt;param name="fruit"&gt;Banana&lt;/param&gt;  {Case 1}
&lt;param name="fruit" value="Banana"/&gt; {Case 2}&nbsp;</pre> 
 <div>
   在Struts2中，都是表现一个完全不同的意义。&nbsp;在“Case 1”中,&nbsp;值被认为是一个java.lang.String对象;&nbsp;而在“Case 2”中,&nbsp;值被认为是一个 java.lang.Object&nbsp;对象。 
 </div> 
 <div>
   上述声明用一些例子很好地说明： 
 </div> 
 <h2> 示例1 </h2> 
 <div>
   通过“param”标签设置“字符串”值转换到&nbsp;bean属性，必须这样声明 
 </div> 
 <pre>&lt;s:bean name="com.yiibai.common.Person" var="personBean"&gt;
	&lt;s:param name="nickName"&gt;yiibai&lt;/s:param&gt;
&lt;/s:bean&gt;</pre> 
 <div>
   而不是 
  <pre>&lt;s:bean name="com.yiibai.common.Person" var="personBean"&gt;
	&lt;s:param name="nickName" value="yiibai"&gt;&lt;/s:param&gt;
&lt;/s:bean&gt;</pre> 
  <div>
    如果你声明“字符串”的值在“value”属性中，Struts2 会忽略它。 
  </div> 
 </div> 
 <h2> 示例2 </h2> 
 <div>
   通过&lt;s:param&gt;标签设置&nbsp;java.lang.Object&nbsp;对象转换成&nbsp;bean&nbsp;属性，这样声明 
 </div> 
 <pre>&lt;s:bean name="com.yiibai.common.Fruit" var="fruitBean"&gt;
	&lt;s:param name="fruitName"&gt;Banana&lt;/s:param&gt;
&lt;/s:bean&gt;

&lt;s:bean name="com.yiibai.common.Person" var="personBean"&gt;
	&lt;s:param name="favorFruit" value="#fruitBean"&gt;&lt;/s:param&gt;
&lt;/s:bean&gt;</pre> 
 <h2> 示例3 </h2> 
 <div>
   对于基本类型，可以自由地在任何位置声明它。 
 </div> 
 <pre>&lt;s:bean name="com.yiibai.common.Person" var="personBean"&gt;
	&lt;s:param name="age" value="99"&gt;&lt;/s:param&gt;
&lt;/s:bean&gt;
// or
&lt;s:bean name="com.yiibai.common.Person" var="personBean"&gt;
	&lt;s:param name="age"&gt;99&lt;/s:param&gt;
&lt;/s:bean&gt;&nbsp;</pre> 
 <div>
   &lt;s:param&gt;标签不仅是可用于bean标签，它几乎适用于所有需要参数化的标签。 
 </div> 
 <div>
   在Struts&nbsp;2，&lt;s:param&gt;标签是一个非常混乱的标签，许多新的Struts2开发人员都可能会掉进这个陷阱，但不知道为什么一个简单的“字符串”的setter方法是不行的。希望 Struts2 的团队能够在今后设计更加人性化的标签。 
 </div> 
 <h2> Struts2 &lt;s:param&gt;标签示例 </h2> 
 <div>
   一个完整的Struts2&nbsp;&lt;s:param&gt;标签的例子。 
 </div> 
 <h2> 1. 动作 </h2> 
 <div>
   Action类转发请求。 
 </div> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:16px;"> <strong>ParamTagAction.java</strong> </p> 
 <pre>package com.yiibai.common.action;

import com.opensymphony.xwork2.ActionSupport;
 
public class ParamTagAction extends ActionSupport{
	
	public String execute() {
		return SUCCESS;
	}
	
}</pre> 
 <h2> 2. Bean </h2> 
 <div>
   两个Bean对象初始化在“param”标签之后。 
 </div> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:16px;"> <strong>Person.java</strong> </p> 
 <pre>package com.yiibai.common;

public class Person{
	
	private String nickName;
	private int age;
	private Fruit favorFruit;
	
	public String getNickName() {
		return nickName;
	}
	public void setNickName(String nickName) {
		this.nickName = nickName;
	}
	public int getAge() {
		return age;
	}
	public void setAge(int age) {
		this.age = age;
	}
	public Fruit getFavorFruit() {
		return favorFruit;
	}
	public void setFavorFruit(Fruit favorFruit) {
		this.favorFruit = favorFruit;
	}
	
	public String getFruitName(){
		return this.favorFruit.getFruitName();
	}
	
}</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:16px;"> <strong>Fruit.java</strong> </p>   
 <pre>package com.yiibai.common;

public class Fruit{
	
	private String fruitName;

	public String getFruitName() {
		return fruitName;
	}

	public void setFruitName(String fruitName) {
		this.fruitName = fruitName;
	}
	
}</pre> 
 <h2> 3. &lt;s:param&gt;标签示例 </h2> 
 <div>
   JSP页面显示如何使用&lt;s:param&gt;标签。 
 </div> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:16px;"> <strong>param.jsp</strong> </p> 
 <pre>&lt;%@ taglib prefix="s" uri="/struts-tags" %&gt;
 &lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
 
&lt;body&gt;
&lt;h1&gt;Struts 2 param tag example&lt;/h1&gt;

&lt;s:bean name="com.yiibai.common.Fruit" var="fruitBean"&gt;
	&lt;s:param name="fruitName"&gt;Banana&lt;/s:param&gt;
&lt;/s:bean&gt;

&lt;s:bean name="com.yiibai.common.Person" var="personBean"&gt;
	&lt;s:param name="nickName"&gt;ah pig ah dog&lt;/s:param&gt;
	&lt;s:param name="age"&gt;99&lt;/s:param&gt;
	&lt;s:param name="favorFruit" value="#fruitBean"&gt;&lt;/s:param&gt;
&lt;/s:bean&gt;

&lt;h2&gt;PersonBean&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;NickName property : &lt;s:property value="#personBean.nickName" /&gt;&lt;/li&gt;
&lt;li&gt;Age property : &lt;s:property value="#personBean.age" /&gt;&lt;/li&gt;
&lt;li&gt;Fruit property : &lt;s:property value="#personBean.fruitName" /&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/body&gt;
&lt;/html&gt;</pre> 
 <h2 style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:24px;font-weight:500;"> 4. struts.xml </h2> 
 <pre>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd"&gt;
 
&lt;struts&gt;
 	&lt;constant name="struts.devMode" value="true" /&gt;
	&lt;package name="default" namespace="/" extends="struts-default"&gt;
	
		&lt;action name="paramTagAction" 
			class="com.yiibai.common.action.ParamTagAction" &gt;
			&lt;result name="success"&gt;pages/param.jsp&lt;/result&gt;
		&lt;/action&gt;
		
	&lt;/package&gt;
&lt;/struts&gt;</pre> 
 <h2> 5. 示例 </h2> 
 <p> http://localhost:8080/struts2paramtag/paramTagAction.action </p> 
 <p> 在浏览中打上面的网址，访问后显示结果如下： </p> 
 <p> <img src="/uploads/tutorial/20151121/1-1511210613245H.png" alt=""> </p> 
 <h2> 参考 </h2> 
 <ol> 
  <li> <a target="_blank" href="http://struts.apache.org/2.0.14/docs/param.html">Struts2 &lt;s:param&gt;标签文档</a> </li> 
 </ol> 
 <div> 
  <span style="background-color:inherit;"><span style="background-color:inherit;line-height:24px;">代码下载 -&nbsp;<a target="_blank" href="http://pan.baidu.com/s/1pJreREj">http://pan.baidu.com/s/1pJreREj</a> </span></span> 
 </div> 
 <p> <br> </p>
 <br>      
</div></body></html>