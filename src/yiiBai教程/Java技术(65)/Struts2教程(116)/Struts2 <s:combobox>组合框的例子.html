<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Struts2 &lt;s:combobox&gt;组合框的例子</h1><div style="width:100%;float:left;" class="article-content">   
 <p> <span style="font-family:Arial, 'Hiragino Sans GB', 'Microsoft YaHei', 微软雅黑, STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, sans-serif;color:#535B60;line-height:22px;background-color:#FFFFFF;">这里创建一个Web工程：strut2<span>combobox</span>，来演示</span><span style="font-family:Arial, 'Hiragino Sans GB', 'Microsoft YaHei', 微软雅黑, STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, sans-serif;color:#535B60;line-height:22px;background-color:#FFFFFF;">在多个复选框</span><span style="font-family:Arial, 'Hiragino Sans GB', 'Microsoft YaHei', 微软雅黑, STHeiti, 'WenQuanYi Micro Hei', SimSun, sans-serif, sans-serif;color:#535B60;line-height:22px;background-color:#FFFFFF;">如何设置的默认值，整个项目的结构如下图所示：</span> </p> 
 <p> <img src="/uploads/tutorial/20151115/1-15111512543B96.png" alt=""> </p> 
 <p> 在Struts2， &lt;s:combobox&gt;标签是一个下拉列表单文本框组合在一起，允许用户直接输入一个值在文本框中，或选择从下拉列表中选择值，并选定值将自动填充到文本框中。 </p> 
 <div class="note" style="border:1px solid #D1D1E8;padding:20px;margin:20px 0px;color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#E6E6FC;">
   如果下拉列表和组合框列表，请阅读
  <a target="_blank" href="http://en.wikipedia.org/wiki/Combo_box">维基组合框<span style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#E6E6FC;">定义</span></a>以免混淆。 
 </div> 
 <pre>&lt;s:combobox label="What's your favor fruit" 
		headerKey="-1" headerValue="--- Select ---"
		list="fruits" 
		name="yourFruits" /&gt;</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 产生下面的HTML代码... </p> 
 <pre>&lt;td class="tdLabel"&gt;
   &lt;label for="resultAction_yourFruits" class="label"&gt;
       What's your favor fruit:
   &lt;/label&gt;
&lt;/td&gt; 
&lt;td&gt; 
&lt;script type="text/javascript"&gt; 
function autoPopulate_resultAction_yourFruits(targetElement) {
	if (targetElement.options[targetElement.selectedIndex].value == '-1') {
		return;
	}
	targetElement.form.elements['yourFruits'].value=
              targetElement.options[targetElement.selectedIndex].value;
}
&lt;/script&gt; 
&lt;input type="text" name="yourFruits" value="" id="resultAction_yourFruits"/&gt;
&lt;br /&gt; 
&lt;select onChange="autoPopulate_resultAction_yourFruits(this);"&gt; 
    &lt;option value="-1"&gt;--- Select ---&lt;/option&gt; 
    &lt;option value="Apple"&gt;Apple&lt;/option&gt; 
    &lt;option value="Banana"&gt;Banana&lt;/option&gt; 
    &lt;option value="Orange"&gt;Orange&lt;/option&gt; 
    &lt;option value="Watermelon"&gt;Watermelon&lt;/option&gt; 
&lt;/select&gt; 
&lt;/td&gt;</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> &lt;s:combobox&gt; 标记将产生输入文本框，下拉列表中有“onChange()”方法调用来生成的JavaScript 来从下拉列表中选择的值到<span style="color:#333333;">自动填充</span>生成的文本框中。 </p> 
 <div class="note" style="border:1px solid #D1D1E8;padding:20px;margin:20px 0px;color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#E6E6FC;">
   如要创建一个下拉列表，应该使用&nbsp;
  <a target="_blank" href="http://www.yiibai.com/struts_2/struts-2-sselect-drop-down-box-example.html">&lt;s：select&gt;标签</a>来代替。 
 </div> 
 <h2> Struts 2&nbsp;&lt;s:combobox&gt;&nbsp;示例 </h2> 
 <p> 一个完整的Struts2示例，通过利用&lt;s:combobox&gt;说明组合框。 </p> 
 <h2> 1. 动作 -&nbsp;Action </h2> 
 <p> Action类来生成并按住选定的组合框的选项。<br> <strong>ComboBoxAction.java</strong> </p> 
 <pre>package com.yiibai.common.action;

import java.util.ArrayList;
import java.util.List;

import com.opensymphony.xwork2.ActionSupport;

public class ComboBoxAction extends ActionSupport{

	private List&lt;String&gt; fruits;

	private String yourFruits;
	private String yourMonth;
	
	public String getYourMonth() {
		return yourMonth;
	}

	public void setYourMonth(String yourMonth) {
		this.yourMonth = yourMonth;
	}

	public List&lt;String&gt; getFruits() {
		return fruits;
	}

	public void setFruits(List&lt;String&gt; fruits) {
		this.fruits = fruits;
	}

	public String getYourFruits() {
		return yourFruits;
	}

	public void setYourFruits(String yourFruits) {
		this.yourFruits = yourFruits;
	}

	public ComboBoxAction(){
		
		fruits = new ArrayList&lt;String&gt;();
		fruits.add("Apple");
		fruits.add("Banana");
		fruits.add("Orange");
		fruits.add("Watermelon");
	}

	public String execute() {
		return SUCCESS;
	}
	
	public String display() {
		return NONE;
	}
	
}</pre> 
 <h2> 2. 结果页面 </h2> 
 <p> 通过“&lt;s:combobox&gt;”标签渲染组合框，并填充通过Java列表，OGNL列表中选择选项 </p> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <strong>combobox.jsp</strong> </p> 
 <pre>&lt;%@ taglib prefix="s" uri="/struts-tags" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;h1&gt;Struts 2 &lt;s:combobox&gt; example&lt;/h1&gt;

&lt;s:form action="resultAction" namespace="/"&gt;

&lt;h2&gt;
	&lt;s:combobox label="What's your favor fruit" 
		headerKey="-1" headerValue="--- Select ---"
		list="fruits" 
		name="yourFruits" /&gt;
&lt;/h2&gt;

&lt;h2&gt;
	&lt;s:combobox label="Select a month" 
		headerKey="-1" headerValue="--- Select ---"
		list="#{'1':'Jan', '2':'Feb', '3':'Mar', '4':'Apr'}" 
		name="yourMonth" /&gt;
&lt;/h2&gt; 

&lt;s:submit value="submit" name="submit" /&gt;
	
&lt;/s:form&gt;

&lt;/body&gt;
&lt;/html&gt;</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <strong>result.jsp</strong> </p>   
 <pre>&lt;%@ taglib prefix="s" uri="/struts-tags" %&gt;
&lt;html&gt;

&lt;body&gt;
&lt;h1&gt;Struts 2 &lt;s:combobox&gt; example&lt;/h1&gt;

&lt;h2&gt;
  Favor fruit : &lt;s:property value="yourFruits"/&gt;
&lt;/h2&gt; 

&lt;h2&gt;
  Selected month : &lt;s:property value="yourMonth"/&gt;
&lt;/h2&gt; 

&lt;/body&gt;
&lt;/html&gt;</pre> 
 <h2 style="font-family:'Helvetica Neue', Helvetica,  font-weight:500;color:#333333;font-size:24px;background-color:#FFFFFF;"> 3. struts.xml </h2> 
 <pre>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd"&gt;
 
&lt;struts&gt;

 &lt;constant name="struts.devMode" value="true" /&gt;
 	
&lt;package name="default" namespace="/" extends="struts-default"&gt;
		
   &lt;action name="comboBoxAction" 
         class="com.yiibai.common.action.ComboBoxAction" method="display"&gt;
	&lt;result name="none"&gt;pages/combobox.jsp&lt;/result&gt;
   &lt;/action&gt;
		
   &lt;action name="resultAction" class="com.yiibai.common.action.ComboBoxAction"&gt;
	&lt;result name="success"&gt;pages/result.jsp&lt;/result&gt;
   &lt;/action&gt;

&lt;/package&gt;
	
&lt;/struts&gt;</pre> 
 <h2 style="font-family:'Helvetica Neue', Helvetica,  font-weight:500;color:#333333;font-size:24px;background-color:#FFFFFF;"> 5. 示例 </h2> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <em>http://localhost:8080/strut2combobox/comboBoxAction.action</em> </p> 
 <div class="pic" style="border:1px solid #DDDDDD;margin:20px 0px;padding:20px;text-align:center;color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#F9F9F9;"> 
  <span id="__kindeditor_bookmark_start_12__"></span>
  <img src="/uploads/tutorial/20151115/1-151115125329152.png" alt="">
  <br> 
 </div> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <em>http://localhost:8080/strut2combobox/resultAction.action</em> </p> 
 <div class="pic" style="border:1px solid #DDDDDD;margin:20px 0px;padding:20px;text-align:center;color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#F9F9F9;"> 
  <img src="/uploads/tutorial/20151115/1-15111512534Db.png" alt="">
  <br> 
 </div> 
 <h2 style="font-family:'Helvetica Neue', Helvetica,  font-weight:500;color:#333333;font-size:24px;background-color:#FFFFFF;"> 参考 </h2> 
 <ol style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 
  <li> <a target="_blank" href="http://struts.apache.org/2.x/docs/combobox.html">Struts 2 combobox文档</a> </li> 
 </ol> 
 <p> </p>
 <ol style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 
  <li> <a target="_blank" href="http://en.wikipedia.org/wiki/Combo_box">Wiki combo box 定义</a> </li> 
 </ol> 
 <p> <span>下载代码：<a target="_blank" href="http://pan.baidu.com/s/1qW8Ds5Y">http://pan.baidu.com/s/1qW8Ds5Y</a></span> </p> 
 <p></p>
 <br>      
</div></body></html>