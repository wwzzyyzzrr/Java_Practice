<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Struts2 &lt;s:subset&gt;标签示例</h1><div style="width:100%;float:left;" class="article-content">   
 <p> <span style="line-height:1.5;">Struts2&nbsp;&lt;s:subset&nbsp;&gt;标签用来输出一个iterator元素的子集或部分。在本教程中，将创建一个“数字”列表中，包含了10个元素(从 1 - 10),&nbsp;并使用&lt;s:subset&nbsp;&gt;标记&nbsp;“start &amp; count”&nbsp;属性和判定方法，以输出一个迭代(列表)的子集。这里创建一个Web工程：struts2subsettag，来演示在多个复选框如何设置的默认值，整个项目的结构如下图所示：</span> </p> 
 <p> <img src="/uploads/tutorial/20151116/1-151116210I3317.png" alt=""> </p> 
 <p> <br> </p> 
 <p> <br> </p> 
 <p> <img src="file://E:/data/youdao/qq24B39E2329F08D9F4C3146A571A415EF/b7b11096947a4dcb8989af756aac06ae/clipboard.png"> </p> 
 <h2> 1. 动作 - Action </h2> 
 <div>
   Action类填充元素到一个列表，以及一个判定方法进行筛选，以显示元素。 
 </div> 
 <div> 
  <div>
    如果判定方法返回一个“true”是指显示该值;&nbsp;否则，忽略它。可以在这里实现过滤器的逻辑。 
  </div> 
 </div> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:16px;"> <strong>SubsetTagAction.java</strong> </p> 
 <pre>package com.yiibai.common.action;

import java.util.ArrayList;
import java.util.List;

import org.apache.struts2.util.SubsetIteratorFilter.Decider;
import com.opensymphony.xwork2.ActionSupport;
 
public class SubsetTagAction extends ActionSupport{
	
	private List&lt;String&gt; numbers = new ArrayList&lt;String&gt;();
	
	public String execute() {
		
		numbers.add("Number 1");
		numbers.add("Number 2");
		numbers.add("Number 3");
		numbers.add("Number 4");
		numbers.add("Number 5");
		numbers.add("Number 6");
		numbers.add("Number 7");
		numbers.add("Number 8");
		numbers.add("Number 9");
		numbers.add("Number 10");
		
		return SUCCESS;
	}

	public List&lt;String&gt; getNumbers() {
		return numbers;
	}

	public void setNumbers(List&lt;String&gt; numbers) {
		this.numbers = numbers;
	}

	public Decider getNumberDecider() {
	     return new Decider() {
	         public boolean decide(Object obj) throws Exception {
	             String number = ((String)obj).toString();
	             
	             if(("Number 7").equals(number)){
	            	 return true;//display it
	             }else{
	            	 return false;//ignore
	             }
	         }
	     };
	}	
}</pre> 
 <h2> 2. &lt;s:subset&gt;标签示例 </h2> 
 <div>
   JSP页面使用&lt;s:subset&gt;标签迭代器输出一个子集。 
 </div> 
 <div>
   “start”以及“count”在&lt;s:subset&gt;标签属性是从0开始，这意味着&nbsp;&lt;s:subset source=”numbers” start=”1″ count=”5″&gt;&nbsp;将提取元素&nbsp;#2 到 #6. 
 </div> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:16px;"> <strong>subset.jsp</strong> </p> 
 <pre>&lt;%@ taglib prefix="s" uri="/struts-tags" %&gt;
 &lt;html&gt;
&lt;head&gt;&lt;title&gt;Struts2 subset标签示例 - www.yiibai.com&lt;/title&gt;
&lt;/head&gt;
 
&lt;body&gt;
&lt;h1&gt;Struts 2 Subset tag example&lt;/h1&gt;

&lt;table border="1px" cellpadding="8px"&gt;
&lt;tr valign="top"&gt;
&lt;td&gt;
1. Display all numbers.
&lt;ol&gt;
&lt;s:subset source="numbers"&gt;
   &lt;s:iterator&gt;
      	&lt;li&gt;&lt;s:property /&gt;&lt;/li&gt;
   &lt;/s:iterator&gt;
&lt;/s:subset&gt;
&lt;/ol&gt;
&lt;/td&gt;

&lt;td&gt;
2. Display numbers , from #2 to #6
&lt;ol&gt;
&lt;s:subset source="numbers" start="1" count="5"&gt;
   &lt;s:iterator&gt;
      	&lt;li&gt;&lt;s:property /&gt;&lt;/li&gt;
   &lt;/s:iterator&gt;
&lt;/s:subset&gt;
&lt;/ol&gt;
&lt;/td&gt;

&lt;td&gt;
3. Display numbers 7 only, with decider
&lt;ol&gt;
&lt;s:subset source="numbers" decider="numberDecider"&gt;
   &lt;s:iterator&gt;
     	&lt;li&gt;&lt;s:property /&gt;&lt;/li&gt;
   &lt;/s:iterator&gt;
&lt;/s:subset&gt;
&lt;/ol&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;/body&gt;
&lt;/html&gt;</pre> 
 <h2 style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:24px;font-weight:500;"> 3. struts.xml </h2>   
 <pre>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd"&gt;
 
&lt;struts&gt;
 	&lt;constant name="struts.devMode" value="true" /&gt;
	&lt;package name="default" namespace="/" extends="struts-default"&gt;
		&lt;action name="subsetTagAction" 
			class="com.yiibai.common.action.SubsetTagAction" &gt;
			&lt;result name="success"&gt;/pages/subset.jsp&lt;/result&gt;
		&lt;/action&gt;
	&lt;/package&gt;
&lt;/struts&gt;</pre> 
 <h2> 4. 示例 </h2> 
 <p> http://localhost:8080/struts2subsettag/subsetTagAction.action </p> 
 <p> <img src="/uploads/tutorial/20151116/1-151116210S41B.png" alt=""> </p> 
 <p> 在浏览器中输出以上网址访问，显示如下结果： </p> 
 <h2> 参考 </h2> 
 <ol> 
  <li> <a target="_blank" href="http://struts.apache.org/2.1.8/docs/subset.htmll">Struts 2 Subset 标签文档</a> </li> 
 </ol> 
 <p> <br> </p> 代码下载 -&nbsp;
 <a target="_blank" href="http://pan.baidu.com/s/1eQjpyIQ">http://pan.baidu.com/s/1eQjpyIQ</a>
 <br>      
</div></body></html>