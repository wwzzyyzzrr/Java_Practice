<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Struts2单选预选按钮值</h1><div style="width:100%;float:left;" class="article-content">   
 <p> 下面是几个Struts2的例子来说明如何通过List, OGNL 和对象生成一个单选按钮默认值(预先选择)。 </p> 
 <h2> 1. 列表 - List </h2> 
 <p> 在Java代码中创建一个列表返回单选按钮的值。 </p> 
 <pre>//...
	List&lt;String&gt; genders = new ArrayList&lt;String&gt;();
		genders.add("male");
		genders.add("female");
		genders.add("unknown");
	//...
	public List&lt;String&gt; getGenders() {
		return genders;
	}
	public String getDefaultGenderValue(){
		return "unknown";
	}
	//...</pre> 
 <p> 在结果页面中，&lt;s:radio&gt;标签， list=”genders”将调用 getGenders()方法返回列表单选按钮的键和值。以及&nbsp;value=”defaultGenderValue”&nbsp;会调用&nbsp;getDefaultGenderValue()&nbsp;方法来&nbsp;预先选择“unknown”值作为单选按钮的默认值。 </p> 
 <pre>&lt;s:radio label="Gender" name="yourGender" list="genders" value="defaultGenderValue" /&gt;</pre> 
 <p> 它会生成以下HTML代码... </p> 
 <pre>&lt;input type="radio" name="yourGender" id="resultAction_yourGendermale" value="male"/&gt;
&lt;label for="resultAction_yourGendermale"&gt;male&lt;/label&gt; 

&lt;input type="radio" name="yourGender" id="resultAction_yourGenderfemale" value="female"/&gt;
&lt;label for="resultAction_yourGenderfemale"&gt;female&lt;/label&gt; 

&lt;input type="radio" name="yourGender" id="resultAction_yourGenderunknown" 
   checked="checked" value="unknown"/&gt;
&lt;label for="resultAction_yourGenderunknown"&gt;unknown&lt;/label&gt;</pre> 
 <h2> 2. OGNL </h2> 
 <p> 在结果页面中，通过创建OGNL表达式单选按钮，并预先选择“2”为默认值。 </p> 
 <pre>&lt;s:radio label="Answer" name="yourAnswer" list="#{'1':'Yes','2':'No'}" value="2" /&gt;</pre> 
 <p> 它会生成以下HTML代码... </p> 
 <pre>&lt;input type="radio" name="yourAnswer" id="resultAction_yourAnswer1" value="1"/&gt;
&lt;label for="resultAction_yourAnswer1"&gt;Yes&lt;/label&gt; 

&lt;input type="radio" name="yourAnswer" id="resultAction_yourAnswer2" 
checked="checked" value="2"/&gt;
&lt;label for="resultAction_yourAnswer2"&gt;No&lt;/label&gt;</pre> 
 <h2> 3. Object </h2> 
 <p> 在Java代码中，创建语言对象languageCode和languageDisplay的属性。 </p> 
 <pre>//...
        public class Language{

	       private String languageCode;
	       private String languageDisplay;
	       //getter and setter methods
        }</pre> 
 <pre>//...
	List&lt;Language&gt; languages = new ArrayList&lt;Language&gt;();
		languages.add( new Language("EN", "English") );
		languages.add( new Language("FR", "France") );
		languages.add( new Language("CN_ZH", "Chinese") );
		languages.add( new Language("DE", "German") );
	//...
	public List&lt;Language&gt; getLanguages() {
		return languages;
	}
	public String getDefaultLanguageValue(){
		return "CN_ZH";
	}
	//...</pre> 
 <p> 在结果页面中，&lt;s:radio&gt; 标签，list=”languages” 会调用 getLanguages()方法返回单选按钮键和值的列表。&nbsp;&nbsp;listKey=”languageCode”&nbsp;表示语言的 languageCode属性为单选按钮的键;&nbsp;listValue=”languageDisplay”&nbsp;表示语言的languageDisplay属性为单选按钮的值。最后&nbsp;value=”defaultLanguageValue”&nbsp;会调用&nbsp;&nbsp;getDefaultLanguageValue()&nbsp;方法预先选择“CN_ZH” 作为单选按钮的默认值。 </p>   
 <pre>&lt;s:radio label="Gender" name="yourLanguage" list="languages" 
 listKey="languageCode" listValue="languageDisplay" value="defaultLanguageValue" /&gt;</pre> 
 <p> 它会生成以下HTML代码... </p> 
 <pre>&lt;input type="radio" name="yourLanguage" id="resultAction_yourLanguageEN" value="EN"/&gt;
&lt;label for="resultAction_yourLanguageEN"&gt;English&lt;/label&gt; 

&lt;input type="radio" name="yourLanguage" id="resultAction_yourLanguageFR" value="FR"/&gt;
&lt;label for="resultAction_yourLanguageFR"&gt;France&lt;/label&gt; 

&lt;input type="radio" name="yourLanguage" id="resultAction_yourLanguageCN_ZH" 
checked="checked" value="CN_ZH"/&gt;
&lt;label for="resultAction_yourLanguageCN_ZH"&gt;Chinese&lt;/label&gt; 

&lt;input type="radio" name="yourLanguage" id="resultAction_yourLanguageDE" value="DE"/&gt;
&lt;label for="resultAction_yourLanguageDE"&gt;German&lt;/label&gt;</pre> 
 <h2 style="font-family:'Helvetica Neue', Helvetica,  font-weight:500;color:#333333;font-size:24px;background-color:#FFFFFF;"> 参考 </h2> 
 <ol style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 
  <li> <a target="_blank" href="http://struts.apache.org/2.0.11.2/docs/radio.html">http://struts.apache.org/2.0.11.2/docs/radio.html</a> </li> 
  <li> <a target="_blank" href="http://struts.apache.org/2.1.8.1/docs/struts-2-form-tags.html">http://struts.apache.org/2.1.8.1/docs/struts-2-form-tags.html</a> </li> 
 </ol>
 <br>      
</div></body></html>