<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java泛型不能使用数组</h1><div style="width:100%;float:left;" class="article-content">   
 <p>不允许使用参数化类型的数组。如下代码是错误的 - </p> 
 <pre><code class="lang-java">//Cannot create a generic array of Box&lt;Integer&gt;
Box&lt;Integer&gt;[] arrayOfLists = new Box&lt;Integer&gt;[2];
</code></pre> 
 <p>因为编译器使用类型擦除，类型参数被替换为<code>Object</code>，用户可以向数组添加任何类型的对象。但在运行时，代码将无法抛出<code>ArrayStoreException</code>。</p> 
 <pre><code class="lang-java">// compiler error, but if it is allowed
Object[] stringBoxes = new Box&lt;String&gt;[];

// OK
stringBoxes[0] = new Box&lt;String&gt;();  

// An ArrayStoreException should be thrown,
//but the runtime can't detect it.
stringBoxes[1] = new Box&lt;Integer&gt;();
</code></pre>
 <br>      
</div></body></html>