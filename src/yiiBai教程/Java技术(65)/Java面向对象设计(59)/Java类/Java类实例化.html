<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java类实例化</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在本教程中，将学习如何将类实例化，读取类实例的字段等等。</p> 
 <p>创建类的实例的一般语法如下：</p> 
 <pre><code class="lang-java">new &lt;Class Constructor&gt;;
</code></pre> 
 <p><code>new</code>运算符后面是对构造函数的调用。<code>new</code>运算符通过分配堆上的内存来创建类的实例。以下语句创建<code>Dog</code>类的实例：</p> 
 <pre><code class="lang-java">new Dog();
</code></pre> 
 <p><code>Dog（）</code>是对<code>Dog</code>类的构造函数的调用。当不向类添加构造函数时，Java编译器会自动添加一个。Java编译器添加的构造函数称为默认构造函数。默认构造函数不接受参数。</p> 
 <p>类的构造函数的名称与类名称相同。<code>new</code>运算符为类的每个实例字段分配内存。在创建类的实例时不会为类静态变量分配内存。</p> 
 <p>要访问类的实例的实例变量，必须有它的引用。类的名称在Java中定义了一个新的引用类型。指定引用类型的变量可以存储相同引用类型的实例的引用。</p> 
 <p>声明一个引用变量，它用于存储<code>Dog</code>类的实例的引用。</p> 
 <pre><code class="lang-java">Dog anInstance;
</code></pre> 
 <p><code>Dog</code>是类名，它也是一个引用类型，并且<code>anInstance</code>是该类型的变量。<br><code>anInstance</code>是<code>Dog</code>类型的引用变量。<code>anInstance</code>变量可用于存储<code>Dog</code>类的实例的引用。</p> 
 <p><code>new</code>运算符为类的新实例分配内存，并返回对该实例的引用。</p> 
 <p>需要将由<code>new</code>运算符返回的引用存储在引用变量中，如下代码所示 - </p> 
 <pre><code class="lang-java">Dog anInstance = null;
anInstance = new Dog();
</code></pre> 
 <h2 id="h2-null-"><a name="null引用类型" class="reference-link"></a><span class="header-link octicon octicon-link"></span>null引用类型</h2>
 <p>可以为任何引用类型的变量分配一个空(<code>null</code>)值。<code>null</code>值意味着引用变量是指没有对象。</p> 
 <pre><code class="lang-java">Dog  obj  = null;  // obj  is not  referring to any  object
obj  = new Dog();  // Now, obj  is referring to a  valid Dog  object
</code></pre> 
 <p>可以使用一个 <code>null</code> 文字与比较运算符来检查是否相等，如下代码所示 - </p> 
 <pre><code class="lang-java">if  (obj == null)  {
    //obj is null
}

if  (obj !=  null)  {
    //obj is not null
}
</code></pre> 
 <p>Java不会混合引用类型和原始类型。所以不能给一个原始类型变量赋<code>null</code>值。</p> 
 <h2 id="h2-u70B9u8868u793Au6CD5u8BBFu95EEu7C7Bu5B57u6BB5"><a name="点表示法访问类字段" class="reference-link"></a><span class="header-link octicon octicon-link"></span>点表示法访问类字段</h2>
 <p>点（<code>.</code>）符号用于引用实例变量。点符号语法的一般形式是 -</p> 
 <pre><code class="lang-java">&lt;Reference Variable Name&gt;.&lt;Instance Variable Name&gt;
</code></pre> 
 <p><code>obj.name</code>引用<code>obj</code>引用实例的 <code>name</code> 实例变量。<br>要为实例变量 <code>name</code> 分配值，请使用参考以下代码 - </p> 
 <pre><code class="lang-java">obj.name = "Rectangle";
</code></pre> 
 <p>以下语句将实例变量- <code>name</code> 的值分配给<code>String</code>类型变量-<code>aName</code>：</p> 
 <pre><code class="lang-java">String aName = obj.name;
</code></pre> 
 <p>要引用类变量，请使用类的名称。</p> 
 <pre><code class="lang-java">ClassName.ClassVariableName
</code></pre> 
 <p>例如，使用<code>Dog.count</code>来引用<code>Dog</code>类的类变量 - <code>count</code> 。<br>向类变量 - <code>count</code> 分配新值，如下代码 - </p> 
 <pre><code class="lang-java">Dog.count  = 1;
</code></pre> 
 <p>要将类变量- <code>count</code> 的值读取到变量中，如下代码 - </p> 
 <pre><code class="lang-java">long count = Dog.count;
</code></pre> 
 <p>以下代码显示如何使用类实例字段和类变量 - </p>   
 <pre><code class="lang-java">class Dog {
    static int count = 0;
    String name;
    String gender;
}

public class Main {
    public static void main(String[] args) {
        Dog obj = new Dog();
        // Increase count by one
        Dog.count++;
        // 实例变量赋值
        obj.name = "旺财";
        obj.gender = "公";
        System.out.println("obj.name is :" + obj.name);
        obj.name = "XML";
        System.out.println("obj.name is :" + obj.name);
        String changedName = obj.name;
        System.out.println("changedName is :" + changedName);
    }
}
</code></pre> 
 <p>执行上面的示例代码，得到如下结果 - </p> 
 <pre><code class="lang-java">obj.name is :旺财
obj.name is :XML
changedName is :XML
</code></pre> 
 <h2 id="h2-u5B57u6BB5u9ED8u8BA4u521Du59CBu5316"><a name="字段默认初始化" class="reference-link"></a><span class="header-link octicon octicon-link"></span>字段默认初始化</h2>
 <p>类的所有字段（静态以及非静态）都将将初始化为默认值。字段的默认值取决于其数据类型。</p> 
 <p>数字字段（<code>byte</code>, <code>short</code>, <code>char</code>, <code>int</code>, <code>long</code>, <code>float</code>和<code>double</code>）初始化为<code>0</code>。 布尔字段初始化为<code>false</code>。 引用类型字段初始化为<code>null</code>。</p> 
 <p>下面的代码演示了字段的默认初始化值。</p> 
 <pre><code class="lang-java">public class Main {
    byte b;
    short s;
    int i;
    long l;
    float f;
    double d;
    boolean bool;
    String str; // 引用类型

    // from yiibai.com
    public static void main(String[] args) {
        Main obj = new Main();
        System.out.println("byte is initialized to " + obj.l);
        System.out.println("short is initialized to " + obj.s);
        System.out.println("int is initialized to " + obj.i);
        System.out.println("long is initialized to " + obj.l);
        System.out.println("float is initialized to " + obj.f);
        System.out.println("double is initialized to " + obj.d);
        System.out.println("boolean is initialized to " + obj.bool);
        System.out.println("String is initialized to " + obj.str);
    }
}
</code></pre> 
 <p>上面的代码生成以下结果 - </p> 
 <pre><code class="lang-java">byte is initialized to 0
short is initialized to 0
int is initialized to 0
long is initialized to 0
float is initialized to 0.0
double is initialized to 0.0
boolean is initialized to false
String is initialized to null
</code></pre>
 <br>      
</div></body></html>