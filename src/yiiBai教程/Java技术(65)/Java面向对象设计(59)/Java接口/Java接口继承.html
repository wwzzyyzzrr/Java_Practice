<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java接口继承</h1><div style="width:100%;float:left;" class="article-content">   
 <p>接口可以从另一个接口继承。与类不同，接口可以继承多个接口。如下代码所示 - </p> 
 <pre><code class="lang-java">interface Singer {
  void sing();
  void setRate(double rate);
  double getRate();
}
interface Writer {
  void write();
  void setRate(double rate);
  double getRate();
}
interface Player {
  void play();
  void setRate(double rate);
  default double getRate() {
    return 300.0;
  }
}
</code></pre> 
 <p>一个接口使用关键字<code>extends</code>来继承自其他接口。 关键字<code>extends</code>之后是以逗号分隔的继承接口名称列表。继承的接口称为超级接口，继承接口的接口称为子接口。</p> 
 <p>接口继承其超级接口的以下成员：</p> 
 <ul> 
  <li>抽象和默认方法</li>
  <li>常量字段</li>
  <li>嵌套类型</li>
 </ul> 
 <p>接口不从其超级接口继承静态方法。接口可以重写它从其超级接口继承的继承的抽象和默认方法。如果超级接口和子接口具有相同名称的字段和嵌套类型，则子接口会覆盖父接口对应字段。</p> 
 <pre><code class="lang-java">interface A {
  String s = "A";
}
interface B extends A {
  String s = "B";
}
public class Main {
  public static void main(String[] argv){
    System.out.println(B.s);
  }
}
</code></pre> 
 <p>以下代码显示如何覆盖父接口的默认方法。</p> 
 <pre><code class="lang-java">interface A {
  default String getValue(){
    return "A-Interface";
  }
}
interface B extends A {
  default String getValue(){
    return "B-Interface";
  }
}

class MyClass implements B{
}

public class Main {
  public static void main(String[] argv){
    System.out.println(new MyClass().getValue());
  }
}
</code></pre> 
 <p>上面的代码生成以下结果。</p> 
 <pre><code class="lang-java">B-Interface
</code></pre> 
 <h2 id="h2-u7EE7u627Fu51B2u7A81u5B9Eu73B0"><a name="继承冲突实现" class="reference-link"></a><span class="header-link octicon octicon-link"></span>继承冲突实现</h2>
 <p>引入默认方法使得类可以从其超类和超级接口继承冲突的实现。Java使用三个简单的规则为了解决冲突。如下 - </p> 
 <ol> 
  <li>总是以超接口的为准</li>
  <li>最具体的以超接口为准</li>
  <li>类必须覆盖冲突的方法</li>
 </ol> 
 <h2 id="h2-instanceof-"><a name="instanceof运算符" class="reference-link"></a><span class="header-link octicon octicon-link"></span>instanceof运算符</h2>
 <p>可以使用<code>instanceof</code>运算符来评估计算引用类型变量是指特定类的对象，还是其类实现特定接口。<code>instanceof</code>运算符的一般语法是 - </p>   
 <pre><code class="lang-java">referenceVariable instanceof  ReferenceType
</code></pre> 
 <p>参考以下实现代码 - </p> 
 <pre><code class="lang-java">interface A {//  ww  w. j  a  va 2  s.  co  m
  default String getValue(){
    return "A";
  }
}
interface B {
  default String getValue(){
    return "B";
  }
}

class MyClass implements B,A{
  public String getValue(){
    return "B";
  }
}

public class Main {
  public static void main(String[] argv){
    MyClass myClass = new MyClass();
    System.out.println(myClass instanceof MyClass);
    System.out.println(myClass instanceof A);
    System.out.println(myClass instanceof B);
  }
}
</code></pre> 
 <p>上面的代码生成以下结果。</p> 
 <pre><code class="lang-java">true
true
true
</code></pre>
 <br>      
</div></body></html>