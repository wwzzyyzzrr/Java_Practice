<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java构造函数(构造器)</h1><div style="width:100%;float:left;" class="article-content">   
 <p>构造函数是用于在对象创建后立即初始化对象的代码块。构造函数的结构看起来类似于一个方法。</p> 
 <h2 id="h2-u58F0u660Eu6784u9020u51FDu6570"><a name="声明构造函数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>声明构造函数</h2>
 <p>构造函数声明的一般语法是：</p> 
 <pre><code class="lang-java">&lt;Modifiers&gt; &lt;Constructor Name&gt;(&lt;parameters list&gt;) throws &lt;Exceptions list&gt; {

}
</code></pre> 
 <p>构造函数的声明以修饰符开头。<br>构造函数可以将其访问修饰符为：<code>public</code>，<code>private</code>，<code>protected</code>或<code>package-level</code>（无修饰符）。</p> 
 <p>构造函数名称与类的名称相同。构造函数名称后面是一对括号，可能包括参数。可选地，右括号后面可以是关键字<code>throws</code>，其后面是逗号分隔异常列表。</p> 
 <p>以下代码显示了声明类<code>Test</code>的构造函数的示例。 类的名称和构造函数的名称必须匹配。</p> 
 <pre><code class="lang-java">public class Test {

  public Test() {
    // Code goes here

  }
}
</code></pre> 
 <p>与方法不同，构造函数没有返回类型。</p> 
 <h2 id="h2-u4F7Fu7528u6784u9020u51FDu6570"><a name="使用构造函数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>使用构造函数</h2>
 <p>使用一个带有<code>new</code>操作符的构造函数来在创建新实例之后初始化类的实例。使用<code>new</code>运算符来创建一个对象，构造函数初始化该对象。<br>以下语句使用<code>Test</code>类的构造函数来初始化<code>Test</code>类的对象：</p> 
 <pre><code class="lang-java">Test t = new Test();
</code></pre> 
 <p>以下代码显示了如何使用构造函数 - </p> 
 <pre><code class="lang-java">class Cat {
  public Cat() {
    System.out.println("in constructor...");
  }
}

public class Main {
  public static void main(String[] args) {
    // Create a Cat object and ignore its reference
    new Cat();
    // Create another Cat object and store its reference in c
    Cat c = new Cat();
  }
}
</code></pre> 
 <p>上面的代码生成以下结果。</p> 
 <pre><code class="lang-java">in constructor...
in constructor...
</code></pre> 
 <h2 id="h2-u91CDu8F7Du6784u9020u51FDu6570"><a name="重载构造函数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>重载构造函数</h2>
 <p>一个类可以有多个构造函数。 它们称为重载构造函数。如果一个类有多个构造函数，它们的顺序或参数类型都必须与其他构造函数不同。<br>下面的代码声明两个构造函数。 一个构造函数不接受参数，另一个接受一个<code>String</code>类型的参数。</p> 
 <pre><code class="lang-java">class Car {
  // Constructor #1
  public Car() {
    System.out.println("A car  is created.");
  }

  // Constructor #2
  public Car(String name) {
    System.out.println("A car  named " + name + "  is created.");
  }
}

public class Main {
  public static void main(String[] args) {
    Car d1 = new Car(); // Uses Constructor #1
    Car d2 = new Car("My Car"); // Uses Constructor #2
  }
}
</code></pre> 
 <p>上面的代码生成以下结果。</p> 
 <p>每个对象创建表达式调用一次构造函数。可以在对象创建的过程中只执行一个构造函数的代码一次。</p> 
 <h2 id="h2-u4ECEu53E6u4E00u4E2Au6784u9020u51FDu6570u8C03u7528u6784u9020u51FDu6570"><a name="从另一个构造函数调用构造函数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>从另一个构造函数调用构造函数</h2>
 <p>构造函数可以调用同一类中的另一个构造函数。考虑下面的<code>Test</code>类。 它声明两个构造函数; 一个不接受参数，一个接受一个<code>int</code>参数。<br>必须使用关键字<code>this</code>从另一个构造函数调用另外一个构造函数。下面的代码使用语句“<code>this（1）;</code>”从没有参数的构造函数中调用具有<code>int</code>参数的构造函数。</p> 
 <pre><code class="lang-java">class Test {
  Test() {
    this(1); // OK. Note the use of the keyword this.
  }

  Test(int x) {
  }
}
</code></pre> 
 <p>如果构造函数调用另一个构造函数，它必须是构造函数体中的第一个可执行语句。构造函数不能调用自身，因为它将导致递归调用。</p> 
 <h2 id="h2-u4ECEu6784u9020u51FDu6570u8FD4u56DE"><a name="从构造函数返回" class="reference-link"></a><span class="header-link octicon octicon-link"></span>从构造函数返回</h2>
 <p>构造函数在其声明中不能有返回类型。但可以在构造函数体中使用没有返回表达式的<code>return</code>语句。当一个构造函数中的返回语句被执行时，控制返回给调用者，忽略构造函数的其余代码。<br>以下代码显示了在构造函数中使用<code>return</code>语句的示例。</p>   
 <pre><code class="lang-java">class Test {
  public Test(int x) {
    if (x &lt; 0) {
      return;
    }

    System.out.println("here");
  }
}
</code></pre> 
 <h2 id="h2-u6784u9020u51FDu6570u7684u8BBFu95EEu7EA7u522Bu4FEEu9970u7B26"><a name="构造函数的访问级别修饰符" class="reference-link"></a><span class="header-link octicon octicon-link"></span>构造函数的访问级别修饰符</h2>
 <p>构造函数的访问级别决定了可以在对象创建表达式中使用该构造函数的程序。可以为构造函数指定四个访问级别之一：<code>public</code>，<code>private</code>，<code>protected</code>和<code>package-level</code>（不写的情况）。下面的代码声明了<code>Test</code>类的四个构造函数。</p> 
 <pre><code class="lang-java">// Class Test   has  public access level 
public class Test {
  // Constructor #1 - Package-level access
  Test() {
  }

  // Constructor #2 - public access level
  public Test(int x) {
  }

  // Constructor #3 - private access level
  private Test(int x, int y) {
  }

  // Constructor #4 - protected access level
  protected Test(int x, int y, int z) {
  }
}
</code></pre> 
 <p>具有公共（<code>public</code>）访问级别的构造函数可以在程序的任何部分中使用。具有私有（<code>private</code>）访问级别的构造函数只能在声明它的同一类中使用。具有受保护（<code>protected</code>）访问级别的构造函数可以在具有声明类的相同包的程序中以及在任何包中的任何子类中使用。具有包级访问权限的构造函数可以在声明其类的同一个包中使用。</p> 
 <h2 id="h2-u9ED8u8BA4u6784u9020u51FDu6570"><a name="默认构造函数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>默认构造函数</h2>
 <p>如果在定义类时，一个构造函数都不声明，Java编译器将向类添加一个构造函数。编译器添加的构造函数称为默认构造函数。默认构造函数没有任何参数。默认构造函数也称为无参数构造函数。如果类已经有一个构造函数，编译器就不会添加任何构造函数。</p>
 <br>      
</div></body></html>