<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Java哈希编码</h1><div style="width:100%;float:left;" class="article-content">   
 <h2 id="h2-u5BF9u8C61u7684u54C8u5E0Cu4EE3u7801"><a name="对象的哈希代码" class="reference-link"></a><span class="header-link octicon octicon-link"></span>对象的哈希代码</h2>
 <p>哈希码(也叫散列码)是一个整数值。计算整数的算法称为散列函数。Java使用散列码从基于散列的集合中有效地检索数据。<code>Object</code>类有一个返回<code>int</code>的<code>hashCode()</code>方法，它是对象的哈希码。<br>该方法的默认实现通过将对象的内存地址转换为整数来计算对象的哈希码。下面是我们在类中重写<code>hashCode()</code>方法时必须遵循的规则。<br>假设有两个对象引用，<code>x</code>和<code>y</code>。</p> 
 <p>如果<code>x.equals(y)</code>返回<code>true</code>，<code>x.hashCode()</code>必须返回一个整数，它等于<code>y.hashCode()</code>。<br>如果两个对象使用<code>equals()</code>方法相等，则它们必须具有相同的哈希码。<br>如果<code>x.hashCode()</code>等于<code>y.hashCode()</code>，则<code>x.equals(y)</code>不必返回<code>true</code>。<br>如果对同一个对象多次调用<code>hashCode()</code>方法，则该方法必须返回相同的整数值。</p> 
 <p>如果一个类覆盖这两个方法中的任何一个，它必须基于散列集合覆盖该类的对象以保证能正确工作。Java 7添加了一个实用程序类<code>java.lang.Objects</code>。 它包含一个<code>hash()</code>方法，用于计算任意数量值的哈希码。从java 7，使用<code>Objects.hash()</code>方法来计算对象的哈希码。</p> 
 <h2 id="h2-u5B9Eu4F8B"><a name="实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例</h2>  
 <p>以下代码显示如何计算哈希值。</p> 
 <pre><code class="lang-java">class Book {
  private String title;
  private String author;


  public int hashCode() {
    int hash = 37;
    int code = 0;

    // Use title
    code = (title == null ? 0 : title.hashCode());
    hash = hash * 59 + code;

    // Use author
    code = (author == null ? 0 : author.hashCode());
    hash = hash * 59 + code;

    return hash;
  }
}
</code></pre>
 <br>      
</div></body></html>