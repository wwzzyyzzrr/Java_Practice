<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">PDFBox读取文档</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在前一章中，我们已经学习了如何将文本添加到现有的PDF文档。 在本章中，我们将学习如何从现有PDF文档中读取文本。</p> 
 <h2 id="h2--pdf-"><a name="从现有的PDF文档中提取文本" class="reference-link"></a><span class="header-link octicon octicon-link"></span>从现有的PDF文档中提取文本</h2>
 <p>提取文本是<code>PDFBox</code>的主要功能之一。 可以使用<code>PDFTextStripper</code>类的<code>getText()</code>方法提取文本。 这个类从给定的PDF文档中提取所有文本。</p> 
 <p>以下是从现有PDF文档中提取文本的步骤。</p> 
 <p><strong>第1步:加载现有的PDF文档</strong></p> 
 <p>使用<code>PDDocument</code>类的静态方法<code>load()</code>加载现有的PDF文档。 此方法接受一个文件对象作为参数，因为这是一个静态方法，可以使用类名称调用它，如下所示。</p> 
 <pre><code class="lang-java">File file = new File("path_of_the_document"); 
PDDocument document = PDDocument.load(file);
</code></pre> 
 <p><strong>第2步:实例化PDFTextStripper类</strong></p> 
 <p><code>PDFTextStripper</code>类提供了从PDF文档中检索文本的方法，因此，请按如下所示实例化此类。</p> 
 <pre><code class="lang-java">PDFTextStripper pdfStripper = new PDFTextStripper();
</code></pre> 
 <p><strong>第3步:检索文本</strong></p> 
 <p>使用<code>PDFTextStripper</code>类的<code>getText()</code>方法从PDF文档读取/检索页面的内容。 对于此方法，需要将文档对象作为参数传递。 此方法检索给定文档中的文本并以String对象的形式返回。</p> 
 <pre><code class="lang-java">String text = pdfStripper.getText(document);
</code></pre> 
 <h2 id="h2--4-"><a name="第4步:关闭文档" class="reference-link"></a><span class="header-link octicon octicon-link"></span>第4步:关闭文档</h2>
 <p>最后，使用<code>PDDocument</code>类的<code>close()</code>方法关闭文档，如下所示。</p> 
 <pre><code class="lang-java">document.close();
</code></pre> 
 <h2 id="h2-u793Au4F8B"><a name="示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例</h2>
 <p>假设有一个PDF文档(<em>new-mul-doc.pdf</em>)，其中包含一些文本，如下所示。<br><img src="http://www.yiibai.com/uploads/images/201803/1003/630120335_42206.png" alt=""></p> 
 <p>此示例演示如何从上述PDF文档中读取文本。 在这里，将创建一个Java程序并加载一个PDF文档:<em>new-mul-doc.pdf</em>，该文档保存在目录:<em>F:\worksp\pdfbox</em> 中。 将此代码保存在名称为<code>ReadingText.java</code>的文件中。</p>   
 <pre><code class="lang-java">package com.yiibai;

import java.io.File;
import java.io.IOException;

import org.apache.pdfbox.pdmodel.PDDocument;
import org.apache.pdfbox.text.PDFTextStripper;
public class ReadingText {

   public static void main(String args[]) throws IOException {

      //Loading an existing document
      File file = new File("F:\\worksp\\pdfbox\\new-mul-doc.pdf");
      PDDocument document = PDDocument.load(file);

      //Instantiate PDFTextStripper class
      PDFTextStripper pdfStripper = new PDFTextStripper();

      //Retrieving text from PDF document
      String text = pdfStripper.getText(document);
      System.out.println(text);

      //Closing the document
      document.close();

   }
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">This is an example of adding text to a page in the pdf document. we can add as many lines
as we want like this using the ShowText()  method of the ContentStream class
</code></pre>
 <br>      
</div></body></html>