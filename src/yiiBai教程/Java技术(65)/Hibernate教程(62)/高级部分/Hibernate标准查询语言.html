<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Hibernate标准查询语言</h1><div style="width:100%;float:left;" class="article-content">   
 <p>Hibernate标准(Criteria)查询语言(HCQL)用于根据具体条件获取记录。Criteria接口提供了应用标准的方法，例如检索薪水大于50000的表的所有记录。</p> 
 <h2 id="h2-hcql-"><a name="HCQL的优势" class="reference-link"></a><span class="header-link octicon octicon-link"></span>HCQL的优势</h2>
 <p>HCQL提供了添加条件的方法，因此，java程序员可以很容易添加条件。 java程序员能够在查询中根据需要添加多个条件。</p> 
 <h2 id="h2-criteria-"><a name="Criteria接口" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Criteria接口</h2>
 <p><code>Criteria</code>接口提供了许多方法来指定条件。 可以通过调用Session接口的<code>createCriteria()</code>方法获得<code>Criteria</code>对象。</p> 
 <p><strong>session接口的createCriteria()方法的语法</strong></p> 
 <pre><code class="lang-java">public Criteria createCriteria(Class c)
</code></pre> 
 <p>常用的<code>Criteria</code>接口方法如下：</p> 
 <ol> 
  <li><code>public Criteria add(Criterion c)</code> 用于添加限制(条件)。</li>
  <li><code>public Criteria addOrder(Order o)</code> 指定排序顺序。</li>
  <li><code>public Criteria setFirstResult(int firstResult)</code> 指定要检索的第一个记录数。</li>
  <li><code>public Criteria setMaxResult(int totalResult)</code> 指定要检索的记录总数。</li>
  <li><code>public List list()</code> 返回包含对象的列表。</li>
  <li><code>public Criteria setProjection(Projection projection)</code> 指定投影。</li>
 </ol> 
 <h2 id="h2-restrictions-"><a name="Restrictions类" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Restrictions类</h2>
 <p><code>Restrictions</code>类提供可用作标准的方法。 常用的<code>Restrictions</code>类方法如下：</p> 
 <ol> 
  <li><code>public static SimpleExpression lt(String propertyName,Object value)</code> 将给定属性的约束设置为小于约束。</li>
  <li><code>public static SimpleExpression le(String propertyName,Object value)</code> 设置给定属性的小于或等于约束。</li>
  <li><code>public static SimpleExpression gt(String propertyName,Object value)</code> 设置给定属性的大于约束。</li>
  <li><code>public static SimpleExpression ge(String propertyName,Object value)</code> 设置给定属性的大于或等于约束。</li>
  <li><code>public static SimpleExpression ne(String propertyName,Object value)</code> 对给定的属性设置不相于约束。</li>
  <li><code>public static SimpleExpression eq(String propertyName,Object value)</code> 设置约束与给定属性相等。</li>
  <li><code>public static Criterion between(String propertyName, Object low, Object high)</code> 设置约束之间范围。</li>
  <li><code>public static SimpleExpression like(String propertyName, Object value)</code> 将类似的约束设置为给定的属性。</li>
 </ol> 
 <h2 id="h2-order-"><a name="Order类" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Order类</h2>
 <p><code>Order</code>类代表排序顺序。常用的 <code>Restrictions</code> 类方法如下：</p> 
 <ol> 
  <li><code>public static Order asc(String propertyName)</code> 适用于给定属性的基础上，按升序排列。</li>
  <li><code>public static Order desc(String propertyName)</code> 适用于给定属性的基础上，按降序排列。</li>
 </ol> 
 <h2 id="h2-hibernate-"><a name="Hibernate标准查询语言的示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Hibernate标准查询语言的示例</h2>
 <p>下面将给出一些HCQL的例子。</p> 
 <p><strong>获取所有记录的HCQL示例</strong></p>   
 <pre><code class="lang-java">Crietria c=session.createCriteria(Emp.class);//passing Class class argument  
List list=c.list();
</code></pre> 
 <p><strong>HCQL获得第10到20个记录的例子</strong></p> 
 <pre><code class="lang-java">Crietria c=session.createCriteria(Emp.class);  
c.setFirstResult(10);  
c.setMaxResult(20);  
List list=c.list();
</code></pre> 
 <p><strong>HCQL获取薪资大于10000的记录示例</strong></p> 
 <pre><code class="lang-java">Crietria c=session.createCriteria(Emp.class);  
c.add(Restrictions.gt("salary",10000));//salary is the propertyname  
List list=c.list();
</code></pre> 
 <p><strong>以薪酬(Salary)为基础升序排序记录的HCQL示例</strong></p> 
 <pre><code class="lang-java">Crietria c=session.createCriteria(Emp.class);  
c.addOrder(Order.asc("salary"));  
List list=c.list();
</code></pre> 
 <h2 id="h2-hcql-"><a name="HCQL及投影" class="reference-link"></a><span class="header-link octicon octicon-link"></span>HCQL及投影</h2>
 <p>我们可以通过诸如<code>name</code>等的投影来获取特定列的数据。下面来看一下简单的投影示例，仅打印表的<code>name</code>列的数据。</p> 
 <pre><code class="lang-java">Criteria c=session.createCriteria(Emp.class);  
c.setProjection(Projections.property("name"));  
List list=c.list();
</code></pre>
 <br>      
</div></body></html>