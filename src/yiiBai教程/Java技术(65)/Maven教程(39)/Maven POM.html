<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Maven POM</h1><div style="width:100%;float:left;" class="article-content">   
 <p>POM代表项目对象模型。它是 Maven 中工作的基本单位，这是一个 XML 文件。它始终保存在该项目基本目录中的 <code>pom.xml</code> 文件。<br>POM 包含的项目是使用 Maven 来构建的，它用来包含各种配置信息。<br>POM 也包含了目标和插件。在执行任务或目标时，Maven 会使用当前目录中的 POM。它读取POM得到所需要的配置信息，然后执行目标。部分的配置可以在 POM 使用如下：</p> 
 <ul> 
  <li>project dependencies</li>
  <li>plugins</li>
  <li>goals</li>
  <li>build profiles</li>
  <li>project version</li>
  <li>developers</li>
  <li>mailing list</li>
 </ul> 
 <p>创建一个POM之前，应该要先决定项目组(groupId)，它的名字(artifactId)和版本，因为这些属性在项目仓库是唯一标识的。</p> 
 <h2 id="h2-pom-"><a name="POM的例子" class="reference-link"></a><span class="header-link octicon octicon-link"></span>POM的例子</h2>
 <pre><code class="lang-xml">&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
   http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.yiibai.project-group&lt;/groupId&gt;
   &lt;artifactId&gt;project&lt;/artifactId&gt;
   &lt;version&gt;1.0&lt;/version&gt;
&lt;project&gt;
</code></pre> 
 <p>要注意的是，每个项目只有一个POM文件。</p> 
 <ul> 
  <li>所有的 POM 文件要项目元素必须有三个必填字段: <code>groupId</code>，<code>artifactId</code>，<code>version</code></li>
  <li>在库中的项目符号是：<code>groupId:artifactId:version</code> </li>
  <li>pom.xml 的根元素是 <code>project</code>，它有三个主要的子节点。</li>
 </ul> 
 <table> 
  <thead> 
   <tr> 
    <th>节点</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>groupId</td> 
    <td>这是项目组的编号，这在组织或项目中通常是独一无二的。 例如，一家银行集团<code>com.company.bank</code>拥有所有银行相关项目。</td> 
   </tr> 
   <tr> 
    <td>artifactId</td> 
    <td>这是项目的ID。这通常是项目的名称。 例如，<code>consumer-banking</code>。 除了<code>groupId</code>之外，<code>artifactId</code>还定义了<code>artifact</code>在存储库中的位置。</td> 
   </tr> 
   <tr> 
    <td><code>version</code></td> 
    <td>这是项目的版本。与<code>groupId</code>一起使用，<code>artifact</code>在存储库中用于将版本彼此分离。 例如：<code>com.company.bank:consumer-banking:1.0</code>，<code>com.company.bank:consumer-banking:1.1</code></td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2--pom"><a name="超级POM" class="reference-link"></a><span class="header-link octicon octicon-link"></span>超级POM</h2>
 <p>所有的POM继承自父类(尽管明确界定)。这个基础的 POM 被称为超级 POM，并包含继承默认值。 Maven使用有效的POM(超级POM加项目配置的配置)执行有关目标。它可以帮助开发人员指定最低配置的详细信息写在 <code>pom.xml</code> 中。虽然配置可以很容易被覆盖。 一个简单的方法来看看超级POM的默认配置，通过运行下面的命令：<code>mvn help:effective-pom</code> 创建一个 <code>pom.xml</code> 。 在下面的例子中，已经创建了一个 <code>pom.xml</code> 在<code>C:\MVN\</code> 项目文件夹中。 现在，打开命令控制台，进入包含 <code>pom.xml</code> 文件夹并执行以下 <code>mvn</code> 命令。</p> 
 <pre><code class="lang-shell">C:\MVN\project&gt; mvn help:effective-pom
</code></pre> 
 <p>Maven将开始处理，并显示有效的 <code>effective-pom</code> 。</p> 
 <pre><code class="lang-shell">[INFO] Scanning for projects...
[INFO] Searching repository for plugin with prefix: 'help'.
[INFO] ------------------------------------------------------------------------
[INFO] Building Unnamed - com.companyname.project-group:project-name:jar:1.0
[INFO]    task-segment: [help:effective-pom] (aggregator-style)
[INFO] ------------------------------------------------------------------------
[INFO] [help:effective-pom {execution: default-cli}]
[INFO]

.....

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
[INFO] Total time: &lt; 1 second
[INFO] Finished at: Thu Jul 05 11:41:51 IST 2012
[INFO] Final Memory: 6M/15M
[INFO] ------------------------------------------------------------------------
</code></pre> 
 <p>在控制台显示结果：有效POM，继承，插值，应用配置文件。</p> 
 <pre><code class="lang-shell">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!-- ================================================================= --&gt;
&lt;!--                                                                   --&gt;
&lt;!-- Generated by Maven Help Plugin on 2012-07-05T11:41:51             --&gt;
&lt;!-- See: http://maven.apache.org/plugins/maven-help-plugin/           --&gt;
&lt;!--                                                                   --&gt;
&lt;!-- ================================================================= --&gt;
&lt;!-- ================================================================= --&gt;
&lt;!--                                                                   --&gt;
&lt;!-- Effective POM for project                                         --&gt;
&lt;!-- 'com.companyname.project-group:project-name:jar:1.0'              --&gt;
&lt;!--                                                                   --&gt;
&lt;!-- ================================================================= --&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/
2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 h
ttp://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;com.companyname.project-group&lt;/groupId&gt;
  &lt;artifactId&gt;project&lt;/artifactId&gt;
  &lt;version&gt;1.0&lt;/version&gt;
  &lt;build&gt;
    &lt;sourceDirectory&gt;C:\MVN\project\src\main\java&lt;/sourceDirectory&gt;
    &lt;scriptSourceDirectory&gt;src/main/scripts&lt;/scriptSourceDirectory&gt;
    &lt;testSourceDirectory&gt;C:\MVN\project\src\test\java&lt;/testSourceDirectory&gt;
    &lt;outputDirectory&gt;C:\MVN\project\target\classes&lt;/outputDirectory&gt;
    &lt;testOutputDirectory&gt;C:\MVN\project\target\test-classes&lt;/testOutputDirectory&gt;
    &lt;resources&gt;
      &lt;resource&gt;
        &lt;mergeId&gt;resource-0&lt;/mergeId&gt;
        &lt;directory&gt;C:\MVN\project\src\main\resources&lt;/directory&gt;
      &lt;/resource&gt;
    &lt;/resources&gt;
    &lt;testResources&gt;
      &lt;testResource&gt;
        &lt;mergeId&gt;resource-1&lt;/mergeId&gt;
        &lt;directory&gt;C:\MVN\project\src\test\resources&lt;/directory&gt;
      &lt;/testResource&gt;
    &lt;/testResources&gt;
    &lt;directory&gt;C:\MVN\project\target&lt;/directory&gt;
    &lt;finalName&gt;project-1.0&lt;/finalName&gt;
    &lt;pluginManagement&gt;
      &lt;plugins&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;
          &lt;version&gt;1.3&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.2-beta-2&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.2&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.0.2&lt;/version&gt;         &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.0&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.4&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.3.1&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.1&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.2&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.2&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.5&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.4.3&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-rar-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.2&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.0-beta-8&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.3&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.0-beta-7&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.0.4&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.4.3&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.1-alpha-2&lt;/version&gt;
        &lt;/plugin&gt;
      &lt;/plugins&gt;
    &lt;/pluginManagement&gt;
    &lt;plugins&gt;

      &lt;plugin&gt;
        &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.1.1&lt;/version&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;repositories&gt;
    &lt;repository&gt;
      &lt;snapshots&gt;
        &lt;enabled&gt;false&lt;/enabled&gt;
      &lt;/snapshots&gt;
      &lt;id&gt;central&lt;/id&gt;
      &lt;name&gt;Maven Repository Switchboard&lt;/name&gt;
      &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;
    &lt;/repository&gt;
  &lt;/repositories&gt;
  &lt;pluginRepositories&gt;
    &lt;pluginRepository&gt;
      &lt;releases&gt;
        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;
      &lt;/releases&gt;
      &lt;snapshots&gt;
        &lt;enabled&gt;false&lt;/enabled&gt;
      &lt;/snapshots&gt;
      &lt;id&gt;central&lt;/id&gt;
      &lt;name&gt;Maven Plugin Repository&lt;/name&gt;
      &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;
    &lt;/pluginRepository&gt;
  &lt;/pluginRepositories&gt;
  &lt;reporting&gt;
    &lt;outputDirectory&gt;C:\MVN\project\target/site&lt;/outputDirectory&gt;
  &lt;/reporting&gt;
&lt;/project&gt;
</code></pre> 
 <p>在上面的<code>pom.xml</code> 中，可以看到默认的项目源文件夹结构，输出目录，插件，资料库，报表目录，Maven将使用它们来执行预期的目标。</p> 
 <p>Maven <code>pom.xml</code> 无须手动写入。</p> 
 <p>Maven提供了大量的原型插件以创建项目，包括项目结构 和 <code>pom.xml</code></p> 
 <p>如上述详细信息中提到 <a target="_blank" href="http://www.yiibai.com/maven_plugins.html" title="Maven插件">Maven插件</a>和<a target="_blank" href="http://www.yiibai.com/maven_creating_project.html" title="Maven创建项目">Maven创建项目</a>部分。</p>
 <br>      
</div></body></html>