<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">使用Maven创建Web应用程序项目</h1><div style="width:100%;float:left;" class="article-content">   
 <p> <span style="line-height:1.5;">在本教程中，我们将演示如何使用 Maven 创建一个 Java Web 项目(Spring MVC)。</span> </p> 
 <p> 用到的技术/工具： </p> 
 <ol> 
  <li> Maven 3.3.3 </li> 
  <li> Eclipse 4.3 </li> 
  <li> JDK 8 </li> 
  <li> Spring 4.1.1.RELEASED </li> 
  <li> Tomcat 7 </li> 
  <li> Logback 1.0.13 </li> 
 </ol> 
 <h2> 1. 从Maven模板创建Web项目 </h2> 
 <p> 您可以通过使用Maven的maven-archetype-webapp模板来创建一个快速启动Java Web应用程序的项目。在终端(* UNIX或Mac)或命令提示符(Windows)中，导航至您想要创建项目的文件夹。 </p> 
 <p> 键入以下命令： </p> 
 <pre>$ mvn archetype<span style="background-color:inherit;color:#999999;">:</span>generate <span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">-</span>DgroupId<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">=</span>com<span style="background-color:inherit;color:#999999;">.</span>yiibai <span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">-</span>DartifactId<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">=</span>CounterWebApp <span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">-</span>DarchetypeArtifactId<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">=</span>maven<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">-</span>archetype<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">-</span>webapp <span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">-</span>DinteractiveMode<span style="background-color:rgba(255, 255, 255, 0.498039);color:#A67F59;">=</span><span style="background-color:inherit;color:#990055;">false</span></pre> 
 <p> 具体示例 ： </p> 
 <pre class="prettyprint lang-xml">C:\worksp&gt;mvn archetype:generate -DgroupId=com.yiibai  -DartifactId=CounterWebAp
p -DarchetypeArtifactId=maven-archetype-webapp -DinteractiveMode=false
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Maven Stub Project (No POM) 1
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] &gt;&gt;&gt; maven-archetype-plugin:2.4:generate (default-cli) &gt; generate-sources
@ standalone-pom &gt;&gt;&gt;
[INFO]
[INFO] &lt;&lt;&lt; maven-archetype-plugin:2.4:generate (default-cli) &lt; generate-sources
@ standalone-pom &lt;&lt;&lt;
[INFO]
[INFO] --- maven-archetype-plugin:2.4:generate (default-cli) @ standalone-pom --
-
[INFO] Generating project in Batch mode
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/archetypes/ma
ven-archetype-webapp/1.0/maven-archetype-webapp-1.0.jar
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/archetypes/mav
en-archetype-webapp/1.0/maven-archetype-webapp-1.0.jar (4 KB at 0.1 KB/sec)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/archetypes/ma
ven-archetype-webapp/1.0/maven-archetype-webapp-1.0.pom
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/archetypes/mav
en-archetype-webapp/1.0/maven-archetype-webapp-1.0.pom (533 B at 0.1 KB/sec)
[INFO] -------------------------------------------------------------------------
---
[INFO] Using following parameters for creating project from Old (1.x) Archetype:
 maven-archetype-webapp:1.0
[INFO] -------------------------------------------------------------------------
---
[INFO] Parameter: basedir, Value: C:\worksp
[INFO] Parameter: package, Value: com.yiibai
[INFO] Parameter: groupId, Value: com.yiibai
[INFO] Parameter: artifactId, Value: CounterWebApp
[INFO] Parameter: packageName, Value: com.yiibai
[INFO] Parameter: version, Value: 1.0-SNAPSHOT
[INFO] project created from Old (1.x) Archetype in dir: C:\worksp\CounterWebApp
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 10:30 min
[INFO] Finished at: 2015-10-28T20:31:03+08:00
[INFO] Final Memory: 16M/174M
[INFO] ------------------------------------------------------------------------</pre> 
 <p> 新的Web项目命名为 “CounterWebApp”，以及一些标准的 web 目录结构也会自动创建。 </p> 
 <h2> 2. 项目目录布局 </h2> 
 <p> 查看生成的项目结构布局： </p> 
 <pre class="prettyprint lang-xml">.|____CounterWebApp
||____pom.xml
||____src
|||____main
||||____resources
||||____webapp
|||||____index.jsp
|||||____WEB-INF
||||||____web.xml</pre> 
 <p> <br> </p> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> Maven 产生了一些文件夹，一个部署描述符 web.xml，pom.xml 和 index.jsp。 </p> 
 <div style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#E6E6FC;"> 
  <strong>注意，</strong>
  <br> 请查看
  <a target="_blank" href="http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html">官方Maven标准目录布局指南</a>来了解更多。 
 </div> 
 <p style="color:#333333;font-family:Consolas, Monaco, 'Andale Mono', monospace;background-color:#E6E6FC;"> pom.xml </p> 
 <pre class="prettyprint lang-xml">&lt;project xmlns="http://maven.apache.org/POM/4.0.0" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
	http://maven.apache.org/maven-v4_0_0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;com.yiibai&lt;/groupId&gt;
  &lt;artifactId&gt;CounterWebApp&lt;/artifactId&gt;
  &lt;packaging&gt;war&lt;/packaging&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;name&gt;CounterWebApp Maven Webapp&lt;/name&gt;
  &lt;url&gt;http://maven.apache.org&lt;/url&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;3.8.1&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  &lt;build&gt;
    &lt;finalName&gt;CounterWebApp&lt;/finalName&gt;
  &lt;/build&gt;
&lt;/project&gt;</pre> 
 <p style="color:#333333;font-family:Consolas, Monaco, 'Andale Mono', monospace;background-color:#E6E6FC;"> web.xml – Servlet 2.3 已经比较旧, 建议升级到2.5 </p> 
 <pre><span style="background-color:inherit;color:#708090;">&lt;!DOCTYPE web-app PUBLIC
 "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
 "http://java.sun.com/dtd/web-app_2_3.dtd" &gt;</span><span style="background-color:inherit;color:#990055;"><span style="background-color:inherit;color:#999999;">&lt;</span>web-app<span style="background-color:inherit;color:#999999;">&gt;</span></span><span style="background-color:inherit;color:#990055;"><span style="background-color:inherit;color:#999999;">&lt;</span>display-name<span style="background-color:inherit;color:#999999;">&gt;</span></span>Archetype Created Web Application<span style="background-color:inherit;color:#990055;"><span style="background-color:inherit;color:#999999;">&lt;/</span>display-name<span style="background-color:inherit;color:#999999;">&gt;</span></span><span style="background-color:inherit;color:#990055;"><span style="background-color:inherit;color:#999999;">&lt;/</span>web-app<span style="background-color:inherit;color:#999999;">&gt;</span></span></pre> 
 <p style="color:#333333;font-family:Consolas, Monaco, 'Andale Mono', monospace;background-color:#E6E6FC;"> index.jsp – 一个简单的 hello world html 页面文件 </p> 
 <pre class="prettyprint lang-xml">&lt;html&gt;
&lt;body&gt;
&lt;div&gt;&lt;div class="ads-in-post hide_if_width_less_800"&gt;
&lt;script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"&gt;&lt;/script&gt;
&lt;!-- 728x90 - After2ndH4 --&gt;
&lt;ins class="adsbygoogle hide_if_width_less_800" 
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-2836379775501347"
     data-ad-slot="3642936086"
	 data-ad-region="mkyongregion"&gt;&lt;/ins&gt;
&lt;script&gt;
(adsbygoogle = window.adsbygoogle || []).push({});
&lt;/script&gt;
&lt;/div&gt;&lt;/div&gt;&lt;h2&gt;Hello World!&lt;/h2&gt;
&lt;/body&gt;
&lt;/html&gt;</pre> 
 <h2 style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:24px;font-weight:500;background-color:#FFFFFF;"> 3. Eclipse IDE 支持 </h2> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 要导入这个项目到Eclipse中，需要生成一些 Eclipse 项目的配置文件： </p> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 3.1、在终端，进入到 “CounterWebApp” 文件夹中，键入以下命令： </p> 
 <pre>C:\worksp&gt;cd CounterWebApp
C:\worksp\CounterWebApp&gt;mvn&nbsp;eclipse:eclipse&nbsp;-Dwtpversion=2.0
[INFO]&nbsp;Scanning&nbsp;for&nbsp;projects...
Downloading:&nbsp;<a target="_blank" href="https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven">https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven</a> -war-plugin/2.2/maven-war-plugin-2.2.pom
Downloaded:&nbsp;<a target="_blank" href="https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-">https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-</a> war-plugin/2.2/maven-war-plugin-2.2.pom&nbsp;(7&nbsp;KB&nbsp;at&nbsp;2.5&nbsp;KB/sec)
Downloading:&nbsp;<a target="_blank" href="https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven">https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven</a> -war-plugin/2.2/maven-war-plugin-2.2.jar
Downloaded:&nbsp;<a target="_blank" href="https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-">https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-</a> war-plugin/2.2/maven-war-plugin-2.2.jar&nbsp;(77&nbsp;KB&nbsp;at&nbsp;26.2&nbsp;KB/sec)
[INFO]
[INFO]&nbsp;------------------------------------------------------------------------
[INFO]&nbsp;Building&nbsp;CounterWebApp&nbsp;Maven&nbsp;Webapp&nbsp;1.0-SNAPSHOT
[INFO]&nbsp;------------------------------------------------------------------------
[INFO]
[INFO]&nbsp;&gt;&gt;&gt;&nbsp;maven-eclipse-plugin:2.10:eclipse&nbsp;(default-cli)&nbsp;&gt;&nbsp;generate-resources
@&nbsp;CounterWebApp&nbsp;&gt;&gt;&gt;
[INFO]
[INFO]&nbsp;&lt;&lt;&lt;&nbsp;maven-eclipse-plugin:2.10:eclipse&nbsp;(default-cli)&nbsp;&lt;&nbsp;generate-resources
@&nbsp;CounterWebApp&nbsp;&lt;&lt;&lt;
[INFO]
[INFO]&nbsp;---&nbsp;maven-eclipse-plugin:2.10:eclipse&nbsp;(default-cli)&nbsp;@&nbsp;CounterWebApp&nbsp;---
[INFO]&nbsp;Adding&nbsp;support&nbsp;for&nbsp;WTP&nbsp;version&nbsp;2.0.
[INFO]&nbsp;Using&nbsp;Eclipse&nbsp;Workspace:&nbsp;null
[INFO]&nbsp;Adding&nbsp;default&nbsp;classpath&nbsp;container:&nbsp;org.eclipse.jdt.launching.JRE_CONTAINER
[INFO]&nbsp;Not&nbsp;writing&nbsp;settings&nbsp;-&nbsp;defaults&nbsp;suffice
[INFO]&nbsp;Wrote&nbsp;Eclipse&nbsp;project&nbsp;for&nbsp;"CounterWebApp"&nbsp;to&nbsp;C:\worksp\CounterWebApp.
[INFO]
[INFO]&nbsp;------------------------------------------------------------------------
[INFO]&nbsp;BUILD&nbsp;SUCCESS
[INFO]&nbsp;------------------------------------------------------------------------
[INFO]&nbsp;Total&nbsp;time:&nbsp;7.982&nbsp;s
[INFO]&nbsp;Finished&nbsp;at:&nbsp;2015-10-28T20:24:57+08:00
[INFO]&nbsp;Final&nbsp;Memory:&nbsp;15M/146M
[INFO]&nbsp;------------------------------------------------------------------------</pre> 
 <div style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#E6E6FC;"> 
  <b>注意，</b>此选项 -Dwtpversion=2.0 告诉 Maven 将项目转换到 Eclipse 的 Web 项目(WAR)，而不是默认的Java项目(JAR)。为方便起见，以后我们会告诉你如何配置 pom.xml 中的这个 WTP 选项。 
 </div> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 3.2 导入到 Eclipse IDE – File -&gt; Import… -&gt; General -&gt; Existing Projects into workspace. </p> 
 <div style="color:#333333;font-family:'Helvetica Neue', Helvetica,  text-align:center;background-color:#F9F9F9;"> 
  <img src="file://D:/Program%20Files/qq24B39E2329F08D9F4C3146A571A415EF/23b5cc0338ec4e9d8eb9e20b6d71f538/ct-structure.png" alt="project structure" width="414" height="241" style="height:auto;"> 
 </div> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> <em>图像说明: 在 Eclipse 中，如果看到项目顶部有地球图标，意味着这是一个 Web 项目。</em> </p> 
 <h2 style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:24px;font-weight:500;background-color:#FFFFFF;"> 4. 更新POM </h2> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 在Maven中，Web项目的设置都通过这个单一的pom.xml文件配置。 </p> 
 <ol style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 
  <li style="background-color:inherit;"> 添加项目依赖 - Spring, logback 和 JUnit </li> 
  <li style="background-color:inherit;"> 添加插件来配置项目 </li> 
 </ol> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 阅读注释清楚明了。 </p> 
 <div style="color:#333333;font-family:Consolas, Monaco, 'Andale Mono', monospace;background-color:#E6E6FC;">
   pom.xml 
 </div> 
 <pre>&lt;project&nbsp;xmlns="<a target="_blank" href="http://maven.apache.org/POM/4.0.0">http://maven.apache.org/POM/4.0.0</a>"&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xsi="<a target="_blank" href="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>"
	xsi:schemaLocation="<a target="_blank" href="http://maven.apache.org/POM/4.0.0">http://maven.apache.org/POM/4.0.0</a>&nbsp; <a target="_blank" href="http://maven.apache.org/maven-v4_0_0.xsd">http://maven.apache.org/maven-v4_0_0.xsd</a>"&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
	&lt;groupId&gt;com.yiibai&lt;/groupId&gt;
	&lt;artifactId&gt;CounterWebApp&lt;/artifactId&gt;
	&lt;packaging&gt;war&lt;/packaging&gt;
	&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
	&lt;name&gt;CounterWebApp&nbsp;Maven&nbsp;Webapp&lt;/name&gt;
	&lt;url&gt;<a target="_blank" href="http://maven.apache.org%3C/url%3E">http://maven.apache.org&lt;/url&gt;</a> &lt;properties&gt;
		&lt;jdk.version&gt;1.7&lt;/jdk.version&gt;
		&lt;spring.version&gt;4.1.1.RELEASE&lt;/spring.version&gt;
		&lt;jstl.version&gt;1.2&lt;/jstl.version&gt;
		&lt;junit.version&gt;4.11&lt;/junit.version&gt;
		&lt;logback.version&gt;1.0.13&lt;/logback.version&gt;
		&lt;jcl-over-slf4j.version&gt;1.7.5&lt;/jcl-over-slf4j.version&gt;
	&lt;/properties&gt;

	&lt;dependencies&gt;
		&lt;!--&nbsp;Unit&nbsp;Test&nbsp;--&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;junit&lt;/groupId&gt;
			&lt;artifactId&gt;junit&lt;/artifactId&gt;
			&lt;version&gt;${junit.version}&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;!--&nbsp;Spring&nbsp;Core&nbsp;--&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-core&lt;/artifactId&gt;
			&lt;version&gt;${spring.version}&lt;/version&gt;
			&lt;exclusions&gt;
				&lt;exclusion&gt;
					&lt;groupId&gt;commons-logging&lt;/groupId&gt;
					&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;
				&lt;/exclusion&gt;
			&lt;/exclusions&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.slf4j&lt;/groupId&gt;
			&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;
			&lt;version&gt;${jcl-over-slf4j.version}&lt;/version&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
			&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
			&lt;version&gt;${logback.version}&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-web&lt;/artifactId&gt;
			&lt;version&gt;${spring.version}&lt;/version&gt;
		&lt;/dependency&gt;

		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework&lt;/groupId&gt;
			&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
			&lt;version&gt;${spring.version}&lt;/version&gt;
		&lt;/dependency&gt;
		&lt;!--&nbsp;jstl&nbsp;--&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;jstl&lt;/groupId&gt;
			&lt;artifactId&gt;jstl&lt;/artifactId&gt;
			&lt;version&gt;${jstl.version}&lt;/version&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;

	&lt;build&gt;
		&lt;finalName&gt;CounterWebApp&lt;/finalName&gt;

		&lt;plugins&gt;
		&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;Eclipse&nbsp;project&nbsp;--&gt;
		&nbsp;&nbsp;&lt;plugin&gt;
			&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
			&lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;
			&lt;version&gt;2.9&lt;/version&gt;
			&lt;configuration&gt;
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;Always&nbsp;download&nbsp;and&nbsp;attach&nbsp;dependencies&nbsp;source&nbsp;code&nbsp;--&gt;
				&lt;downloadSources&gt;true&lt;/downloadSources&gt;
				&lt;downloadJavadocs&gt;false&lt;/downloadJavadocs&gt;
				&lt;!--&nbsp;Avoid&nbsp;type&nbsp;mvn&nbsp;eclipse:eclipse&nbsp;-Dwtpversion=2.0&nbsp;--&gt;
				&lt;wtpversion&gt;2.0&lt;/wtpversion&gt;
			&lt;/configuration&gt;
		&nbsp;&nbsp;&lt;/plugin&gt;

		&nbsp;&nbsp;&lt;!--&nbsp;Set&nbsp;JDK&nbsp;Compiler&nbsp;Level&nbsp;--&gt;
		&nbsp;&nbsp;&lt;plugin&gt;
			&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
			&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
			&lt;version&gt;2.3.2&lt;/version&gt;
			&lt;configuration&gt;
				&lt;source&gt;${jdk.version}&lt;/source&gt;
				&lt;target&gt;${jdk.version}&lt;/target&gt;
			&lt;/configuration&gt;
		&nbsp;&nbsp;&lt;/plugin&gt;

		&nbsp;&nbsp;&lt;!--&nbsp;For&nbsp;Maven&nbsp;Tomcat&nbsp;Plugin&nbsp;--&gt;
		&nbsp;&nbsp;&lt;plugin&gt;
			&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;
			&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;
			&lt;version&gt;2.2&lt;/version&gt;
			&lt;configuration&gt;
				&lt;path&gt;/CounterWebApp&lt;/path&gt;
			&lt;/configuration&gt;
		&nbsp;&nbsp;&lt;/plugin&gt;
		&lt;/plugins&gt;
	&lt;/build&gt;
&lt;/project&gt;</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#E6E6FC;"> <strong>注意，</strong>为方便起见，声明 maven-eclipse-plugin，并配置wtpversion 来避免输入参数 -Dwtpversion=2.0。现在，每次使用 mvn eclipse:eclipse，Maven将这个项目导入转换为 Eclipse Web 项目。 </p> 
 <pre class="prettyprint lang-bsh">#之前 
mvn eclipse:eclipse --&gt; Eclipse Java project (JAR)
mvn eclipse:eclipse -Dwtpversion=2.0 --&gt; Eclipse Java web project (WAR)

#之后
mvn eclipse:eclipse --&gt; Eclipse Java web project (WAR)</pre> 
 <h2 style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:24px;font-weight:500;background-color:#FFFFFF;"> 5. 更新源代码 </h2> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 在这一步中，在上一步配置完pom.xml后，重新执行 mvn eclipse:eclipse 这个命令，我们将创建Spring MVC的一些文件和logback日志框架的文件夹，最终的项目结构如下所示： </p>   
 <pre class="prettyprint">.
|____pom.xml
|____src
| |____main
| | |____java
| | | |____com
| | | | |____yiibai
| | | | | |____controller
| | | | | | |____BaseController.java
| | |____resources
| | | |____logback.xml
| | |____webapp
| | | |____WEB-INF
| | | | |____mvc-dispatcher-servlet.xml
| | | | |____pages
| | | | | |____index.jsp
| | | | |____web.xml</pre> 
 <p> <br> </p> 
 <div style="color:#333333;font-family:'Helvetica Neue', Helvetica,  text-align:center;background-color:#F9F9F9;"> 
  <img src="file://D:/Program%20Files/qq24B39E2329F08D9F4C3146A571A415EF/1786ce0d5fc641609e2e7ddd8915bcf8/clipboard.png"> 
 </div> 
 <div style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#E6E6FC;"> 
  <b>注意，<b>如果它不存在，需要</b>手动创建文件夹。</b> 
 </div> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 5.1 创建 Spring MVC 的控制器类。 </p> 
 <p style="color:#333333;font-family:Consolas, Monaco, 'Andale Mono', monospace;background-color:#E6E6FC;"> /src/main/java/com/yiibai/controller/BaseController.java </p> 
 <pre class="prettyprint lang-java">package com.yiibai.controller;

import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;

@Controller
public class BaseController {

	private static int counter = 0;
	private static final String VIEW_INDEX = "index";
	private final static org.slf4j.Logger logger = LoggerFactory.getLogger(BaseController.class);

	@RequestMapping(value = "/", method = RequestMethod.GET)
	public String welcome(ModelMap model) {

		model.addAttribute("message", "Welcome");
		model.addAttribute("counter", ++counter);
		logger.debug("[welcome] counter : {}", counter);

		// Spring uses InternalResourceViewResolver and return back index.jsp
		return VIEW_INDEX;

	}

	@RequestMapping(value = "/{name}", method = RequestMethod.GET)
	public String welcomeName(@PathVariable String name, ModelMap model) {

		model.addAttribute("message", "Welcome " + name);
		model.addAttribute("counter", ++counter);
		logger.debug("[welcomeName] counter : {}", counter);
		return VIEW_INDEX;

	}

}</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 5.2 创建Spring配置文件。 </p> 
 <div style="color:#333333;font-family:Consolas, Monaco, 'Andale Mono', monospace;background-color:#E6E6FC;">
   /src/main/webapp/WEB-INF/mvc-dispatcher-servlet.xml 
 </div> 
 <pre>&lt;beans&nbsp;xmlns="<a target="_blank" href="http://www.springframework.org/schema/beans">http://www.springframework.org/schema/beans</a>"
	xmlns:context="<a target="_blank" href="http://www.springframework.org/schema/context">http://www.springframework.org/schema/context</a>"
	xmlns:xsi="<a target="_blank" href="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>"
	xsi:schemaLocation="
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a target="_blank" href="http://www.springframework.org/schema/beans">http://www.springframework.org/schema/beans</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a target="_blank" href="http://www.springframework.org/schema/beans/spring-beans.xsd">http://www.springframework.org/schema/beans/spring-beans.xsd</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a target="_blank" href="http://www.springframework.org/schema/context">http://www.springframework.org/schema/context</a>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a target="_blank" href="http://www.springframework.org/schema/context/spring-context.xsd">http://www.springframework.org/schema/context/spring-context.xsd</a>"&gt;

	&lt;context:component-scan&nbsp;base-package="com.yiibai.controller"&nbsp;/&gt;
	&lt;bean
		class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
		&lt;property&nbsp;name="prefix"&gt;
			&lt;value&gt;/WEB-INF/pages/&lt;/value&gt;
		&lt;/property&gt;
		&lt;property&nbsp;name="suffix"&gt;
			&lt;value&gt;.jsp&lt;/value&gt;
		&lt;/property&gt;
	&lt;/bean&gt;

&lt;/beans&gt;</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 5.3 更新让现有的 web.xml 支持 Servlet 2.5(默认的Servlet2.3 太旧了)，&nbsp;并且还通过 Spring 监听器 ContextLoaderListener 集成了Spring框架。 </p> 
 <div style="color:#333333;font-family:Consolas, Monaco, 'Andale Mono', monospace;background-color:#E6E6FC;">
   /src/main/webapp/WEB-INF/web.xml 
 </div> 
 <pre>&lt;web-app&nbsp;xmlns="<a target="_blank" href="http://java.sun.com/xml/ns/javaee">http://java.sun.com/xml/ns/javaee</a>"&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xsi="<a target="_blank" href="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>"
	xsi:schemaLocation="<a target="_blank" href="http://java.sun.com/xml/ns/javaee">http://java.sun.com/xml/ns/javaee</a>&nbsp;
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a target="_blank" href="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd</a>"
	version="2.5"&gt;

	&lt;display-name&gt;Counter&nbsp;Web&nbsp;Application&lt;/display-name&gt;

	&lt;servlet&gt;
		&lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;
		&lt;servlet-class&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.springframework.web.servlet.DispatcherServlet
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/servlet-class&gt;
		&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
	&lt;/servlet&gt;

	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;
		&lt;url-pattern&gt;/&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;

	&lt;context-param&gt;
		&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
		&lt;param-value&gt;/WEB-INF/mvc-dispatcher-servlet.xml&lt;/param-value&gt;
	&lt;/context-param&gt;

	&lt;listener&gt;
		&lt;listener-class&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.springframework.web.context.ContextLoaderListener
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/listener-class&gt;
	&lt;/listener&gt;
&lt;/web-app&gt;</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 5.4 移动文件&nbsp;index.jsp&nbsp;到&nbsp;WEB-INF/pages&nbsp;目录下， 为了保护直接访问。并更新内容： </p> 
 <p style="color:#333333;font-family:Consolas, Monaco, 'Andale Mono', monospace;background-color:#E6E6FC;"> /src/main/webapp/WEB-INF/pages/index.jsp </p> 
 <p style="color:#333333;font-family:Consolas, Monaco, 'Andale Mono', monospace;background-color:#E6E6FC;"> <br> </p> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 5.5 在资源文件夹(resources)中创建 logback.xml 文件 </p> 
 <div style="color:#333333;font-family:Consolas, Monaco, 'Andale Mono', monospace;background-color:#E6E6FC;">
   /src/main/resources/logback.xml 
 </div> 
 <pre><span style="background-color:inherit;">&lt;?xml version="1.0" encoding="UTF-8"?&gt; </span></pre> 
 <h2 style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:24px;font-weight:500;background-color:#FFFFFF;"> 6. Eclipse + Tomcat </h2> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 在第5步中创建所有文件以后，这里有一些方法可以用来部署和测试Web项目，我们这里推荐使用6.2中的方法。 </p> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 6.1 要编译，测试和项目打包成一个WAR文件，输入： </p> 
 <pre>mvn package</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 一个新的 WAR 文件将在 project/target/CounterWebApp.war产生，只需复制并部署到Tomcat 发布的目录。 </p> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 6.2 如果想通过 Eclipse 服务器这个项目插件(Tomcat 或其它容器)调试，这里再输入： </p> 
 <pre>mvn eclipse<span style="background-color:inherit;color:#999999;">:</span>eclipse</pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 如果一切顺利，该项目的依赖将被装配附加到 Web部署项目。<em>图片: 右键点击 project -&gt; Properties -&gt; Deployment Assembly</em> </p> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 6.3 Maven 的 Tomcat 插件声明(加入到 pom.xml)： </p> 
 <div style="color:#333333;font-family:Consolas, Monaco, 'Andale Mono', monospace;background-color:#E6E6FC;">
   pom.xml 
 </div> 
 <pre><span style="background-color:inherit;">&lt;!-- For Maven Tomcat Plugin --&gt; </span></pre> 
 <p style="color:#333333;font-family:'Helvetica Neue', Helvetica,  background-color:#FFFFFF;"> 键入以下命令(有时网络不通畅需要执行2-3次)： </p> 
 <pre>mvn tomcat<span style="background-color:inherit;color:#999999;">:</span>run
tp://logback.qos.ch/codes.html#layoutInsteadOfEncoder&nbsp;for&nbsp;details
20:37:32,089&nbsp;|-INFO&nbsp;in&nbsp;ch.qos.logback.classic.joran.action.LoggerAction&nbsp;-&nbsp;Se
g&nbsp;level&nbsp;of&nbsp;logger&nbsp;[com.yiibai.controller]&nbsp;to&nbsp;DEBUG
20:37:32,089&nbsp;|-INFO&nbsp;in&nbsp;ch.qos.logback.classic.joran.action.LoggerAction&nbsp;-&nbsp;Se
g&nbsp;additivity&nbsp;of&nbsp;logger&nbsp;[com.yiibai.controller]&nbsp;to&nbsp;false
20:37:32,090&nbsp;|-INFO&nbsp;in&nbsp;ch.qos.logback.core.joran.action.AppenderRefAction&nbsp;-
ching&nbsp;appender&nbsp;named&nbsp;[STDOUT]&nbsp;to&nbsp;Logger[com.yiibai.controller]
20:37:32,090&nbsp;|-INFO&nbsp;in&nbsp;ch.qos.logback.classic.joran.action.RootLoggerAction
tting&nbsp;level&nbsp;of&nbsp;ROOT&nbsp;logger&nbsp;to&nbsp;ERROR
20:37:32,090&nbsp;|-INFO&nbsp;in&nbsp;ch.qos.logback.core.joran.action.AppenderRefAction&nbsp;-
ching&nbsp;appender&nbsp;named&nbsp;[STDOUT]&nbsp;to&nbsp;Logger[ROOT]
20:37:32,090&nbsp;|-INFO&nbsp;in&nbsp;ch.qos.logback.classic.joran.action.ConfigurationActi
&nbsp;End&nbsp;of&nbsp;configuration.
20:37:32,091&nbsp;|-INFO&nbsp;in&nbsp;<a target="_blank" href="mailto:ch.qos.logback.classic.joran.JoranConfigurator@3bead5">ch.qos.logback.classic.joran.JoranConfigurator@3bead5</a> &nbsp;Registering&nbsp;current&nbsp;configuration&nbsp;as&nbsp;safe&nbsp;fallback&nbsp;point

十月&nbsp;28,&nbsp;2015&nbsp;20:37:32&nbsp;下午&nbsp;org.apache.catalina.core.ApplicationContext&nbsp;log
信息:&nbsp;Initializing&nbsp;Spring&nbsp;root&nbsp;WebApplicationContext
十月&nbsp;28,&nbsp;2015&nbsp;20:37:33&nbsp;下午&nbsp;org.apache.catalina.core.ApplicationContext&nbsp;log
信息:&nbsp;Initializing&nbsp;Spring&nbsp;FrameworkServlet&nbsp;'mvc-dispatcher'
十月&nbsp;28,&nbsp;2015&nbsp;20:37:33&nbsp;下午&nbsp;org.apache.coyote.http11.Http11Protocol&nbsp;init
信息:&nbsp;Initializing&nbsp;Coyote&nbsp;HTTP/1.1&nbsp;on&nbsp;http-8080
十月&nbsp;28,&nbsp;2015&nbsp;20:37:33&nbsp;下午&nbsp;org.apache.coyote.http11.Http11Protocol&nbsp;start
信息:&nbsp;Starting&nbsp;Coyote&nbsp;HTTP/1.1&nbsp;on&nbsp;http-8080</pre> 
 <p> 这将启动Tomcat，部署项目默认在端口8080。 </p> 
 <div>
   出错：Maven项目下update&nbsp;maven后Eclipse报错：java.lang.ClassNotFoundException:&nbsp;ContextLoaderL 
 </div> 
 <p> 解决方案： </p> 
 <p> <strong>1.右键点击项目--选择Properties</strong> </p> 
 <p> 选择Deployment Assembly,在右边点击Add按钮，在弹出的窗口中选择Java Build Path Entries </p> 
 <p> <strong>2.点击Next</strong>，选择Maven Dependencies </p> 
 <p> <strong>3.点击Finish，</strong>然后可以看到已经把Maven Dependencies添加到Web应用结构中了 </p> 
 <p> 操作完后，重新部署工程，不再报错了。然后我们再到.metadata\.plugins\org.eclipse.wst.server.core\tmp0\wtpwebapps\目录下，发现工程WEB-INF目录下自动生成了lib目录，并且所有的依赖jar包也都已经部署进来。问题因此解决。 </p>
 <br>      
</div></body></html>