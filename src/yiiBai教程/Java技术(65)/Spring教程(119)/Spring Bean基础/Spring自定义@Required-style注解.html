<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Spring自定义@Required-style注解</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    @Required注解是用来确保特定属性已设置。如果您迁移现有项目到Spring框架或有自己的@Required-style注解不管是什么原因，Spring允许您定义自定义@Required-style注解，相当于@Required注解。 
  </div> 
 </div> 
 <div> 
  <div>
    在这个例子中，您将创建一个名为 @Mandatory 定制 @Required-style 注解，相当于@Required注解。 
  </div> 
  <h2> 
   <div>
     1.创建@Mandatory接口 
   </div> </h2> 
  <pre>package com.yiibai.common;

import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
public @interface Mandatory {
}</pre> 
  <h2> 
   <div>
     2.应用它到属性 
   </div> </h2> 
  <pre>package com.yiibai.common;

public class Customer 
{
	private Person person;
	private int type;
	private String action;
	
	@Mandatory
	public void setPerson(Person person) {
		this.person = person;
	}
	//getter and setter methods
}</pre> 
  <h2> 
   <div>
     3.注册它 
   </div> </h2> 
  <div>
    包函新@Mandatory注释到“RequiredAnnotationBeanPostProcessor' 类。 
  </div> 
  <pre>&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"&gt;

&lt;bean 
class="org.springframework.beans.factory.annotation.RequiredAnnotationBeanPostProcessor"&gt;
	&lt;property name="requiredAnnotationType" value="com.yiibai.common.Mandatory"/&gt;
&lt;/bean&gt;
	
	&lt;bean id="CustomerBean" class="com.yiibai.common.Customer"&gt;
		&lt;property name="action" value="buy" /&gt;
		&lt;property name="type" value="1" /&gt;
	&lt;/bean&gt;
	
&lt;/beans&gt;</pre> 
  <h2> 4. 完成 </h2> 
  <div>
    这样做，创建了一个新的自定义命名 @Required-style的@Mandatory 注解，相当于 @Required 注解。 
  </div> 
 </div>
 <br>      
</div></body></html>