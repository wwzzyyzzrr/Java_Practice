<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Spring bean加载多个配置文件</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    在一个大的项目结构，Spring&nbsp;bean配置文件位于不同的文件夹以便于维护和模块化。例如，Spring-Common.xml在common&nbsp;文件夹中，Spring-Connection.xml&nbsp;在connection文件夹，Spring-ModuleA.xml在ModuleA 文件夹等等。 
  </div> 
 </div> 
 <div> 
  <div>
    你可以加载多个Spring&nbsp;bean的配置文件如下代码中： 
  </div> 
  <pre>ApplicationContext context = 
    	new ClassPathXmlApplicationContext(new String[] {"Spring-Common.xml",
              "Spring-Connection.xml","Spring-ModuleA.xml"});</pre> 
  <div>
    把所有的 Spring&nbsp;XML 文件放入在项目类路径中。 
  </div> 
  <pre>project-classpath/Spring-Common.xml
	project-classpath/Spring-Connection.xml
	project-classpath/Spring-ModuleA.xml</pre> 
  <h2> 
   <div>
     解决方法 
   </div> </h2> 
  <div>
    以上方法是缺乏组织并且很容易出错，更好的办法应组织所有的Spring&nbsp;bean&nbsp;配置文件到一个XML文件。例如，创建一个Spring-All-Module.xml文件，并导入整个Spring&nbsp;bean的文件如下： 
  </div> 
  <div style="color:#333333;font-family:Consolas, Monaco, 'Andale Mono', monospace;font-size:16px;background-color:#E6E6FC;">
    File : Spring-All-Module.xml 
  </div> 
  <pre>&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"&gt;

	&lt;import resource="common/Spring-Common.xml"/&gt;
        &lt;import resource="connection/Spring-Connection.xml"/&gt;
        &lt;import resource="moduleA/Spring-ModuleA.xml"/&gt;
	
&lt;/beans&gt;</pre> 
  <div>
    现在，可以加载一个这样的 XML 文件： 
  </div>   
  <pre>ApplicationContext context = 
    		new ClassPathXmlApplicationContext(Spring-All-Module.xml);</pre> 
  <div>
    将这个文件放入项目的类路径。 
  </div> 
  <pre>project-classpath/Spring-All-Module.xml</pre> 
  <div style="color:#333333;font-family:'Helvetica Neue', Helvetica,  font-size:16px;background-color:#E6E6FC;"> 
   <strong>注意</strong>
   <br> 在Spring3，所述替代解决方案是使用&nbsp;
   <a target="_blank" href="http://www.yiibai.com/spring3/spring-3-javaconfig-import-example/">JavaConfig @Import</a>. 
  </div> 
  <div> 
   <br> 
  </div> 
 </div>
 <br>      
</div></body></html>