<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Spring+JDBC实例</h1><div style="width:100%;float:left;" class="article-content">   
 <h2> 1- 介绍 </h2> 
 <div> 
  <div>
    本篇教程是一个简单的Spring+JDBC的操作，作为一个入门级来实现读取MySQL(可选：Oracle或SQL Server)数据中Department表的所有数据。这篇文章是基于： 
  </div> 
  <div> 
   <ul> 
    <li> Spring 4 </li> 
    <li> Eclipse 4.4 (LUNA) </li> 
   </ul> 
  </div> 
  <div>
    在本文中，连接的是 MySQL数据库。您可以创建数据库DB类型，如Oracle，MySQL和SQLServer： 
  </div> 
  <ul> 
   <li> <a target="_blank" href="#db-script">附SQL脚本</a> </li> 
  </ul> 
  <h2> 2- 创建Maven工程 </h2> 
  <div> 
   <ul> 
    <li> File/New/Other...<br> <img src="/uploads/tutorial/20160121/1-16012119442K96.png" alt=""><br> </li> 
   </ul> 
  </div> 
  <div>
    输入： 
  </div> 
  <div> 
   <ul> 
    <li> Group Id: com.yiibai </li> 
    <li> Artifact Id: SpringJDBC </li> 
   </ul> 
  </div> 
  <div> 
   <img src="/uploads/tutorial/20160121/1-1601211945014S.png" alt="">
   <br> 工程被创建后如下所示：
   <br> 
   <img src="/uploads/tutorial/20160121/1-160121194521N3.png" alt="">
   <br> 
  </div> 
  <h2> 3- 配置Maven </h2> 
  <div>
    在这篇文章中，将指导你访问几种常见数据库的类型，如下： 
  </div> 
  <ul> 
   <li> Oracle </li> 
   <li> MySQL </li> 
   <li> SQLServer </li> 
  </ul> 
  <div>
    &nbsp; &nbsp; &nbsp; &nbsp;所以在Maven中，将配置库用于以上三种类型的数据库。在现实中，只需要配置一个使用的数据库类型(如：MySQL)。 
  </div> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>pom.xml</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E5EECC;"> 
   <pre>&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
                            http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
                           
   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
   &lt;groupId&gt;com.yiibai&lt;/groupId&gt;
   &lt;artifactId&gt;SpringJDBCTutorial&lt;/artifactId&gt;
   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;

   &lt;properties&gt;
       &lt;!-- Generic properties --&gt;
       &lt;java.version&gt;1.7&lt;/java.version&gt;
       &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
       &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;

   &lt;/properties&gt;

   &lt;repositories&gt;
       &lt;!-- Repository for ORACLE ojdbc6. --&gt;
       &lt;repository&gt;
           &lt;id&gt;codelds&lt;/id&gt;
           &lt;url&gt;https://code.lds.org/nexus/content/groups/main-repo&lt;/url&gt;
       &lt;/repository&gt;
   &lt;/repositories&gt;

   &lt;dependencies&gt;

       &lt;!-- Spring framework --&gt;
       &lt;!-- http://mvnrepository.com/artifact/org.springframework/spring-core --&gt;
       &lt;dependency&gt;
           &lt;groupId&gt;org.springframework&lt;/groupId&gt;
           &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
           &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;
       &lt;/dependency&gt;

       &lt;!-- http://mvnrepository.com/artifact/org.springframework/spring-context --&gt;
       &lt;dependency&gt;
           &lt;groupId&gt;org.springframework&lt;/groupId&gt;
           &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
           &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;
       &lt;/dependency&gt;

       &lt;!-- http://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;
       &lt;dependency&gt;
           &lt;groupId&gt;org.springframework&lt;/groupId&gt;
           &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
           &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;
       &lt;/dependency&gt;

       &lt;!-- MySQL database driver --&gt;
       &lt;!-- http://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;
       &lt;dependency&gt;
           &lt;groupId&gt;mysql&lt;/groupId&gt;
           &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
           &lt;version&gt;5.1.34&lt;/version&gt;
       &lt;/dependency&gt;

       &lt;!-- Oracle database driver --&gt;
       &lt;dependency&gt;
           &lt;groupId&gt;com.oracle&lt;/groupId&gt;
           &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;
           &lt;version&gt;11.2.0.3&lt;/version&gt;
       &lt;/dependency&gt;

       &lt;!-- SQLServer database driver (JTDS) --&gt;
       &lt;!-- http://mvnrepository.com/artifact/net.sourceforge.jtds/jtds --&gt;
       &lt;dependency&gt;
           &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;
           &lt;artifactId&gt;jtds&lt;/artifactId&gt;
           &lt;version&gt;1.3.1&lt;/version&gt;
       &lt;/dependency&gt;

   &lt;/dependencies&gt;

&lt;/project&gt;</pre> 
  </div> 
  <h1 style="background-color:inherit;font-size:25px;font-weight:lighter;"> 4- Java类 </h1> 
  <p> <br> </p> 
  <h1 style="font-size:25px;font-weight:lighter;"> <img src="http://www.yiibai.com/uploads/tutorial/20160121/1-16012119494V91.png" alt=""><span style="font-size:16px;line-height:1.5;"></span> </h1> 
  <p> <br> </p> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>Department.java</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E1EAED;"> 
   <pre>package com.yiibai.springjdbc.bean;

public class Department {

   private Long deptId;
   private String deptNo;
   private String deptName;

   public Department() {

   }

   public Department(Long deptId, String deptNo, String deptName) {
       this.deptId = deptId;
       this.deptNo = deptNo;
       this.deptName = deptName;
   }

   public Long getDeptId() {
       return deptId;
   }

   public void setDeptId(Long deptId) {
       this.deptId = deptId;
   }

   public String getDeptNo() {
       return deptNo;
   }

   public void setDeptNo(String deptNo) {
       this.deptNo = deptNo;
   }

   public String getDeptName() {
       return deptName;
   }

   public void setDeptName(String deptName) {
       this.deptName = deptName;
   }
}</pre> 
  </div> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>DepartmentDAO.java</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E1EAED;"> 
   <pre>package com.yiibai.springjdbc.dao;

import java.util.List;

import com.yiibai.springjdbc.bean.Department;

public interface DepartmentDAO {
   
   public List&lt;Department&gt; queryDepartment() throws Exception ;

}</pre> 
  </div> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>DepartmentImplDAO.java</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E1EAED;"> 
   <pre>package com.yiibai.springjdbc.daoimpl;

import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.ArrayList;
import java.util.List;

import javax.sql.DataSource;

import com.yiibai.springjdbc.bean.Department;
import com.yiibai.springjdbc.dao.DepartmentDAO;

public class DepartmentImplDAO implements DepartmentDAO {

   private DataSource dataSource;

   public void setDataSource(DataSource dataSource) {
       this.dataSource = dataSource;
   }

   @Override
   public List&lt;Department&gt; queryDepartment() throws SQLException {
       Connection conn = dataSource.getConnection();

       String sql = "Select d.dept_id, d.dept_no, d.dept_name from department d";
       Statement smt = conn.createStatement();

       ResultSet rs = smt.executeQuery(sql);
       List&lt;Department&gt; list = new ArrayList&lt;Department&gt;();
       while (rs.next()) {
           Long deptId = rs.getLong("dept_id");
           String deptNo = rs.getString("dept_no");
           String deptName = rs.getString("dept_name");
           Department dept = new Department(deptId, deptNo, deptName);
           list.add(dept);
       }
       return list;
   }

}</pre> 
  </div> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>MainDemo.java</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E1EAED;"> 
   <pre>package com.yiibai.springjdbc;

import java.util.List;

import com.yiibai.springjdbc.bean.Department;
import com.yiibai.springjdbc.dao.DepartmentDAO;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MainDemo {

   public static void main(String[] args) throws Exception {
       ApplicationContext context = new ClassPathXmlApplicationContext(
               "spring-module.xml");

       DepartmentDAO deptDAO = (DepartmentDAO) context
               .getBean("departmentDAO");

       List&lt;Department&gt; depts = deptDAO.queryDepartment();

       for (Department dept : depts) {
           System.out.println("Dept ID " + dept.getDeptId());
           System.out.println("Dept No " + dept.getDeptNo());
           System.out.println("Dept Name " + dept.getDeptName());
       }
   }

}</pre> 
  </div> 
  <h2 style="background-color:inherit;font-size:25px;font-weight:lighter;"> 5- 配置Spring<br> </h2> 
  <img src="/uploads/tutorial/20160121/1-160121195031N2.png" alt="">
  <br> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>spring-datasource-oracle.xml</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E5EECC;"> 
   <pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;


   &lt;bean id="dataSource"
       class="org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;

       &lt;property name="driverClassName" value="oracle.jdbc.driver.OracleDriver" /&gt;
       &lt;property name="url" value="jdbc:oracle:thin:@localhost:1521:db11g" /&gt;
       &lt;property name="username" value="simplehr" /&gt;
       &lt;property name="password" value="1234" /&gt;
   &lt;/bean&gt;

&lt;/beans&gt;</pre> 
  </div> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>spring-datasource-mysql.xml</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E5EECC;"> 
   <pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;


   &lt;bean id="dataSource"
       class="org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;

       &lt;property name="driverClassName" value="com.mysql.jdbc.Driver" /&gt;
       &lt;property name="url" value="jdbc:mysql://localhost:3306/yiibai" /&gt;
       &lt;property name="username" value="root" /&gt;
       &lt;property name="password" value="" /&gt;
   &lt;/bean&gt;

&lt;/beans&gt;</pre> 
  </div> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>spring-datasource-sqlserver.xml</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E5EECC;"> 
   <pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;


   &lt;bean id="dataSource"
       class="org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;

       &lt;!-- Using JDBC Driver: JTDS --&gt;
       &lt;property name="driverClassName" value="net.sourceforge.jtds.jdbc.Driver" /&gt;
       &lt;property name="url"
           value="jdbc:jtds:sqlserver://localhost:1433/simplehr;instance=SQLEXPRESS" /&gt;
       &lt;property name="username" value="sa" /&gt;
       &lt;property name="password" value="1234" /&gt;
   &lt;/bean&gt;

&lt;/beans&gt;</pre> 
  </div> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>spring-department.xml</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E5EECC;"> 
   <pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;

   &lt;bean id="departmentDAO"
       class="org.o7planning.tutorial.springjdbc.daoimpl.DepartmentImplDAO"&gt;
       &lt;property name="dataSource" ref="dataSource" /&gt;
   &lt;/bean&gt;

&lt;/beans&gt;</pre> 
  </div> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>spring-module.xml</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E5EECC;"> 
   <pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;

   &lt;!-- Using Oracle datasource --&gt;
   &lt;import resource="database/spring-datasource-oracle.xml" /&gt;
   &lt;import resource="dao/spring-department.xml" /&gt;

&lt;/beans&gt;</pre> 
  </div> 
  <h2> 6- 运行MainDemo主程序 </h2> 
  <div>
    运行主类示例结果如下： 
  </div> 
  <div> 
   <img src="/uploads/tutorial/20160121/1-160121195122523.png" alt="">
   <br> 
  </div> 
  <div> 
   <br> 
  </div> 
  <div>
    附：
   <a target="_blank" href="db-script">数据库脚本</a> 
  </div> 
  <div> 
   <br> 
  </div> 
  <div> 
  </div> 
  <h1> <a name="db-script"></a> </h1> 
  <h2> 2.1- Oracle 创建 DB 脚本 </h2> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>ORACLE SCRIPT:</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E5EECC;"> 
   <pre>   create table DEPARTMENT (
       DEPT_ID number(10,0) not null,
       DEPT_NAME varchar2(255 char) not null,
       DEPT_NO varchar2(20 char) not null unique,
       LOCATION varchar2(255 char),
       primary key (DEPT_ID)
   );

   create table EMPLOYEE (
       EMP_ID number(19,0) not null,
       EMP_NAME varchar2(50 char) not null,
       EMP_NO varchar2(20 char) not null unique,
       HIRE_DATE date not null,
       IMAGE blob,
       JOB varchar2(30 char) not null,
       SALARY float not null,
       DEPT_ID number(10,0) not null,
       MNG_ID number(19,0),
       primary key (EMP_ID)
   );

   create table SALARY_GRADE (
       GRADE number(10,0) not null,
       HIGH_SALARY float not null,
       LOW_SALARY float not null,
       primary key (GRADE)
   );

   create table TIMEKEEPER (
       Timekeeper_Id varchar2(36 char) not null,
       Date_Time timestamp not null,
       In_Out char(1 char) not null,
       EMP_ID number(19,0) not null,
       primary key (Timekeeper_Id)
   );

   alter table EMPLOYEE
       add constraint FK75C8D6AE269A3C9
       foreign key (DEPT_ID)
       references DEPARTMENT;

   alter table EMPLOYEE
       add constraint FK75C8D6AE6106A42
       foreign key (EMP_ID)
       references EMPLOYEE;

   alter table EMPLOYEE
       add constraint FK75C8D6AE13C12F64
       foreign key (MNG_ID)
       references EMPLOYEE;

   alter table TIMEKEEPER
       add constraint FK744D9BFF6106A42
       foreign key (EMP_ID)
       references EMPLOYEE;</pre> 
  </div> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>INSERT DATA (ORACLE)</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E5EECC;"> 
   <pre>insert into Department (DEPT_ID, DEPT_NAME, DEPT_NO, LOCATION)
values (10, 'ACCOUNTING', 'D10', 'NEW YORK');
 
insert into Department (DEPT_ID, DEPT_NAME, DEPT_NO, LOCATION)
values (20, 'RESEARCH', 'D20', 'DALLAS');
 
insert into Department (DEPT_ID, DEPT_NAME, DEPT_NO, LOCATION)
values (30, 'SALES', 'D30', 'CHICAGO');
 
insert into Department (DEPT_ID, DEPT_NAME, DEPT_NO, LOCATION)
values (40, 'OPERATIONS', 'D40', 'BOSTON');

-------------------------------------------------------------------------------------------------


insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7839, 'KING', 'E7839', to_date('17-11-1981', 'dd-mm-yyyy'), 'PRESIDENT', 5000, 10, null);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7566, 'JONES', 'E7566', to_date('02-04-1981', 'dd-mm-yyyy'), 'MANAGER', 2975, 20, 7839);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7902, 'FORD', 'E7902', to_date('03-12-1981', 'dd-mm-yyyy'), 'ANALYST', 3000, 20, 7566);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7369, 'SMITH', 'E7369', to_date('17-12-1980', 'dd-mm-yyyy'), 'CLERK', 800, 20, 7902);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7698, 'BLAKE', 'E7698', to_date('01-05-1981', 'dd-mm-yyyy'), 'MANAGER', 2850, 30, 7839);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7499, 'ALLEN', 'E7499', to_date('20-02-1981', 'dd-mm-yyyy'), 'SALESMAN', 1600, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7521, 'WARD', 'E7521', to_date('22-02-1981', 'dd-mm-yyyy'), 'SALESMAN', 1250, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7654, 'MARTIN', 'E7654', to_date('28-09-1981', 'dd-mm-yyyy'), 'SALESMAN', 1250, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7782, 'CLARK', 'E7782', to_date('09-06-1981', 'dd-mm-yyyy'), 'MANAGER', 2450, 30, 7839);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7788, 'SCOTT', 'E7788', to_date('19-04-1987', 'dd-mm-yyyy'), 'ANALYST', 3000, 20, 7566);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7844, 'TURNER', 'E7844', to_date('08-09-1981', 'dd-mm-yyyy'), 'SALESMAN', 1500, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7876, 'ADAMS', 'E7876', to_date('23-05-1987', 'dd-mm-yyyy'), 'CLERK', 1100, 20, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7900, 'ADAMS', 'E7900', to_date('03-12-1981', 'dd-mm-yyyy'), 'CLERK', 950, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7934, 'MILLER', 'E7934', to_date('23-01-1982', 'dd-mm-yyyy'), 'CLERK', 1300, 10, 7698);

-------------------------------------------------------------------------------------------------

insert into Salary_Grade (GRADE, HIGH_SALARY, LOW_SALARY)
values (1, 9999, 3001);</pre> 
  </div> 
  <h2 style="background-color:inherit;font-size:20px;font-weight:lighter;"> 2.2- MySQL创建数据库脚本 </h2> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>MYSQL SCRIPT:</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E5EECC;">   
   <pre>create table DEPARTMENT (
   DEPT_ID integer not null,
   DEPT_NAME varchar(255) not null,
   DEPT_NO varchar(20) not null,
   LOCATION varchar(255),
   primary key (DEPT_ID),
   unique (DEPT_NO)
);

create table EMPLOYEE (
   EMP_ID bigint not null,
   EMP_NAME varchar(50) not null,
   EMP_NO varchar(20) not null,
   HIRE_DATE date not null,
   IMAGE longblob,
   JOB varchar(30) not null,
   SALARY float not null,
   DEPT_ID integer not null,
   MNG_ID bigint,
   primary key (EMP_ID),
   unique (EMP_NO)
);

create table SALARY_GRADE (
   GRADE integer not null,
   HIGH_SALARY float not null,
   LOW_SALARY float not null,
   primary key (GRADE)
);

create table TIMEKEEPER (
   Timekeeper_Id varchar(36) not null,
   Date_Time datetime not null,
   In_Out char(1) not null,
   EMP_ID bigint not null,
   primary key (Timekeeper_Id)
);

alter table EMPLOYEE
   add index FK75C8D6AE269A3C9 (DEPT_ID),
   add constraint FK75C8D6AE269A3C9
   foreign key (DEPT_ID)
   references DEPARTMENT (DEPT_ID);

alter table EMPLOYEE
   add index FK75C8D6AE6106A42 (EMP_ID),
   add constraint FK75C8D6AE6106A42
   foreign key (EMP_ID)
   references EMPLOYEE (EMP_ID);

alter table EMPLOYEE
   add index FK75C8D6AE13C12F64 (MNG_ID),
   add constraint FK75C8D6AE13C12F64
   foreign key (MNG_ID)
   references EMPLOYEE (EMP_ID);

alter table TIMEKEEPER
   add index FK744D9BFF6106A42 (EMP_ID),
   add constraint FK744D9BFF6106A42
   foreign key (EMP_ID)
   references EMPLOYEE (EMP_ID);</pre> 
  </div> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>INSERT DATA (MYSQL)</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E5EECC;"> 
   <pre>insert into Department (DEPT_ID, DEPT_NAME, DEPT_NO, LOCATION)
values (10, 'ACCOUNTING', 'D10', 'NEW YORK');
 
insert into Department (DEPT_ID, DEPT_NAME, DEPT_NO, LOCATION)
values (20, 'RESEARCH', 'D20', 'DALLAS');
 
insert into Department (DEPT_ID, DEPT_NAME, DEPT_NO, LOCATION)
values (30, 'SALES', 'D30', 'CHICAGO');
 
insert into Department (DEPT_ID, DEPT_NAME, DEPT_NO, LOCATION)
values (40, 'OPERATIONS', 'D40', 'BOSTON');
 
-------------------------------------------------------------------------------------------------
 
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7839, 'KING', 'E7839', Str_To_Date('17-11-1981', '%d-%m-%Y'), 'PRESIDENT', 5000, 10, null);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7566, 'JONES', 'E7566', Str_To_Date('02-04-1981', '%d-%m-%Y'), 'MANAGER', 2975, 20, 7839);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7902, 'FORD', 'E7902', Str_To_Date('03-12-1981', '%d-%m-%Y'), 'ANALYST', 3000, 20, 7566);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7369, 'SMITH', 'E7369', Str_To_Date('17-12-1980', '%d-%m-%Y'), 'CLERK', 800, 20, 7902);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7698, 'BLAKE', 'E7698', Str_To_Date('01-05-1981', '%d-%m-%Y'), 'MANAGER', 2850, 30, 7839);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7499, 'ALLEN', 'E7499', Str_To_Date('20-02-1981', '%d-%m-%Y'), 'SALESMAN', 1600, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7521, 'WARD', 'E7521', Str_To_Date('22-02-1981', '%d-%m-%Y'), 'SALESMAN', 1250, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7654, 'MARTIN', 'E7654', Str_To_Date('28-09-1981', '%d-%m-%Y'), 'SALESMAN', 1250, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7782, 'CLARK', 'E7782', Str_To_Date('09-06-1981', '%d-%m-%Y'), 'MANAGER', 2450, 30, 7839);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7788, 'SCOTT', 'E7788', Str_To_Date('19-04-1987', '%d-%m-%Y'), 'ANALYST', 3000, 20, 7566);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7844, 'TURNER', 'E7844', Str_To_Date('08-09-1981', '%d-%m-%Y'), 'SALESMAN', 1500, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7876, 'ADAMS', 'E7876', Str_To_Date('23-05-1987', '%d-%m-%Y'), 'CLERK', 1100, 20, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7900, 'ADAMS', 'E7900', Str_To_Date('03-12-1981', '%d-%m-%Y'), 'CLERK', 950, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7934, 'MILLER', 'E7934', Str_To_Date('23-01-1982', '%d-%m-%Y'), 'CLERK', 1300, 10, 7698);
 
-------------------------------------------------------------------------------------------------
 
insert into Salary_Grade (GRADE, HIGH_SALARY, LOW_SALARY)
values (1, 9999, 3001);</pre> 
  </div> 
  <h2 style="background-color:inherit;font-size:20px;font-weight:lighter;"> 2.3- SQL Server 创建 DB 脚本 </h2> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>SQL SERVER SCRIPT:</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E5EECC;"> 
   <pre>create table DEPARTMENT (
    DEPT_ID int not null,
    DEPT_NAME varchar(255) not null,
    DEPT_NO varchar(20) not null,
    LOCATION varchar(255),
    primary key (DEPT_ID),
    unique (DEPT_NO)
);

create table EMPLOYEE (
    EMP_ID numeric(19,0) not null,
    EMP_NAME varchar(50) not null,
    EMP_NO varchar(20) not null,
    HIRE_DATE datetime not null,
    IMAGE image,
    JOB varchar(30) not null,
    SALARY float not null,
    DEPT_ID int not null,
    MNG_ID numeric(19,0),
    primary key (EMP_ID),
    unique (EMP_NO)
);

create table SALARY_GRADE (
    GRADE int not null,
    HIGH_SALARY float not null,
    LOW_SALARY float not null,
    primary key (GRADE)
);

create table TIMEKEEPER (
    Timekeeper_Id varchar(36) not null,
    Date_Time datetime not null,
    In_Out char(1) not null,
    EMP_ID numeric(19,0) not null,
    primary key (Timekeeper_Id)
);

alter table EMPLOYEE
    add constraint FK75C8D6AE269A3C9
    foreign key (DEPT_ID)
    references DEPARTMENT;

alter table EMPLOYEE
    add constraint FK75C8D6AE6106A42
    foreign key (EMP_ID)
    references EMPLOYEE;

alter table EMPLOYEE
    add constraint FK75C8D6AE13C12F64
    foreign key (MNG_ID)
    references EMPLOYEE;

alter table TIMEKEEPER
    add constraint FK744D9BFF6106A42
    foreign key (EMP_ID)
    references EMPLOYEE;</pre> 
  </div> 
  <div style="background-color:inherit;"> 
   <ul style="background-color:inherit;"> 
    <li style="background-color:inherit;"> <strong>INSERT DATA (SQL SERVER)</strong> </li> 
   </ul> 
  </div> 
  <div style="background-color:#E5EECC;"> 
   <pre>insert into Department (DEPT_ID, DEPT_NAME, DEPT_NO, LOCATION)
values (10, 'ACCOUNTING', 'D10', 'NEW YORK');
 
insert into Department (DEPT_ID, DEPT_NAME, DEPT_NO, LOCATION)
values (20, 'RESEARCH', 'D20', 'DALLAS');
 
insert into Department (DEPT_ID, DEPT_NAME, DEPT_NO, LOCATION)
values (30, 'SALES', 'D30', 'CHICAGO');
 
insert into Department (DEPT_ID, DEPT_NAME, DEPT_NO, LOCATION)
values (40, 'OPERATIONS', 'D40', 'BOSTON');

-------------------------------------------------------------------------------------------------


insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7839, 'KING', 'E7839', Convert(Datetime,'17-11-1981', 105), 'PRESIDENT', 5000, 10, null);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7566, 'JONES', 'E7566', Convert(Datetime,'02-04-1981', 105), 'MANAGER', 2975, 20, 7839);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7902, 'FORD', 'E7902', Convert(Datetime,'03-12-1981', 105), 'ANALYST', 3000, 20, 7566);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7369, 'SMITH', 'E7369', Convert(Datetime,'17-12-1980', 105), 'CLERK', 800, 20, 7902);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7698, 'BLAKE', 'E7698', Convert(Datetime,'01-05-1981', 105), 'MANAGER', 2850, 30, 7839);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7499, 'ALLEN', 'E7499', Convert(Datetime,'20-02-1981', 105), 'SALESMAN', 1600, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7521, 'WARD', 'E7521', Convert(Datetime,'22-02-1981', 105), 'SALESMAN', 1250, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7654, 'MARTIN', 'E7654', Convert(Datetime,'28-09-1981', 105), 'SALESMAN', 1250, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7782, 'CLARK', 'E7782', Convert(Datetime,'09-06-1981', 105), 'MANAGER', 2450, 30, 7839);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7788, 'SCOTT', 'E7788', Convert(Datetime,'19-04-1987', 105), 'ANALYST', 3000, 20, 7566);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7844, 'TURNER', 'E7844', Convert(Datetime,'08-09-1981', 105), 'SALESMAN', 1500, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7876, 'ADAMS', 'E7876', Convert(Datetime,'23-05-1987', 105), 'CLERK', 1100, 20, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7900, 'ADAMS', 'E7900', Convert(Datetime,'03-12-1981', 105), 'CLERK', 950, 30, 7698);
 
insert into Employee (EMP_ID, EMP_NAME, EMP_NO, HIRE_DATE, JOB, SALARY, DEPT_ID, MNG_ID)
values (7934, 'MILLER', 'E7934', Convert(Datetime,'23-01-1982', 105), 'CLERK', 1300, 10, 7698);

-------------------------------------------------------------------------------------------------

insert into Salary_Grade (GRADE, HIGH_SALARY, LOW_SALARY)
values (1, 9999, 3001);</pre> 
  </div> 代码下载：
  <a target="_blank" href="http://pan.baidu.com/s/1skyvdKh">http://pan.baidu.com/s/1skyvdKh</a> 
 </div>
 <br>      
</div></body></html>