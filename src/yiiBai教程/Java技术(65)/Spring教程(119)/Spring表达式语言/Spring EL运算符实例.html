<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Spring EL运算符实例</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    Spring&nbsp;EL支持大多数标准的数学，逻辑和关系运算符。&nbsp;例如， 
  </div> 
 </div> 
 <div> 
  <ol> 
   <li> <strong>关系运算符</strong>&nbsp;– 等于 (==, eq), 不等于 (!=, ne), 小于 (&lt;, lt), 小于或等于 (&lt;= , le), 大于 (&gt;, gt), 和大于或等于 (&gt;=, ge). </li> 
   <li> <strong>逻辑运算符</strong>&nbsp;– 且, 或, 非 (!). </li> 
   <li> <strong>数学运算符</strong>&nbsp;– 加法(+), 减法 (-), 乘法 (*), 除法(/),&nbsp;除模(%) 和指数幂&nbsp;(^). </li> 
  </ol> 
  <h2> Spring EL以注解的形式 </h2> 
  <div>
    这个例子说明了如何在 SpEL 中使用运算符。 
  </div> 
  <pre>package com.yiibai.core;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

@Component("customerBean")
public class Customer {

	//Relational operators
	
	@Value("#{1 == 1}") //true
	private boolean testEqual;
	
	@Value("#{1 != 1}") //false
	private boolean testNotEqual;
	
	@Value("#{1 &lt; 1}") //false
	private boolean testLessThan;
	
	@Value("#{1 &lt;= 1}") //true
	private boolean testLessThanOrEqual;
	
	@Value("#{1 &gt; 1}") //false
	private boolean testGreaterThan;
	
	@Value("#{1 &gt;= 1}") //true
	private boolean testGreaterThanOrEqual;

	//Logical operators , numberBean.no == 999
	
	@Value("#{numberBean.no == 999 and numberBean.no &lt; 900}") //false
	private boolean testAnd;
	
	@Value("#{numberBean.no == 999 or numberBean.no &lt; 900}") //true
	private boolean testOr;
	
	@Value("#{!(numberBean.no == 999)}") //false
	private boolean testNot;

	//Mathematical operators
	
	@Value("#{1 + 1}") //2.0
	private double testAdd;
	
	@Value("#{'1' + '@' + '1'}") //1@1
	private String testAddString;
	
	@Value("#{1 - 1}") //0.0
	private double testSubtraction;

	@Value("#{1 * 1}") //1.0
	private double testMultiplication;
	
	@Value("#{10 / 2}") //5.0
	private double testDivision;
	
	@Value("#{10 % 10}") //0.0
	private double testModulus ;
	
	@Value("#{2 ^ 2}") //4.0
	private double testExponentialPower;

	@Override
	public String toString() {
		return "Customer [testEqual=" + testEqual + ", testNotEqual="
				+ testNotEqual + ", testLessThan=" + testLessThan
				+ ", testLessThanOrEqual=" + testLessThanOrEqual
				+ ", testGreaterThan=" + testGreaterThan
				+ ", testGreaterThanOrEqual=" + testGreaterThanOrEqual
				+ ", testAnd=" + testAnd + ", testOr=" + testOr + ", testNot="
				+ testNot + ", testAdd=" + testAdd + ", testAddString="
				+ testAddString + ", testSubtraction=" + testSubtraction
				+ ", testMultiplication=" + testMultiplication
				+ ", testDivision=" + testDivision + ", testModulus="
				+ testModulus + ", testExponentialPower="
				+ testExponentialPower + "]";
	}
	
}</pre> 
  <pre>package com.yiibai.core;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

@Component("numberBean")
public class Number {

	@Value("999")
	private int no;

	public int getNo() {
		return no;
	}

	public void setNo(int no) {
		this.no = no;
	}

}</pre> 
  <p> 执行 </p> 
  <pre>Customer obj = (Customer) context.getBean("customerBean");
System.out.println(obj);</pre> 
  <p> 输出结果 </p> 
  <pre class="prettyprint lang-bsh">Customer [testEqual=true, testNotEqual=false, testLessThan=false, testLessThanOrEqual=true, testGreaterThan=false, testGreaterThanOrEqual=true, testAnd=false, testOr=true, testNot=false, testAdd=2.0, testAddString=1@1, testSubtraction=0.0, testMultiplication=1.0, testDivision=5.0, testModulus=0.0, testExponentialPower=4.0]</pre> 
  <p> <br> </p> 
  <h2> Spring EL以XML形式 </h2> 
  <p> 请参阅在XML文件定义bean的等效版本。在XML中，类似 &lt; 小于符号不支持，应该使用下面所示文本形式，例如文本等值，&nbsp;('&lt;'&nbsp;=&nbsp;'lt')&nbsp;和&nbsp;('&lt;='&nbsp;=&nbsp;'le'). </p>   
  <pre>&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

	&lt;bean id="customerBean" class="com.yiibai.core.Customer"&gt;
	
	  &lt;property name="testEqual" value="#{1 == 1}" /&gt;
	  &lt;property name="testNotEqual" value="#{1 != 1}" /&gt;
	  &lt;property name="testLessThan" value="#{1 lt 1}" /&gt;
	  &lt;property name="testLessThanOrEqual" value="#{1 le 1}" /&gt;
	  &lt;property name="testGreaterThan" value="#{1 &gt; 1}" /&gt;
	  &lt;property name="testGreaterThanOrEqual" value="#{1 &gt;= 1}" /&gt;
		
	  &lt;property name="testAnd" value="#{numberBean.no == 999 and numberBean.no lt 900}" /&gt;
	  &lt;property name="testOr" value="#{numberBean.no == 999 or numberBean.no lt 900}" /&gt;
	  &lt;property name="testNot" value="#{!(numberBean.no == 999)}" /&gt;
		
	  &lt;property name="testAdd" value="#{1 + 1}" /&gt;
	  &lt;property name="testAddString" value="#{'1' + '@' + '1'}" /&gt;
	  &lt;property name="testSubtraction" value="#{1 - 1}" /&gt;
	  &lt;property name="testMultiplication" value="#{1 * 1}" /&gt;
	  &lt;property name="testDivision" value="#{10 / 2}" /&gt;
	  &lt;property name="testModulus" value="#{10 % 10}" /&gt;
	  &lt;property name="testExponentialPower" value="#{2 ^ 2}" /&gt;
		
	&lt;/bean&gt;
	
	&lt;bean id="numberBean" class="com.yiibai.core.Number"&gt;
		&lt;property name="no" value="999" /&gt;
	&lt;/bean&gt;

&lt;/beans&gt;</pre> 
  <div>
    下载代码 -&nbsp;
   <a target="_blank" href="http://pan.baidu.com/s/1MLG1w">http://pan.baidu.com/s/1MLG1w</a> 
  </div> 
 </div>
 <br>      
</div></body></html>