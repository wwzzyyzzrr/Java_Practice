<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Spring EL hello world实例</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    Spring&nbsp;EL与OGNL和JSF&nbsp;EL相似，计算评估或在bean创建时执行。此外，所有的Spring表达式都可以通过XML或注解。 
  </div> 
 </div> 
 <div> 
  <div>
    在本教程中，我们将学习如何使用Spring表达式语言(SpEL)，注入字符串，整数，Bean到属性，无论是在XML和注释。 
  </div> 
  <h2> 1. Spring Beans </h2> 
  <div>
    两个简单Bean，后来利用&nbsp;SpEL&nbsp;注入值到属性，在 XML 和 注释。 
  </div> 
  <pre>package com.yiibai.core;

public class Customer {

	private Item item;

	private String itemName;

}</pre> 
  <pre>package com.yiibai.core;

public class Item {

	private String name;

	private int qty;

}</pre> 
  <h2> 3. Spring EL以XML形式 </h2> 
  <div>
    使用&nbsp;SpEL关闭的#{&nbsp;SpEL&nbsp;expression&nbsp;}括号，请参阅XML&nbsp;bean定义文件下面的例子。 
  </div> 
  <pre>&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

	&lt;bean id="itemBean" class="com.yiibai.core.Item"&gt;
		&lt;property name="name" value="itemA" /&gt;
		&lt;property name="qty" value="10" /&gt;
	&lt;/bean&gt;

	&lt;bean id="customerBean" class="com.yiibai.core.Customer"&gt;
		&lt;property name="item" value="#{itemBean}" /&gt;
		&lt;property name="itemName" value="#{itemBean.name}" /&gt;
	&lt;/bean&gt;
	
&lt;/beans&gt;</pre> 
  <ol> 
   <li> #{itemBean}&nbsp;–&nbsp;注入“itemBean”到“customerBean”Bean 的“item”属性。 </li> 
   <li> #{itemBean.name}&nbsp;–&nbsp;注入“itemBean”的“name”属性到 “customerBean" bean的"itemname”属性。 </li> 
  </ol> 
  <h2> 4. Spring EL以注解形式 </h2> 
  <div>
    请参阅等效版本注释模式。 
  </div> 
  <div>
    注
   <br> 
   <div>
     要在注解使用使用SpEL，必须通过注解注册您的组件。如果注册bean在XML和Java类中定义@Value，该@Value将无法执行。 
   </div> 
  </div> 
  <pre>package com.yiibai.core;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

@Component("customerBean")
public class Customer {

	@Value("#{itemBean}")
	private Item item;

	@Value("#{itemBean.name}")
	private String itemName;

	//...

}</pre> 
  <pre>package com.yiibai.core;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

@Component("itemBean")
public class Item {

	@Value("itemA") //inject String directly
	private String name;

	@Value("10") //inject interger directly
	private int qty;

	public String getName() {
		return name;
	}

	//...
}</pre> 
  <div>
    启用自动组件扫描。 
  </div>   
  <pre>&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
	http://www.springframework.org/schema/context
	http://www.springframework.org/schema/context/spring-context-3.0.xsd"&gt;

	&lt;context:component-scan base-package="com.yiibai.core" /&gt;

&lt;/beans&gt;</pre> 
  <div>
    在注解模式下，可以使用@Value定义Spring&nbsp;EL。在这种情况下，一个String和Integer值直接注入到“itemBean”，之后又注入“itemBean”到“customerBean”属性。 
  </div> 
  <h2> 5. 执行输出 </h2> 
  <div>
    运行它，无论是使用 SpEL在XML 还是注释都显示了同样的结果： 
  </div> 
  <pre>package com.yiibai.core;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class App {
	public static void main(String[] args) {
	    ApplicationContext context = new ClassPathXmlApplicationContext("applicationContext.xml");

	    Customer obj = (Customer) context.getBean("customerBean");
	    System.out.println(obj);
	}
}</pre> 
  <p> 输出结果 </p> 
  <pre>Customer [item=Item [name=itemA, qty=10], itemName=itemA]</pre> 
  <div>
    下载代码 –&nbsp;
   <a target="_blank" href="http://pan.baidu.com/s/1kTQ7fyZ">http://pan.baidu.com/s/1kTQ7fyZ</a> 
  </div> 
 </div>
 <br>      
</div></body></html>