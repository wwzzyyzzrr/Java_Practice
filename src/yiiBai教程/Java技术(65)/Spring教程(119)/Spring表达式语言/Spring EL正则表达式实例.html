<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Spring EL正则表达式实例</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    Spring&nbsp;EL支持正则表达式，可使用一个简单的关键词“matches”。如下实例， 
  </div> 
 </div> 
 <div> 
  <pre>@Value("#{'100' matches '\\d+' }")
private boolean isDigit;</pre> 
  <div>
    它测试'100'是否是通过正则表达式‘\\d+‘测试过的一个有效的数字。 
  </div> 
  <h2> Spring EL以注解的形式 </h2> 
  <div>
    请参阅下面的 Spring&nbsp;EL 正则表达式的例子，这里有部分掺入三元运算符，这使得 Spring&nbsp;EL 非常灵活，功能强大。 
  </div> 
  <div>
    下面的例子应该是不言自明的。 
  </div> 
  <pre>package com.yiibai.core;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

@Component("customerBean")
public class Customer {

	// email regular expression
	String emailRegEx = "^[_A-Za-z0-9-]+(\\.[_A-Za-z0-9-]+)" +
			"*@[A-Za-z0-9]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$";

	// if this is a digit?
	@Value("#{'100' matches '\\d+' }")
	private boolean validDigit;

	// if this is a digit + ternary operator
	@Value("#{ ('100' matches '\\d+') == true ? " +
			"'yes this is digit' : 'No this is not a digit'  }")
	private String msg;

	// if this emailBean.emailAddress contains a valid email address?
	@Value("#{emailBean.emailAddress matches customerBean.emailRegEx}")
	private boolean validEmail;

	//getter and setter methods, and constructor	
}</pre> 
  <pre>package com.yiibai.core;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

@Component("emailBean")
public class Email {

	@Value("admin@yiibai.com")
	String emailAddress;

	//...
}</pre> 
  <p> 输出 </p> 
  <pre>Customer [isDigit=true, msg=yes this is digit, isValidEmail=true]</pre> 
  <h2> Spring EL以XML的形式 </h2> 
  <div>
    请参阅在XML文件定义bean的等效版本。 
  </div>   
  <pre>&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

	&lt;bean id="customerBean" class="com.yiibai.core.Customer"&gt;
	  &lt;property name="validDigit" value="#{'100' matches '\d+' }" /&gt;
	  &lt;property name="msg"
		value="#{ ('100' matches '\d+') == true ? 'yes this is digit' : 'No this is not a digit'  }" /&gt;
	  &lt;property name="validEmail"
		value="#{emailBean.emailAddress matches '^[_A-Za-z0-9-]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$' }" /&gt;
	&lt;/bean&gt;

	&lt;bean id="emailBean" class="com.yiibai.core.Email"&gt;
	  &lt;property name="emailAddress" value="admin@yiibai.com" /&gt;
	&lt;/bean&gt;

&lt;/beans&gt;</pre> 
  <div>
    下载代码 –&nbsp;
   <a target="_blank" href="http://pan.baidu.com/s/1jHklXt0">http://pan.baidu.com/s/1jHklXt0</a> 
  </div> 
  <h2> 参考 </h2> 
  <ol> 
   <li> <a target="_blank" href="http://www.yiibai.com/spring/spring-el-ternary-operator-if-then-else-example.html">Spring EL三元运算符(if-then-else)实例</a> </li> 
  </ol> 
 </div>
 <br>      
</div></body></html>