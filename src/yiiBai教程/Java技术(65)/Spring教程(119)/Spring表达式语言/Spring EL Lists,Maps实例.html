<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Spring EL Lists,Maps实例</h1><div style="width:100%;float:left;" class="article-content">   
 <div> 
  <div>
    在这篇文章中，我们将介绍如何使用Spring&nbsp;EL从&nbsp;Map&nbsp;和&nbsp;List&nbsp;中获得值。事实上，使用SpEL与&nbsp;Map&nbsp;和&nbsp;List&nbsp;的工作方式与Java是完全一样的。请参阅例如： 
  </div> 
 </div> 
 <div> 
  <pre>//get map whete key = 'MapA'
@Value("#{testBean.map['MapA']}")
private String mapA;

//get first value from list, list is 0-based.
@Value("#{testBean.list[0]}")
private String list;</pre> 
  <h2> Spring EL以注解的形式 </h2> 
  <div>
    在这里，创建了一个HashMap和ArrayList，并添加了一些初始测试数据。 
  </div> 
  <pre>package com.yiibai.core;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Component;

@Component("customerBean")
public class Customer {

	@Value("#{testBean.map['MapA']}")
	private String mapA;

	@Value("#{testBean.list[0]}")
	private String list;

	public String getMapA() {
		return mapA;
	}

	public void setMapA(String mapA) {
		this.mapA = mapA;
	}

	public String getList() {
		return list;
	}

	public void setList(String list) {
		this.list = list;
	}

	@Override
	public String toString() {
		return "Customer [mapA=" + mapA + ", list=" + list + "]";
	}

}</pre> 
  <pre>package com.yiibai.core;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import org.springframework.stereotype.Component;

@Component("testBean")
public class Test {

	private Map&lt;String, String&gt; map;
	private List&lt;String&gt; list;

	public Test() {
		map = new HashMap&lt;String, String&gt;();
		map.put("MapA", "This is MapA");
		map.put("MapB", "This is MapB");
		map.put("MapC", "This is MapC");

		list = new ArrayList&lt;String&gt;();
		list.add("List0");
		list.add("List1");
		list.add("List2");

	}

	public Map&lt;String, String&gt; getMap() {
		return map;
	}

	public void setMap(Map&lt;String, String&gt; map) {
		this.map = map;
	}

	public List&lt;String&gt; getList() {
		return list;
	}

	public void setList(List&lt;String&gt; list) {
		this.list = list;
	}

}</pre> 
  <p> 执行程序 </p>   
  <pre>Customer obj = (Customer) context.getBean("customerBean");
System.out.println(obj);</pre> 
  <p> 输出结果: </p> 
  <pre class="prettyprint lang-bsh">Customer [mapA=This is MapA, list=List0]</pre> 
  <p> <br> </p> 
  <h2> Spring EL以XML的形式 </h2> 
  <div> 
   <div>
     请参阅在XML文件定义bean的等效版本。 
   </div> 
  </div> 
  <pre>&lt;beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;

	&lt;bean id="customerBean" class="com.yiibai.core.Customer"&gt;
		&lt;property name="mapA" value="#{testBean.map['MapA']}" /&gt;
		&lt;property name="list" value="#{testBean.list[0]}" /&gt;
	&lt;/bean&gt;

	&lt;bean id="testBean" class="com.yiibai.core.Test" /&gt;

&lt;/beans&gt;</pre> 
  <div>
    下载代码 &nbsp;–&nbsp;
   <a target="_blank" href="http://pan.baidu.com/s/1gdTxfKv">http://pan.baidu.com/s/1gdTxfKv</a> 
  </div> 
 </div>
 <br>      
</div></body></html>