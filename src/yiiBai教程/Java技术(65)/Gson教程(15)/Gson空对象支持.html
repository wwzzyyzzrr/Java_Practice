<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Gson空对象支持</h1><div style="width:100%;float:left;" class="article-content">   
 <p>Gson默认生成优化的Json内容，忽略<code>NULL</code>值。 但是<code>GsonBuilder</code>提供的标志使用<code>GsonBuilder.serializeNulls()</code>方法在Json输出中显示<code>NULL</code>值。</p> 
 <p>参考以下代码实现 - </p> 
 <pre><code class="lang-java">GsonBuilder builder = new GsonBuilder(); 
builder.serializeNulls(); 
Gson gson = builder.create();
</code></pre> 
 <h2 id="h2--serializenulls-"><a name="不带serializeNulls的示例调用" class="reference-link"></a><span class="header-link octicon octicon-link"></span>不带serializeNulls的示例调用</h2>
 <p>创建一个名为<code>GsonTester</code>的Java类文件:<em>GsonTester.java</em> - </p> 
 <pre><code class="lang-java">import com.google.gson.Gson;  

public class GsonTester { 
   public static void main(String args[]) { 
      Gson gson = new Gson();  

      Student student = new Student(); 
      student.setRollNo(1);  
      String jsonString = gson.toJson(student); 

      System.out.println(jsonString);  
      student = gson.fromJson(jsonString, Student.class); 
      System.out.println(student); 
   }      
} 
class Student { 
   private int rollNo; 
   private String name;  

   public int getRollNo() { 
      return rollNo; 
   }  
   public void setRollNo(int rollNo) { 
      this.rollNo = rollNo; 
   }  
   public String getName() { 
      return name; 
   }  
   public void setName(String name) { 
      this.name = name; 
   }   
   public String toString() { 
      return "Student[ name = "+name+", roll no: "+rollNo+ "]"; 
   } 
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">{"rollNo": 1} 
Student[ name = null, roll no: 1]
</code></pre> 
 <h2 id="h2--serializenulls-"><a name="使用serializeNulls调用的示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>使用serializeNulls调用的示例</h2>
 <p>创建一个名为<code>GsonTester</code>的Java类文件:<em>GsonTester.java</em> - </p>   
 <pre><code class="lang-java">import com.google.gson.Gson; 
import com.google.gson.GsonBuilder;  

public class GsonTester { 
   public static void main(String args[]) { 
      GsonBuilder builder = new GsonBuilder(); 
      builder.serializeNulls(); 
      builder.setPrettyPrinting(); 
      Gson gson = builder.create();  

      Student student = new Student(); 
      student.setRollNo(1);  
      String jsonString = gson.toJson(student); 

      System.out.println(jsonString);  
      student = gson.fromJson(jsonString, Student.class); 
      System.out.println(student); 
   }      
} 
class Student { 
   private int rollNo; 
   private String name;  

   public int getRollNo() { 
      return rollNo; 
   }  
   public void setRollNo(int rollNo) { 
      this.rollNo = rollNo; 
   }  
   public String getName() { 
      return name; 
   }  
   public void setName(String name) { 
      this.name = name; 
   }   
   public String toString() { 
      return "Student[ name = "+name+", roll no: "+rollNo+ "]"; 
   } 
}
</code></pre> 
 <p>执行上面示例代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">{ 
   "rollNo": 1, 
   "name": null 
} 
Student[ name = null, roll no: 1]
</code></pre>
 <br>      
</div></body></html>