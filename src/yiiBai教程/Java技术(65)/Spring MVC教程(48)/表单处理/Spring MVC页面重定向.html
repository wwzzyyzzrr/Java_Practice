<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Spring MVC页面重定向</h1><div style="width:100%;float:left;" class="article-content">   
 <p>以下示例显示如何编写一个简单的基于Web的重定向应用程序，这个应用程序使用重定向将<code>http</code>请求传输到另一个页面。首先使用Eclipse IDE，并按照以下步骤使用<strong>Spring Web Framework</strong>开发基于动态表单的Web应用程序：</p> 
 <ol> 
  <li><p>基于<strong>Spring MVC - Hello World实例</strong>章节中代码，创建创建一个名称为 <strong>PageRedirection</strong> 项目。</p> </li>
  <li><p>在 <code>com.yiibai.springmvc</code> 包下创建一个Java类<code>WebController</code>。</p> </li>
  <li>在<code>jsp</code>子文件夹下创建一个视图文件<code>index.jsp</code>，<code>final.jsp</code>。</li>
  <li>最后一步是创建所有源和配置文件的内容并导出应用程序，如下所述。</li>
 </ol> 
 <p>完整的项目代码，如下所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/18/123170156_69458.png" alt=""></p> 
 <p><strong>WebController.java</strong> 文件中的代码如下所示 - </p> 
 <pre><code class="lang-java">package com.yiibai.springmvc;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;

@Controller
public class WebController {

   @RequestMapping(value = "/index", method = RequestMethod.GET)
   public String index() {
       return "index";
   }

   @RequestMapping(value = "/redirect", method = RequestMethod.GET)
   public String redirect() {

      return "redirect:finalPage";
   }

   @RequestMapping(value = "/finalPage", method = RequestMethod.GET)
   public String finalPage() {

      return "final";
   }
}
</code></pre> 
 <p>下面是<strong>Spring</strong>视图文件<code>index.jsp</code>的内容。这是一个登陆页面，这个页面将发送访问重定向方法的请求，将重定向这个请求到另一个服务方法，最后将显示<code>final.jsp</code>页面的内容。</p> 
 <p><strong>index.jsp</strong> 文件中的代码如下所示 - </p> 
 <pre><code class="lang-html">&lt;%@ page contentType="text/html; charset=UTF-8"%&gt;
&lt;%@taglib uri="http://www.springframework.org/tags/form" prefix="form"%&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Spring MVC页面重定向&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;Spring MVC页面重定向&lt;/h2&gt;
    &lt;p&gt;点击下面的按钮将结果重定向到新页面&lt;/p&gt;
    &lt;form:form method="GET" action="/PageRedirection/redirect"&gt;
        &lt;table&gt;
            &lt;tr&gt;
                &lt;td&gt;&lt;input type="submit" value="页面重定向" /&gt;&lt;/td&gt;
            &lt;/tr&gt;
        &lt;/table&gt;
    &lt;/form:form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p><strong>final.jsp</strong> 文件中的代码如下所示 - </p>   
 <pre><code class="lang-html">&lt;%@ page contentType="text/html; charset=UTF-8"%&gt;
&lt;%@taglib uri="http://www.springframework.org/tags/form" prefix="form"%&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Spring重定向页面&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;重定向页面...&lt;/h2&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>完成创建源和配置文件后，导出应用程序。 右键单击应用程序，并使用<strong>导出&gt; WAR文件</strong>选项，并将 <code>PageRedirection.war</code> 文件保存在Tomcat的<code>webapps</code>文件夹中。或者直接右键选择“<strong>Run As -&gt; Run On Server</strong>”。</p> 
 <p>启动<strong>Tomcat</strong>服务器，并确保您能够使用标准浏览器从<strong>webapps</strong>文件夹访问其他网页。现在尝试访问 URL =&gt; <a target="_blank" href="http://localhost:8080/HelloWeb/index">http://localhost:8080/HelloWeb/index</a> ，如果<strong>Spring Web</strong>应用程序没有问题，那么应该看到以下结果： </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/18/366170158_36925.png" alt=""></p> 
 <p>现在点击“重定向页面”按钮提交表单并获得最终重定向页面。如果<strong>Spring Web</strong>应用程序没有问题，那么应该看到以下结果： </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/18/270170159_93788.png" alt=""></p>
 <br>      
</div></body></html>