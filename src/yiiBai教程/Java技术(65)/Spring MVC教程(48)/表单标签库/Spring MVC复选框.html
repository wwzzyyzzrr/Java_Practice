<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Spring MVC复选框</h1><div style="width:100%;float:left;" class="article-content">   
 <p>以下示例显示如何在使用<strong>Spring Web MVC</strong>框架的表单中使用复选框(Checkbox)。首先使用Eclipse IDE来创建一个WEB工程，并按照以下步骤使用<strong>Spring Web Framework</strong>开发基于动态表单的Web应用程序：</p> 
 <ol> 
  <li>创建一个名称为 <strong>Checkbox</strong> 的动态WEB项目。</li>
  <li>在 <code>com.yiibai.springmvc</code> 包下创建两个Java类<code>User</code>，<code>UserController</code>。</li>
  <li>在<code>jsp</code>子文件夹下创建两个视图文件：<code>user.jsp</code>，<code>userlist.jsp</code>。</li>
  <li>最后一步是创建所有源和配置文件的内容并运行应用程序，详细如下所述。</li>
 </ol> 
 <p>完整的项目文件目录结构如下所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/19/311110138_52985.png" alt=""></p> 
 <p><strong>User.java</strong> 的代码如下所示 -</p> 
 <pre><code class="lang-java">package com.yiibai.springmvc;

public class User {

   private String username;
   private String password;
   private String address;
   private boolean receivePaper;    

   public String getUsername() {
      return username;
   }
   public void setUsername(String username) {
      this.username = username;
   }

   public String getPassword() {
      return password;
   }
   public void setPassword(String password) {
      this.password = password;
   }
   public String getAddress() {
      return address;
   }
   public void setAddress(String address) {
      this.address = address;
   }
   public boolean isReceivePaper() {
      return receivePaper;
   }
   public void setReceivePaper(boolean receivePaper) {
      this.receivePaper = receivePaper;
   }
}
</code></pre> 
 <p><strong>UserController.java</strong> 的代码如下所示 -</p> 
 <pre><code class="lang-java">package com.yiibai.springmvc;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.ui.ModelMap;

@Controller
public class UserController {

   @RequestMapping(value = "/user", method = RequestMethod.GET)
   public ModelAndView user() {
      return new ModelAndView("user", "command", new User());
   }

   @RequestMapping(value = "/addUser", method = RequestMethod.POST)
   public String addUser(@ModelAttribute("SpringWeb")User user, 
      ModelMap model) {
      model.addAttribute("username", user.getUsername());
      model.addAttribute("password", user.getPassword());
      model.addAttribute("address", user.getAddress());
      model.addAttribute("receivePaper", user.isReceivePaper());
      return "userlist";
   }
}
</code></pre> 
 <p>这里的第一个服务方法<code>user()</code>，我们已经在<code>ModelAndView</code>对象中传递了一个名称为“<code>command</code>”的空<code>User</code>对象，因为如果在JSP文件中使用<code>&lt;form:form&gt;</code>标签，<strong>spring</strong>框架需要一个名称为“<code>command</code>”的对象。 所以当调用user()方法时，它返回user.jsp视图。</p> 
 <p>第二个服务方法<code>addUser()</code>将根据URL =&gt; <code>Checkbox/addUser</code> 上的POST方法请求时调用。根据提交的信息准备模型对象。 最后从服务方法返回“<code>userlist</code>”视图，这将呈现<code>userlist.jsp</code>视图。</p> 
 <p><strong>user.jsp</strong> 的代码如下所示 -</p> 
 <pre><code class="lang-html">&lt;%@ page contentType="text/html; charset=UTF-8"%&gt;
&lt;%@taglib uri="http://www.springframework.org/tags/form" prefix="form"%&gt;
&lt;html&gt;
&lt;head&gt;
   &lt;title&gt;Spring MVC表单处理(复选框)&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h2&gt;用户信息 - &lt;/h2&gt;
&lt;form:form method="POST" action="/Checkbox/addUser"&gt;
   &lt;table&gt;
      &lt;tr&gt;
         &lt;td&gt;&lt;form:label path="username"&gt;用户名：&lt;/form:label&gt;&lt;/td&gt;
         &lt;td&gt;&lt;form:input path="username" /&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;&lt;form:label path="password"&gt;密码：&lt;/form:label&gt;&lt;/td&gt;
         &lt;td&gt;&lt;form:password path="password" /&gt;&lt;/td&gt;
      &lt;/tr&gt;  
      &lt;tr&gt;
         &lt;td&gt;&lt;form:label path="address"&gt;地址：&lt;/form:label&gt;&lt;/td&gt;
         &lt;td&gt;&lt;form:textarea path="address" rows="5" cols="30" /&gt;&lt;/td&gt;
      &lt;/tr&gt;  
      &lt;tr&gt;
         &lt;td&gt;&lt;form:label path="receivePaper"&gt;订阅新闻？&lt;/form:label&gt;&lt;/td&gt;
         &lt;td&gt;&lt;form:checkbox path="receivePaper" /&gt;&lt;/td&gt;
      &lt;/tr&gt; 
      &lt;tr&gt;
         &lt;td colspan="2"&gt;
            &lt;input type="submit" value="提交"/&gt;
         &lt;/td&gt;
      &lt;/tr&gt;
   &lt;/table&gt;  
&lt;/form:form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>这里使用<code>&lt;form:checkbox /&gt;</code>标签来呈现HTML密码框。 例如 - </p>   
 <pre><code class="lang-html">&lt;form:checkbox path="receivePaper" /&gt;
</code></pre> 
 <p>它将呈现以下HTML内容。</p> 
 <pre><code class="lang-html">&lt;input id="receivePaper1" name="receivePaper" type="checkbox" value="true"/&gt;
&lt;input type="hidden" name="_receivePaper" value="on"/&gt;
</code></pre> 
 <p><strong>userlist.jsp</strong> 的代码如下所示 -</p> 
 <pre><code class="lang-html">&lt;%@ page contentType="text/html; charset=UTF-8"%&gt;

&lt;%@taglib uri="http://www.springframework.org/tags/form" prefix="form"%&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Spring MVC表单处理(复选框)&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h2&gt;提交的用户信息&lt;/h2&gt;
   &lt;table&gt;
      &lt;tr&gt;
         &lt;td&gt;用户名：&lt;/td&gt;
         &lt;td&gt;${username}&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
         &lt;td&gt;密码：&lt;/td&gt;
         &lt;td&gt;${password}&lt;/td&gt;
      &lt;/tr&gt;    
      &lt;tr&gt;
         &lt;td&gt;地址：&lt;/td&gt;
         &lt;td&gt;${address}&lt;/td&gt;
      &lt;/tr&gt;  
      &lt;tr&gt;
         &lt;td&gt;是否订阅新闻&lt;/td&gt;
         &lt;td&gt;${receivePaper}&lt;/td&gt;
      &lt;/tr&gt;          
   &lt;/table&gt;  
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>完成创建源和配置文件后，发布应用程序到Tomcat服务器。</p> 
 <p>现在启动Tomcat服务器，现在尝试访问URL =&gt; <a target="_blank" href="http://localhost:8080/Checkbox/user">http://localhost:8080/Checkbox/user</a> ，如果<strong>Spring Web</strong>应用程序没有问题，应该看到以下结果：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/19/919110141_35585.png" alt=""></p> 
 <p>提交所需信息后，点击提交按钮提交表单。 如果<strong>Spring Web</strong>应用程序没有问题，应该看到以下结果：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/19/896110148_59501.png" alt=""></p>
 <br>      
</div></body></html>