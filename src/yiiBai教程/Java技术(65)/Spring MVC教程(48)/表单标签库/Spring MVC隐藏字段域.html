<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Spring MVC隐藏字段域</h1><div style="width:100%;float:left;" class="article-content">   
 <p>以下示例显示如何在使用<strong>Spring Web MVC</strong>框架的表单中使用隐藏字段(Hidden)。首先使用Eclipse IDE来创建一个WEB工程，实现在隐藏字段中指定用户编号的功能。并按照以下步骤使用<strong>Spring Web Framework</strong>开发基于动态表单的Web应用程序：</p> 
 <ol> 
  <li>创建一个名称为 <strong>Hiddenfield</strong> 的动态WEB项目。</li>
  <li>在 <code>com.yiibai.springmvc</code> 包下创建两个Java类<code>Student</code>，<code>StudentController</code>。</li>
  <li>在<code>jsp</code>子文件夹下创建两个视图文件：<code>student.jsp</code>，<code>result.jsp</code>。</li>
  <li>最后一步是创建所有源和配置文件的内容并运行应用程序，详细如下所述。</li>
 </ol> 
 <p>完整的项目文件目录结构如下所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/1901/645170124_13918.png" alt=""></p> 
 <p><strong>Student.java</strong> 的代码如下所示 -</p> 
 <pre><code class="lang-java">package com.yiibai.springmvc;


public class Student {
    private Integer age;
    private String name;
    private Integer id;

    public void setAge(Integer age) {
        this.age = age;
    }

    public Integer getAge() {
        return age;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getName() {
        return name;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    public Integer getId() {
        return id;
    }
}
</code></pre> 
 <p><strong>StudentController.java</strong> 的代码如下所示 -</p> 
 <pre><code class="lang-java">package com.yiibai.springmvc;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.ui.ModelMap;

@Controller
public class StudentController {

    @RequestMapping(value = "/student", method = RequestMethod.GET)
    public ModelAndView student() {
        return new ModelAndView("student", "command", new Student());
    }

    @RequestMapping(value = "/addStudent", method = RequestMethod.POST)
    public String addStudent(@ModelAttribute("SpringWeb") Student student, ModelMap model) {
        model.addAttribute("name", student.getName());
        model.addAttribute("age", student.getAge());
        model.addAttribute("id", student.getId());

        return "result";
    }
}
</code></pre> 
 <p>这里的第一个服务方法<code>student()</code>，我们已经在<code>ModelAndView</code>对象中传递了一个名称为“<code>command</code>”的空<code>Student</code>对象，因为如果在JSP文件中使用<code>&lt;form:form&gt;</code>标签，<strong>spring</strong>框架需要一个名称为“<code>command</code>”的对象。 所以当调用<code>student()</code>方法时，它返回<code>student.jsp</code>视图。</p> 
 <p>第二个服务方法<code>addStudent()</code>将根据URL =&gt; <code>Hiddenfield/addStudent</code> 上的POST方法请求时调用。根据提交的信息准备模型对象。 最后从服务方法返回“<code>result</code>”视图，这将呈现<code>result.jsp</code>视图。</p> 
 <p><strong>student.jsp</strong> 的代码如下所示 -</p> 
 <pre><code class="lang-html">&lt;%@ page contentType="text/html; charset=UTF-8" %&gt;
&lt;%@taglib uri="http://www.springframework.org/tags/form" prefix="form"%&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Spring MVC处理(隐藏字段)&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h2&gt;学生信息：&lt;/h2&gt;
&lt;form:form method="POST" action="/Hiddenfield/addStudent"&gt;
   &lt;table&gt;
    &lt;tr&gt;
        &lt;td&gt;&lt;form:label path="name"&gt;学生姓名：&lt;/form:label&gt;&lt;/td&gt;
        &lt;td&gt;&lt;form:input path="name" /&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;&lt;form:label path="age"&gt;年龄：&lt;/form:label&gt;&lt;/td&gt;
        &lt;td&gt;&lt;form:input path="age" /&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;&lt;/td&gt;
        &lt;td&gt;&lt;form:hidden path="id" value="1000" /&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td colspan="2"&gt;
            &lt;input type="submit" value="提交"/&gt;
        &lt;/td&gt;
    &lt;/tr&gt;
&lt;/table&gt;  
&lt;/form:form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>这里使用<code>&lt;form:hidden /&gt;</code>标签来呈现HTML隐藏字段域。 例如 - </p>   
 <pre><code class="lang-html">&lt;form:hidden path="id" value="1000"/&gt;
</code></pre> 
 <p>它将呈现以下HTML内容。</p> 
 <pre><code class="lang-html">&lt;input id="id" name="id" type="hidden" value="1000"/&gt;
</code></pre> 
 <p><strong>result.jsp</strong> 的代码如下所示 -</p> 
 <pre><code class="lang-html">&lt;%@ page contentType="text/html; charset=UTF-8"%&gt;
&lt;%@taglib uri="http://www.springframework.org/tags/form" prefix="form"%&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Spring MVC处理(隐藏字段)&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

    &lt;h2&gt;提交的学生信息：&lt;/h2&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;td&gt;学生姓名：&lt;/td&gt;
            &lt;td&gt;${name}&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;年龄：&lt;/td&gt;
            &lt;td&gt;${age}&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;编号：&lt;/td&gt;
            &lt;td&gt;${id}&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>完成创建源和配置文件后，发布应用程序到Tomcat服务器。</p> 
 <p>现在启动Tomcat服务器，现在尝试访问URL =&gt; <a target="_blank" href="http://localhost:8080/Hiddenfield/student">http://localhost:8080/Hiddenfield/student</a> ，如果<strong>Spring Web</strong>应用程序没有问题，应该看到以下结果：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/1901/445170124_42278.png" alt=""></p> 
 <p>提交所需信息后，点击提交按钮提交表单。 如果<strong>Spring Web</strong>应用程序没有问题，应该看到以下结果：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/1901/140170124_77421.png" alt=""></p>
 <br>      
</div></body></html>