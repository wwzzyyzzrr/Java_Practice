<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Spring MVC配置静态资源和资源包教程</h1><div style="width:100%;float:left;" class="article-content">   
 <h2> 1- 介绍 </h2> 
 <div>
   这篇教程文章是基于： 
 </div> 
 <div> 
  <ul> 
   <li> Spring 4 MVC </li> 
  </ul> 
 </div> 
 <h2> 2- 创建一个项目 </h2> 
 <div> 
  <ul> 
   <li> File/New/Other.. </li> 
  </ul> 
 </div> 
 <div> 
  <img src="/uploads/tutorial/20160117/1-16011GG442444.png" alt="">
  <br> 
  <img src="/uploads/tutorial/20160117/1-16011GG511H8.png" alt="">
  <br> 
  <img src="/uploads/tutorial/20160117/1-16011GG52U60.png" alt="">
  <br> 输入: 
 </div> 
 <div> 
  <ul> 
   <li> Group ID: com.yiibai </li> 
   <li> Artifact ID: SpringMVCResource </li> 
   <li> Package: com.yiibai.springmvcresource </li> 
  </ul> 
 </div> 
 <div> 
 </div> 
 <img src="/uploads/tutorial/20160117/1-16011GI60H45.png" alt="">
 <br> 项目被创建以后如下： 
 <div> 
 </div> 
 <div> 
  <img src="/uploads/tutorial/20160117/1-16011GI635642.png" alt="">
  <br> 不要担心有错误消息在项目被创建时。原因是，我们还没有声明 Servlet 库。 
 </div> 注意:
 <br> 
 <div>
   Eclipse&nbsp;4.4(Luna)在创建 Maven 项目结构时可能是有错误的。需要修复。
  <br> 
  <img src="/uploads/tutorial/20160117/1-16011GIF5L2.png" alt="">
  <br> 
 </div> 
 <div> 
 </div> 
 <h2> 3- 配置Maven </h2> 
 <div> 
  <ul> 
   <li> pom.xml </li> 
  </ul> 
 </div> 
 <div style="background-color:#E5EECC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-xml">&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
  http://maven.apache.org/maven-v4_0_0.xsd"&gt;
  
  
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;com.yiibai&lt;/groupId&gt;
  &lt;artifactId&gt;SpringMVCResource&lt;/artifactId&gt;
  &lt;packaging&gt;war&lt;/packaging&gt;
  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
  &lt;name&gt;SpringMVCResource Maven Webapp&lt;/name&gt;
  &lt;url&gt;http://maven.apache.org&lt;/url&gt;
  
 
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;junit&lt;/groupId&gt;
            &lt;artifactId&gt;junit&lt;/artifactId&gt;
            &lt;version&gt;3.8.1&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
  
  
        &lt;!-- Servlet API --&gt;
        &lt;!-- http://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
            &lt;version&gt;3.1.0&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
  
 
        &lt;!-- Jstl for jsp page --&gt;
        &lt;!-- http://mvnrepository.com/artifact/javax.servlet/jstl --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;jstl&lt;/artifactId&gt;
            &lt;version&gt;1.2&lt;/version&gt;
        &lt;/dependency&gt;
 
 
        &lt;!-- JSP API --&gt;
        &lt;!-- http://mvnrepository.com/artifact/javax.servlet.jsp/jsp-api --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;
            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;
            &lt;version&gt;2.2&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
 
  
  
        &lt;!-- Spring dependencies --&gt;
        &lt;!-- http://mvnrepository.com/artifact/org.springframework/spring-core --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
  
        &lt;!-- http://mvnrepository.com/artifact/org.springframework/spring-web --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;
            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
  
        &lt;!-- http://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;

    &lt;/dependencies&gt;
  
    &lt;build&gt;
        &lt;finalName&gt;SpringMVCResource&lt;/finalName&gt;
        &lt;plugins&gt;
  
            &lt;!-- Config: Maven Tomcat Plugin --&gt;
            &lt;!-- http://mvnrepository.com/artifact/org.apache.tomcat.maven/tomcat7-maven-plugin --&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;
                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;2.2&lt;/version&gt;
                  
                &lt;!-- Config: contextPath and Port (Default - /SpringMVCResource : 8080) --&gt;
                  
                &lt;!--
                &lt;configuration&gt;
                    &lt;path&gt;/&lt;/path&gt;
                    &lt;port&gt;8899&lt;/port&gt;
                &lt;/configuration&gt;
                --&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
      
&lt;/project&gt;</pre> 
  </div> 
 </div> 
 <h2> 4- 配置Spring </h2> 
 <div> 
 </div> 配置&nbsp;web.xml
 <br> 
 <div>
   SpringContextListener 将读取配置文件参数 contextConfigLocation：
  <br> 
  <img src="/uploads/tutorial/20160117/1-16011GIJE18.png" alt="">
  <br> 
 </div> 
 <div> 
  <ul> 
   <li> WEB-INF/web.xml </li> 
  </ul> 
 </div> 
 <div style="background-color:#E5EECC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-xml">&lt;web-app xmlns="http://java.sun.com/xml/ns/javaee"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
         http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
   version="3.0"&gt;
 
   &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;
   &lt;servlet&gt;
       &lt;servlet-name&gt;spring-mvc&lt;/servlet-name&gt;
       &lt;servlet-class&gt;
           org.springframework.web.servlet.DispatcherServlet
       &lt;/servlet-class&gt;
       &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
   &lt;/servlet&gt;
 
   &lt;servlet-mapping&gt;
       &lt;servlet-name&gt;spring-mvc&lt;/servlet-name&gt;
       &lt;url-pattern&gt;/&lt;/url-pattern&gt;
   &lt;/servlet-mapping&gt;
 
   &lt;!-- Other XML Configuration --&gt;
   &lt;!-- Load by Spring ContextLoaderListener --&gt;
   &lt;context-param&gt;
       &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
       &lt;param-value&gt;
          /WEB-INF/root-context.xml
        &lt;/param-value&gt;        
   &lt;/context-param&gt;
 
 
   &lt;!-- Spring ContextLoaderListener --&gt;
   &lt;listener&gt;
       &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
   &lt;/listener&gt;
 
&lt;/web-app&gt;</pre> 
  </div> 
 </div> 
 <div>
   配置Spring MVC: 
 </div> 
 <div> 
  <ul> 
   <li> WEB-INF/spring-mvc-servlet.xml </li> 
  </ul> 
 </div> 
 <div style="background-color:#E5EECC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:mvc="http://www.springframework.org/schema/mvc"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans-4.1.xsd  
      http://www.springframework.org/schema/context
      http://www.springframework.org/schema/context/spring-context-4.1.xsd  
      http://www.springframework.org/schema/mvc
      http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd"&gt;
 
    &lt;!-- Package Scan --&gt;
    &lt;context:component-scan base-package="com.yiibai.springmvcresource" /&gt;
     
    &lt;!-- Enables the Spring MVC Annotation Configuration --&gt;
    &lt;context:annotation-config /&gt;
     
    &lt;!-- Important!! --&gt;
    &lt;!-- Default Servlet Handler (For Resources *.css, *.js, image,..) --&gt;
    &lt;mvc:default-servlet-handler /&gt;
       &lt;mvc:annotation-driven /&gt;    
 
    &lt;!-- Config resource mapping --&gt;
    &lt;mvc:resources mapping="/styles/**" location="/WEB-INF/resources/css/" /&gt;
     
     
    &lt;!-- Config Properties file --&gt;
    &lt;bean id="appProperties" class="org.springframework.beans.factory.config.PropertiesFactoryBean"&gt;
        &lt;property name="locations"&gt;
            &lt;list&gt;&lt;value&gt;classpath:ApplicationRB.properties&lt;/value&gt;&lt;/list&gt;
        &lt;/property&gt;
    &lt;/bean&gt;
 
    &lt;bean
        class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
 
        &lt;property name="prefix"&gt;
            &lt;value&gt;/WEB-INF/pages/&lt;/value&gt;
        &lt;/property&gt;
 
        &lt;property name="suffix"&gt;
            &lt;value&gt;.jsp&lt;/value&gt;
        &lt;/property&gt;
         
        &lt;property name="exposedContextBeanNames"&gt;
            &lt;list&gt;&lt;value&gt;appProperties&lt;/value&gt;&lt;/list&gt;
        &lt;/property&gt;
    &lt;/bean&gt;
&lt;/beans&gt;</pre> 
  </div> 
 </div> 
 <div style="background-color:inherit;"> 
  <ul style="background-color:inherit;"> 
   <li style="background-color:inherit;"> <strong>WEB-INF/root-context.xml</strong> </li> 
  </ul> 
 </div> 
 <div style="background-color:#E5EECC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;
 
   &lt;!-- Empty --&gt;
 
&lt;/beans&gt;</pre> 
  </div> 
 </div> 
 <div>
   配置静态资源： 
 </div> 
 <div> 
  <div> 
   <pre class="prettyprint lang-xml">&lt;!-- /WEB-INF/spring-mvc-servlet.xml --&gt;
 
   &lt;!-- Important!! --&gt;
   &lt;!-- Default Servlet Handler (For Resources *.css, *.js, image,..) --&gt;
   &lt;mvc:default-servlet-handler /&gt;
   &lt;mvc:annotation-driven /&gt;  </pre> 
  </div> 
 </div> 
 <div>
   资源映射&nbsp;&lt;mvc:resources mapping ... &gt;:
  <br> 
  <img src="/uploads/tutorial/20160117/1-16011GJ250133.png" alt="">
  <br> 
 </div> 
 <div> 
 </div> 
 <div> 
  <h3> 配置Properties文件： </h3> 
 </div> 
 <h2> 5- Java类 </h2> 
 <img src="/uploads/tutorial/20160117/1-16011GJ456200.png" alt="Java类">
 <br> 
 <div> 
 </div> 
 <div> 
  <ul> 
   <li> MyController.java </li> 
  </ul> 
 </div> 
 <div style="background-color:#E1EAED;"> 
  <div style="background-color:white !important;">   
   <pre class="prettyprint lang-java">package com.yiibai.springmvcresource;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
public class MyController {

    @RequestMapping(value = "/staticResourceTest")
    public String staticResource(Model model) {
        return "staticResourceTest";
    }

    @RequestMapping(value = "/resourceBundleTest")
    public String resourceBundle(Model model) {
        return "resourceBundleTest";
    }
}</pre> 
  </div> 
 </div> 
 <h1> 6-&nbsp;资源包，静态资源和视图 </h1> 
 <div> 
  <h3> Resource Bundle (Properties file):<br> <img src="/uploads/tutorial/20160117/1-16011GJIA33.png" alt=""><br> </h3> 
 </div> 
 <div> 
 </div> 
 <div> 
  <ul> 
   <li> ApplicationRB.properties </li> 
  </ul> 
 </div> 
 <div style="background-color:#E1EAED;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint">text.loginPrompt=Enter user name and password
text.userName=User Name
text.password=Password</pre> 
  </div> 
 </div> 
 <h3> 
  <div>
    静态资源
   <br> 
   <img src="/uploads/tutorial/20160117/1-16011GJQU16.png" alt="">
   <br> 
  </div> </h3> 
 <div> 
  <ul> 
   <li> scripts/common.js </li> 
  </ul> 
 </div> 
 <div style="background-color:#E5EECC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-js">function sayHello()  {    
   alert("Hello from JavaScript");
}</pre> 
  </div> 
 </div> 
 <div style="background-color:inherit;"> 
  <ul> 
   <li> /WEB-INF/resource/css/commons.css </li> 
  </ul> 
 </div> 
 <div style="background-color:#E5EECC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-css">.button {
   font-size: 20px;
   background: #ccc;
}
 
.red-text {
   color: red;
   font-size: 30px;
}
 
.green-text {
   color: green;
   font-size: 20px;
}</pre> 
  </div> 
 </div> 
 <div> 
  <h3> 视图(两个JSP文件)<br> <img src="/uploads/tutorial/20160117/1-16011GK352W9.png" alt=""><br> </h3> 
 </div> 
 <div> 
  <ul> 
   <li> staticResourceTest.jsp </li> 
  </ul> 
 </div> 
 <div style="background-color:#FFFFCC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-html">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
 
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;title&gt;Spring MVC Resource example&lt;/title&gt;
 
 
&lt;script type="text/javascript"
    src="${pageContext.request.contextPath}/scripts/common.js"&gt;&lt;/script&gt;
     
     
&lt;link rel="stylesheet" type="text/css"
    href="${pageContext.request.contextPath}/styles/common.css"&gt;
 
&lt;/head&gt;
&lt;body&gt;
 
    &lt;div class="red-text"&gt;Red text&lt;/div&gt;
    &lt;br&gt;
    &lt;div class="green-text"&gt;Green text&lt;/div&gt;
    &lt;br&gt;
     
    &lt;input type="button" class="button" onclick="sayHello();"
        value="Click me!"&gt;
 
&lt;/body&gt;
&lt;/html&gt;</pre> 
  </div> 
 </div> 
 <div style="background-color:inherit;"> 
  <ul style="background-color:inherit;"> 
   <li style="background-color:inherit;"> <strong>resourceBundleTest.jsp</strong> </li> 
  </ul> 
 </div> 
 <div style="background-color:#FFFFCC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-html">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
 
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;title&gt;Spring MVC Resource Bundle example&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
 
   &lt;h2&gt;${appProperties['text.loginPrompt']}&lt;/h2&gt;
    
    ${appProperties['text.userName']} &lt;input type="text" name="userName"&gt; &lt;br&gt;
    ${appProperties['text.password']} &lt;input type="password" name="password"&gt; &lt;br&gt;
     
     
&lt;/body&gt;
&lt;/html&gt;</pre> 
  </div> 
 </div> 
 <h2> 7-&nbsp;运行应用程序 </h2> 
 <div>
   首先，运行应用程序之前，您需要构建整个项目。 
 </div> 
 <div>
   右键单击项目并选择：
  <br> 
  <img src="/uploads/tutorial/20160117/1-16011GK239396.png" alt="">
  <br> 
  <img src="/uploads/tutorial/20160117/1-16011GP9292C.png" alt="">
  <br> 
 </div> 
 <h3> 
  <div>
    运行配置： 
  </div> </h3> 
 <div> 
  <img src="/uploads/tutorial/20160117/1-16011GQ423647.png" alt="">
  <br> 
  <img src="/uploads/tutorial/20160117/1-16011GQ53H37.png" alt="">
  <br> 输入： 
 </div> 
 <div> 
  <ul> 
   <li> Name:&nbsp;Run SpringMVCResource </li> 
   <li> Base directory:&nbsp;${workspace_loc:/SpringMVCResource} 可选择“Browse Workspace..." 来选对应项目。 </li> 
   <li> Goals:&nbsp;tomcat7:run </li> 
  </ul> 
 </div> 
 <div> 
  <img src="/uploads/tutorial/20160117/1-16011GQF3309.png" alt="">
  <br> 
  <span>点击 Run</span>
  <br> 
  <img src="/uploads/tutorial/20160117/1-16011GQT5J3.png" alt="">
  <br> 
 </div> 
 <h3> 
  <div>
    静态资源测试： 
  </div> </h3> 
 <div> 
  <ul> 
   <li> <a target="_blank" href="http://localhost:8080/SpringMVCResource/scripts/common.js">http://localhost:8080/SpringMVCResource/scripts/common.js</a><br> <img src="/uploads/tutorial/20160117/1-16011GQ942405.png" alt=""><br> </li> 
  </ul> 
 </div> 
 <div> 
  <ul> 
   <li> <a target="_blank" href="http://localhost:8080/SpringMVCResource/styles/common.css">http://localhost:8080/SpringMVCResource/styles/common.css</a><br> <img src="/uploads/tutorial/20160117/1-16011GR5023S.png" alt=""><br> </li> 
  </ul> 
 </div> 
 <div> 
  <ul> 
   <li> <a target="_blank" href="http://localhost:8080/SpringMVCResource/staticResourceTest">http://localhost:8080/SpringMVCResource/staticResourceTest</a><br> <img src="/uploads/tutorial/20160117/1-16011GR52U42.png" alt=""><br> </li> 
  </ul> 
 </div> 
 <h3> 
  <div>
    属性文件测试： 
  </div> </h3> 
 <div> 
  <ul> 
   <li> <a target="_blank" href="http://localhost:8080/SpringMVCResource/resourceBundleTest">http://localhost:8080/SpringMVCResource/resourceBundleTest</a><br> <img src="/uploads/tutorial/20160117/1-16011GR54I09.png" alt=""><br> </li> 
  </ul> 
 </div> 代码下载：
 <a target="_blank" href="http://pan.baidu.com/s/1dDSnUcL">http://pan.baidu.com/s/1dDSnUcL</a>
 <br>      
</div></body></html>