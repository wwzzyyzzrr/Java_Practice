<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Spring4 MVC HelloWord实例</h1><div style="width:100%;float:left;" class="article-content">   
 <h2> Spring4 MVC入门教程 </h2> 
 <div>
   本教程是基于以下工具写的： 
 </div> 
 <div> 
  <ul> 
   <li> MyEclipse 10 </li> 
   <li> Spring 4.0.3.RELEASE </li> 
  </ul> 
 </div> 
 <h2> 2-&nbsp;预览应用程序执行流程 </h2> 
 <div style="background-color:inherit;"> 
  <strong>Spring MVC</strong>&nbsp;
  <strong>DispatcherServlet&nbsp;</strong>
  <span style="font-size:14.4px;line-height:1.5;">读取 xml 配置文件的原则：</span> 
 </div> 
 <div style="background-color:inherit;"> 
  <ul style="background-color:inherit;"> 
   <li style="background-color:inherit;"> {servlet-name} ==&gt; /WEB-INF/{servlet-name}-servlet.xml<br> <img src="/uploads/tutorial/20160114/1-1601141J221544.png" alt=""><br> </li> 
  </ul> 
 </div> 
 <div style="background-color:inherit;"> 
  <span style="font-size:14.4px;line-height:1.5;">如果你不想用 SpringMVC&nbsp;<span style="font-size:14px;">的</span>使用原则，可以重新配置 SpringMVC&nbsp;<span style="font-size:14px;"><span style="background-color:inherit;">&nbsp;</span>DispatcherServlet&nbsp;</span>在 web.xml 文件中：</span> 
 </div> 
 <div style="background-color:#E5EECC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-xml">&lt;servlet&gt;
   &lt;servlet-name&gt;my-dispatcher-name&lt;/servlet-name&gt;
   &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
   &lt;init-param&gt;
       &lt;!-- override default name {servlet-name}-servlet.xml --&gt;
       &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
       &lt;param-value&gt;/WEB-INF/springmvc-myconfig.xml&lt;/param-value&gt;
   &lt;/init-param&gt;
   &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;</pre> 
  </div> 
 </div> 
 <div>
   应用程序的流程：
  <br> 
  <img src="/uploads/tutorial/20160116/1-16011609514D50.png" alt="">
  <br> 
 </div> 
 <h2> 3 - 创建Maven工程 </h2> 
 <div>
   创建Maven项目类型。&nbsp;Maven是帮助我们管理库的最好方式。 
 </div> 
 <div>
   在 Eclipse, 选择&nbsp;"File/New/Other..."
  <br> 
  <img src="/uploads/tutorial/20160114/1-1601141J33S07.png" alt="">
  <br> 
  <img src="/uploads/tutorial/20160114/1-1601141J419348.png" alt="">
  <br> 
 </div> 
 <div>
   选择 archetype&nbsp;"maven-archetype-webapp"。
  <br> 
  <img src="/uploads/tutorial/20160114/1-1601141J446162.png" alt="">
  <br> 
 </div> 
 <div>
   输入： 
 </div> 
 <div> 
  <ul> 
   <li> Group Id: <strong>com.yiibai</strong> </li> 
   <li> Artifact Id: <strong>HelloSpringMVC</strong> </li> 
   <li> Package: <strong>com.yiibai.springmvc</strong> </li> 
  </ul> 
 </div> 
 <div> 
  <img src="/uploads/tutorial/20160114/1-1601141J533X9.png" alt="">
  <br> 这样将创建项目，结构如下图所示：
  <br> 
  <img src="/uploads/tutorial/20160116/1-1601160953312O.png" alt="">
  <br> 
 </div> 
 <div>
   不要担心项目在创建的时候出现错误信息。原因是，现在我们还没有声明 Servlet 库。 
 </div> 
 <div>
   在 Eclipse 中创建 Maven 项目结构可能是错误的。需要我们去检查出来并完善。
  <br> 
  <img src="/uploads/tutorial/20160116/1-160116095410460.png" alt="">
  <br> 
 </div> 
 <h2> 4- 配置Spring </h2> 
 <div>
   这是项目建成后的文件结构图：
  <br> 
  <img src="/uploads/tutorial/20160116/1-16011609542b60.png" alt="">
  <br> 
 </div> 
 <div>
   配置&nbsp;Maven&nbsp;使用&nbsp;Spring 库. 
 </div> 
 <div> 
  <ul> 
   <li> pom.xml </li> 
  </ul> 
 </div> 
 <div style="background-color:#E5EECC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-xml">&lt;projectxmlns="http://maven.apache.org/POM/4.0.0"xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
     http://maven.apache.org/maven-v4_0_0.xsd"&gt;
 
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;com.yiibai&lt;/groupId&gt;
    &lt;artifactId&gt;HelloSpringMVC&lt;/artifactId&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;HelloSpringMVC Maven Webapp&lt;/name&gt;
    &lt;url&gt;http://maven.apache.org&lt;/url&gt;
 
 
    &lt;dependencies&gt;
 
        &lt;dependency&gt;
            &lt;groupId&gt;junit&lt;/groupId&gt;
            &lt;artifactId&gt;junit&lt;/artifactId&gt;
            &lt;version&gt;3.8.1&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
 
        &lt;!-- Servlet Library --&gt;
        &lt;!-- http://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
            &lt;version&gt;3.1.0&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
 
        &lt;!-- Spring dependencies --&gt;
        &lt;!-- http://mvnrepository.com/artifact/org.springframework/spring-core --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
 
        &lt;!-- http://mvnrepository.com/artifact/org.springframework/spring-web --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;
            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
 
        &lt;!-- http://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
            &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;
        &lt;/dependency&gt;
 
    &lt;/dependencies&gt;
     
    &lt;build&gt;
        &lt;finalName&gt;HelloSpringMVC&lt;/finalName&gt;
        &lt;plugins&gt;
         
            &lt;!-- Config: Maven Tomcat Plugin --&gt;
            &lt;!-- http://mvnrepository.com/artifact/org.apache.tomcat.maven/tomcat7-maven-plugin --&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;
                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;2.2&lt;/version&gt;
                &lt;!-- Config: contextPath and Port (Default - /HelloSpringMVC : 8080) --&gt;
                &lt;!--
                &lt;configuration&gt;
                    &lt;path&gt;/&lt;/path&gt;
                    &lt;port&gt;8899&lt;/port&gt;
                &lt;/configuration&gt;
                --&gt;   
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;   
     
&lt;/project&gt;</pre> 
  </div> 
 </div> 
 <div style="background-color:inherit;">
   配置&nbsp;
  <strong>web.xml：</strong> 
 </div> 
 <div style="background-color:#E5EECC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-xml">&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns="http://java.sun.com/xml/ns/javaee"
   xsi:schemaLocation="http://java.sun.com/xml/ns/javaeehttp://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
   id="WebApp_ID" version="3.0"&gt;
    
   &lt;display-name&gt;HelloWorldSpring&lt;/display-name&gt;
    
   &lt;servlet&gt;
       &lt;servlet-name&gt;spring-mvc&lt;/servlet-name&gt;
       &lt;servlet-class&gt;
           org.springframework.web.servlet.DispatcherServlet
       &lt;/servlet-class&gt;
       &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
   &lt;/servlet&gt;   
    
   &lt;servlet-mapping&gt;
       &lt;servlet-name&gt;spring-mvc&lt;/servlet-name&gt;
       &lt;url-pattern&gt;/&lt;/url-pattern&gt;
   &lt;/servlet-mapping&gt;
 
    &lt;!-- Other XML Configuration --&gt;
   &lt;!-- Load by Spring ContextLoaderListener --&gt;
   &lt;context-param&gt;
       &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
       &lt;param-value&gt;/WEB-INF/root-context.xml&lt;/param-value&gt;
   &lt;/context-param&gt;
 
    
    &lt;!-- Spring ContextLoaderListener --&gt;
   &lt;listener&gt;
       &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
   &lt;/listener&gt;
    
&lt;/web-app&gt;</pre> 
  </div> 
 </div> 
 <strong>Spring MVC 的 DispatcherServlet将根据原则读取XML配置文件：</strong>
 <br> 
 <div style="background-color:inherit;"> 
  <ul style="background-color:inherit;"> 
   <li style="background-color:inherit;"> {servlet-name} ==&gt; /WEB-INF/{servlet-name}-servlet.xml<br> <img src="/uploads/tutorial/20160116/1-160116095531K1.png" alt=""><br> </li> 
  </ul> 
 </div> 
 <div style="background-color:inherit;"> 
  <ul style="background-color:inherit;"> 
   <li style="background-color:inherit;"> <em><strong>spring-mvc-servlet.xml</strong></em> </li> 
  </ul> 
 </div> 
 <div style="background-color:#E5EECC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-xml">&lt;?xml version="1.0"encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:mvc="http://www.springframework.org/schema/mvc"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans-4.1.xsd 
      http://www.springframework.org/schema/context
      http://www.springframework.org/schema/context/spring-context-4.1.xsd 
      http://www.springframework.org/schema/mvc
      http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd"&gt;
 
   &lt;context:component-scan base-package="com.yiibai.tutorial.springmvc"/&gt;
    
   &lt;context:annotation-config/&gt;
    
   &lt;bean
       class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
        
       &lt;property name="prefix"&gt;
           &lt;value&gt;/WEB-INF/pages/&lt;/value&gt;
       &lt;/property&gt;
        
       &lt;property name="suffix"&gt;
           &lt;value&gt;.jsp&lt;/value&gt;
       &lt;/property&gt;       
        
   &lt;/bean&gt;
    
&lt;/beans&gt;</pre> 
  </div> 
 </div> 
 <strong>注</strong>:
 <br> 在Spring应用程序&nbsp;ContextLoaderListener&nbsp;将读取其他 XML 配置文件(如下的 abc.xml 和 root-context.xml 两个文件)。&nbsp;可能不需要配置 ContextLoaderListener，如果你的应用程序并不需要读取其他XML配置文件。 
 <div style="background-color:#E5EECC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-xml">&lt;!-- web.xml --&gt;
&lt;!-- Spring ContextLoaderListener --&gt;
&lt;listener&gt;
&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
&lt;/listener&gt;
 
&lt;!-- Load by Spring ContextLoaderListener --&gt;
&lt;context-param&gt;
&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
&lt;param-value&gt;
       /WEB-INF/root-context.xml,
       /WEB-INF/abc.xml
 &lt;/param-value&gt;
&lt;/context-param&gt;</pre> 
  </div> 
 </div> 
 <div style="background-color:inherit;"> 
  <ul style="background-color:inherit;"> 
   <li style="background-color:inherit;"> <strong>/WEB-INF/root-context.xml</strong> </li> 
  </ul> 
 </div> 
 <div style="background-color:#E5EECC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;
 
  &lt;!-- Empty --&gt;
 
&lt;/beans&gt;</pre> 
  </div> 
 </div> 
 <div style="background-color:inherit;"> 
  <ul style="background-color:inherit;"> 
   <li style="background-color:inherit;"> <strong>HelloWorldController.java</strong> </li> 
  </ul> 
 </div> 
 <div style="background-color:#E1EAED;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-java">package com.yiibai.springmvc;
 
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
 
@Controller
public class HelloWorldController {
 
    @RequestMapping("/hello")
    public String hello(Model model) {
         
        model.addAttribute("greeting", "Hello Spring MVC");
         
        return"helloworld";
         
    }
 
}</pre> 
  </div> 
 </div> 
 <p> <img src="/uploads/tutorial/20160116/1-160116095F3935.png" alt=""> </p> 
 <div style="background-color:inherit;"> 
  <ul style="background-color:inherit;"> 
   <li style="background-color:inherit;"> <em><strong>helloworld.jsp</strong></em> </li> 
  </ul> 
 </div> 
 <div style="background-color:#E5EECC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-html">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"  pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;title&gt;Spring4 MVC -HelloWorld&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;${greeting}&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</pre> 
  </div> 
 </div> 
 <h2> 5- 运行Spring应用程序 </h2> 
 <div>
   首先，运行应用程序之前，需要构建整个项目。 
 </div> 
 <div>
   右键单击该项目并选择： 
 </div> 
 <div> 
  <ul> 
   <li> Run As/Maven install </li> 
  </ul> 
 </div> 
 <h3> 
  <div> 
   <strong><img src="/uploads/tutorial/20160116/1-160116095I1222.png" alt=""><br> </strong>
   <img src="/uploads/tutorial/20160116/1-160116095JJ59.png" alt="">
   <br> 运行配置： 
  </div> </h3> 
 <div> 
  <img src="/uploads/tutorial/20160116/1-160116095PX51.png" alt="">
  <br> 
  <img src="/uploads/tutorial/20160116/1-160116095RVa.png" alt="">
  <br> 输入: 
 </div> 
 <div> 
  <ul> 
   <li> Name:&nbsp;Run HelloSpringMVC </li> 
   <li> Base directory:&nbsp;${workspace_loc:/HelloSpringMVC} =&gt;${workspace_loc:/HelloSpringMVC&nbsp;Maven&nbsp;Webapp} </li> 
   <li> Goals:&nbsp;tomcat7:run </li> 
  </ul> 
 </div> 
 <div> 
  <img src="/uploads/tutorial/20160116/1-160116095U2113.png" alt="">
  <br> 点击Run:
  <br> 
  <img src="/uploads/tutorial/20160116/1-160116095914W4.png" alt="">
  <br> 
 </div> 
 <div>
   第一次运行该程序将需要几分钟(看你的网速)，它需要下载 Tomcat 插件库才能运行。 
 </div> 
 <div>
   一切准备就绪：
  <br> 
  <img src="/uploads/tutorial/20160116/1-160116095932P5.png" alt="">
  <br> 
 </div> 
 <div>
   运行URL，如下图： 
 </div> 
 <div> 
  <ul> 
   <li> <a target="_blank" href="http://localhost:8080/HelloSpringMVC/hello">http://localhost:8080/HelloSpringMVC/hello</a><br> <img src="/uploads/tutorial/20160116/1-1601160959551P.png" alt=""><br> </li> 
  </ul> 
 </div> 
 <h2> 6 -&nbsp;应用程序的流程 </h2> 
 <div>
   完成您的项目后，并成功地在上一步中运行。现在，我们来看一看程序的运行方式。
  <br> 
  <img src="http://www.yiibai.com/uploads/tutorial/20160116/1-16011609514D50.png" alt="">
  <br> 
 </div> 
 <h2> 7-&nbsp;控制器和方法 </h2> 
 <h2> 7.1- HttpServletRequest &amp; HttpServletResponse </h2> 
 <div>
   可以使用&nbsp;HttpServletRequest,&nbsp;HttpServletResponse&nbsp;在控制器的方法中。 
 </div> 
 <div> 
  <ul> 
   <li> OtherExampleController.java </li> 
  </ul> 
 </div> 
 <div style="background-color:#E1EAED;"> 
  <div style="background-color:white !important;">   
   <pre class="prettyprint lang-java">package com.yiibai.springmvc;
 
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
 
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
 
@Controller
public class OtherExampleController {
 
   ......
 
   @RequestMapping("/somePath")
   public String requestResponseExample(HttpServletRequest request,
           HttpServletResponse reponses, Model model) {
 
       // Todo something here
 
       return "someView";
   }
 
   ......
}</pre> 
  </div> 
 </div> 
 <h2> 7.2-&nbsp;控制器中的重定向 </h2> 
 <div>
   使用前缀&nbsp;"redirect:"&nbsp;，该方法返回字符串，可以重定向到另一页面。参见图： 
 </div> 
 <div> 
  <ul> 
   <li> RedirectExampleController.java </li> 
  </ul> 
 </div> 
 <div style="background-color:#E1EAED;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-java">package com.yiibai.springmvc;
 
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
 
@Controller
public class RedirectExampleController {
 
    @RequestMapping(value = "/redirect", method = RequestMethod.GET)
    public String authorInfo(Model model) {
 
       // Do somethong here
 
        return "redirect:/hello";
    }
}</pre> 
  </div> 
 </div> 
 <div>
   运行URL: 
 </div> 
 <div> 
  <ul> 
   <li> <a target="_blank" href="http://localhost:8080/HelloSpringMVC/redirect">http://localhost:8080/HelloSpringMVC/redirect</a><br> <img src="/uploads/tutorial/20160116/1-160116100112607.png" alt=""><br> </li> 
  </ul> 
 </div> 
 <h2> 7.3- @RequestParam示例 </h2> 
 <div>
   使用@RequestParam 注解将请求参数绑定到你的控制器方法参数。 
 </div> 
 <div>
   下面的代码片段显示了这个用法： 
 </div> 
 <div> 
  <ul> 
   <li> RequestParamExampleController.java </li> 
  </ul> 
 </div> 
 <div style="background-color:#E1EAED;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-java">package com.yiibai.springmvc;
 
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
 
@Controller
public class RequestParamExampleController {
     
    @RequestMapping("/user")
    public String userInfo(Model model,
            @RequestParam(value = "name", defaultValue = "Guest") String name) {
 
        model.addAttribute("name", name);
 
        if("admin".equals(name)) {
            model.addAttribute("email", "admin@yiibai.com");
        } else{
            model.addAttribute("email", "Not set");
        }
        return "userInfo";
    }
  
}</pre> 
  </div> 
 </div> 
 <div style="background-color:inherit;"> 
  <ul style="background-color:inherit;"> 
   <li style="background-color:inherit;"> <strong>/WEB-INF/pages/userInfo.jsp</strong> </li> 
  </ul> 
 </div> 
 <div style="background-color:#FFFFCC;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-html">&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"&gt;
&lt;title&gt;User Info&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
 
   &lt;h2&gt;${name}&lt;/h2&gt;
 
   Email: ${email}
   &lt;br&gt;
&lt;/body&gt;
&lt;/html&gt;</pre> 
  </div> 
 </div> 
 <div>
   运行 URL: 
 </div> 
 <div> 
  <ul> 
   <li> <a target="_blank" href="http://localhost:8080/HelloSpringMVC/user?name=admin">http://localhost:8080/HelloSpringMVC/user?name=admin</a><br> <img src="/uploads/tutorial/20160116/1-1601161001301W.png" alt=""><br> </li> 
  </ul> 
 </div> 
 <h2> 7.4- @PathVariable示例 </h2> 
 <div>
   在Spring&nbsp;MVC中，可以使用@PathVariable注释将一个方法参数绑定到一个URI模板变量的值： 
 </div> 
 <div>
   例如，这是一个模板的URI： 
 </div> 
 <ul> 
  <li> /web/fe/{sitePrefix}/{language}/document/{id}/{naturalText} </li> 
 </ul> 
 <div>
   而下面的 URI 模板匹配上面： 
 </div> 
 <ol> 
  <li> /web/fe/default/en/document/8108/spring-mvc-for-beginners </li> 
  <li> /web/fe/default/vi/document/8108/spring-mvc-cho-nguoi-moi-bat-dau </li> 
  <li> ..... </li> 
 </ol> 
 <div> 
  <img src="/uploads/tutorial/20160116/1-160116100204I8.png" alt="">
  <br> 下面的代码片段显示了用法： 
 </div> 
 <div> 
  <ul> 
   <li> PathVariableExampleController.java </li> 
  </ul> 
 </div> 
 <div style="background-color:#E1EAED;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-java">package com.yiibai.springmvc;
 
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
 
@Controller
public class PathVariableExampleController {
  
 
    /**
     * @PathVariable Example:
     *
     */
    @RequestMapping("/web/fe/{sitePrefix}/{language}/document/{id}/{naturalText}")
    public String documentView(Model model,
            @PathVariable(value = "sitePrefix") String sitePrefix,
            @PathVariable(value = "language") String language,
            @PathVariable(value = "id") Long id,
            @PathVariable(value = "naturalText") String naturalText) {
 
        model.addAttribute("sitePrefix", sitePrefix);
        model.addAttribute("language", language);
        model.addAttribute("id", id);
        model.addAttribute("naturalText", naturalText);
 
        String documentName = "Java tutorial for Beginners";
        if(id == 8108) {
            documentName = "Spring MVC for Beginners";
        }
 
        model.addAttribute("documentName", documentName);
 
        return "documentView";
    }
}</pre> 
  </div> 
 </div> 
 <div style="background-color:inherit;"> 
  <ul> 
   <li> /WEB-INF/pages/documentView.jsp </li> 
  </ul> 
 </div> 
 <div> 
  <div> 
   <pre class="prettyprint lang-html">&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"&gt;
&lt;title&gt;${documentName}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
 
    &lt;h3&gt;${documentName}&lt;/h3&gt;
 
    Site Prefix: ${sitePrefix}
    &lt;br&gt; Language: ${language}
    &lt;br&gt; ID: ${id}
    &lt;br&gt; Natural Text: ${naturalText}
    &lt;br&gt;
 
&lt;/body&gt;
&lt;/html&gt;</pre> 
  </div> 
 </div> 
 <div>
   运行 URL: 
 </div> 
 <div> 
  <ul> 
   <li> <a target="_blank" href="http://localhost:8080/HelloSpringMVC/web/fe/default/en/document/8108/spring-mvc-for-beginners">http://localhost:8080/HelloSpringMVC/web/fe/default/en/document/8108/spring-mvc-for-beginners</a><br> <img src="/uploads/tutorial/20160116/1-16011610022C14.png" alt=""><br> </li> 
  </ul> 
 </div> 
 <h2> 7.5- @ResponseBody示例 </h2> 
 <div>
   如果您使用 @ResponseBody 注释到方法，&nbsp;spring&nbsp;将尝试转换它的返回值，并自动写入到HTTP响应。在这种情况下，并不需要一个特定的视图。 
 </div> 
 <blockquote style="background-color:#FFFF99;font-style:italic;"> 
  <div style="background-color:inherit;">
    注：方法不一定需要返回字符串类型。 
  </div> 
 </blockquote> 
 <h3> <p style="background-color:inherit;"> <br> </p> <p> 使用@ResponseBody和方法返回字符串的简单例子。 </p> </h3> 
 <div> 
  <ul> 
   <li> ResponseBodyExample1Controller.java </li> 
  </ul> 
 </div> 
 <div style="background-color:#E1EAED;"> 
  <div style="background-color:white !important;"> 
   <pre class="prettyprint lang-java">package com.yiibai.springmvc;
 
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;
 
@Controller
public class ResponseBodyExample1Controller {
 
    // Simple example, method returns String.
    @RequestMapping(value = "/saveResult")
    @ResponseBody
    publicString authorInfo(Model model) {
        return "saved";
    }
 
     
}</pre> 
  </div> 
 </div> 
 <div>
   运行示例的结果： 
 </div> 
 <div> 
  <ul> 
   <li> <a target="_blank" href="http://localhost:8080/HelloSpringMVC/saveResult">http://localhost:8080/HelloSpringMVC/saveResult</a><br> <img src="/uploads/tutorial/20160116/1-1601161002461L.png" alt=""><br> </li> 
  </ul> 
 </div> 
 <div>
   使用@ResponseBody 的一个例子，方法返回一个对象。
  <br> 
 </div> 代码下载：
 <a target="_blank" href="http://pan.baidu.com/s/1mgYKoA0">http://pan.baidu.com/s/1mgYKoA0</a>
 <br>      
</div></body></html>