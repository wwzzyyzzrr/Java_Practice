<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">JavaFX快速入门</h1><div style="width:100%;float:left;" class="article-content">   
 <h2 id="h2-1-"><a name="1- 前提条件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1- 前提条件</h2>
 <p>在本文中，将学习如何在 <strong>Eclipse IDE</strong> 开发和执行JavaFX编程。</p> 
 <h3 id="h3-e-fx-eclipse"><a name="e(fx)eclipse" class="reference-link"></a><span class="header-link octicon octicon-link"></span>e(fx)eclipse</h3>
 <p><strong>e(fx)eclipse</strong>是一组工具和必要的库，它们帮助您执行JavaFX编程，确保您已经作为插件将其安装在eclipse上了。 如果未安装<strong>e(fx)eclipse</strong>，可以在以下链接查看安装指南：</p> 
 <ul> 
  <li><a target="_blank" href="http://www.yiibai.com/javafx/install-efxclipse-into-eclipse.html">http://www.yiibai.com/javafx/install-efxclipse-into-eclipse.html</a></li>
 </ul> 
 <h3 id="h3-javafx-scene-builder"><a name="JavaFX Scene Builder" class="reference-link"></a><span class="header-link octicon octicon-link"></span>JavaFX Scene Builder</h3>
 <p><strong>JavaFX Scene Builder</strong>是一种可视化设计工具，它允许通过拖放快速创建应用程序界面。 并且代码创建为<code>XML</code>格式的文件。 这是一个选项，为了执行<strong>JavaFX</strong>编程，最好也应该安装它。</p> 
 <p>如果还未安装<strong>JavaFX Scene Builder</strong>，可以在以下链接查看说明：</p> 
 <ul> 
  <li><a target="_blank" href="http://www.yiibai.com/javafx/install-javafx-scene-builder-into-eclipse.html">http://www.yiibai.com/javafx/install-javafx-scene-builder-into-eclipse.html</a></li>
 </ul> 
 <h2 id="h2-2-hello-world-"><a name="2-创建Hello World项目" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2-创建Hello World项目</h2>
 <p>打开<strong>Eclipse</strong>，并在<strong>Eclipse</strong>中选择：</p> 
 <ul> 
  <li><strong>File -&gt; New -&gt; Others..</strong></li>
 </ul> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/09/261170136_19359.png" alt=""></p> 
 <p>创建一个项目名称为：<code>HelloJavaFx</code>，如下图中所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/187090128_24296.png" alt=""></p> 
 <p>项目创建成功以后，如下图中所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/880090129_76626.png" alt=""></p> 
 <p>还创建了<code>Hello World</code>示例代码，如下所示 -</p> 
 <pre><code class="lang-java">package application;

import javafx.application.Application;
import javafx.stage.Stage;
import javafx.scene.Scene;
import javafx.scene.layout.BorderPane;


public class Main extends Application {
    @Override
    public void start(Stage primaryStage) {
        try {
            BorderPane root = new BorderPane();
            Scene scene = new Scene(root,400,400);
            scene.getStylesheets().add(getClass().getResource("application.css").toExternalForm());
            primaryStage.setScene(scene);
            primaryStage.show();
        } catch(Exception e) {
            e.printStackTrace();
        }
    }

    public static void main(String[] args) {
        launch(args);
    }
}
</code></pre> 
 <p>首先，让我们确保运行<code>Hello World</code>例子成功。 右键单击<strong>主类(Main)</strong>并选择：</p> 
 <ul> 
  <li><strong>Run As -&gt; Java Application</strong></li>
 </ul> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/880090132_31772.png" alt=""></p> 
 <p>JavaFX的<code>Hello World</code>应用正在运行，结果是一个空白的界面，如下：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/980090133_50846.png" alt=""></p> 
 <h2 id="h2-3-hello-world-"><a name="3- Hello World示例说明" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3- Hello World示例说明</h2>
 <p>在上面的步骤中，您已成功创建并运行 <strong>JavaFX</strong> 的 <code>Hello World</code> 应用。<br>下图显示了舞台(Stage)，场景(Scene)，容器(Container)，布局(Layout )和控件(Controls)之间的关系：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/585090135_32557.png" alt=""></p> 
 <p>在<strong>JavaFX</strong>中，<strong>Stage</strong>是应用程序窗口，其中包含称为<strong>Scene</strong>的空间。 <strong>Scene</strong>包含界面的组件，如<code>Button</code>，<code>Text</code>，…或容器。</p> 
 <h2 id="h2-4-javafx-scene-builder"><a name="4- JavaFX Scene Builder" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4- JavaFX Scene Builder</h2>
 <p>为了创建一个JavaFX应用程序界面，可以完全编写Java代码。 但是，需要这么多时间来做到这一点，<strong>JavaFX Scene Builder</strong>是一个可视化工具，允许您设计<strong>Scene</strong>的界面。 生成的代码是<code>XML</code>代码保存在<code>*.fxml</code>文件中。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/263090139_49930.png" alt=""></p> 
 <h2 id="h2-5-javafx-scene-builder-"><a name="5-使用JavaFX Scene Builder的示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>5-使用JavaFX Scene Builder的示例</h2>
 <p>这是一个小例子，使用<strong>Scene Builder</strong>来设计应用程序界面。应用于该示例的MVC的模型如下所示：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/235090140_49181.png" alt=""></p> 
 <ul> 
  <li>在<strong>VIEW</strong>上显示它</li>
  <li>用户使用<strong>CONTROLLER</strong></li>
  <li>操作数据(更新，修改，删除，..)，<strong>MODEL</strong>上的数据已更改。</li>
  <li>在<strong>VIEW</strong>上显示<strong>MODEL</strong>的数据。</li>
 </ul> 
 <p>下面我们来创建一个新的 <code>MySecene.xml</code> 文件。</p> 
 <ul> 
  <li><strong>File -&gt; New -&gt; Other…</strong></li>
 </ul> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/570090144_29242.png" alt=""></p> 
 <p>输入文件名称 -<br><img src="http://www.yiibai.com/uploads/images/201701/10/308090146_43279.png" alt=""></p> 
 <p>创建结果如下图所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/711090146_49456.png" alt=""></p> 
 <p>可以使用<strong>JavaFX Scene Builder</strong>打开<code>fxml</code>文件。</p> 
 <blockquote> 
  <p>注意：确保已安装<strong>JavaFX Scene Builder</strong>，并将其集成到<strong>Eclipse</strong>中。</p> 
 </blockquote> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/962090148_51584.png" alt=""></p> 
 <p><code>MyScene.fxml</code>的界面设计屏幕如下：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/915090149_79425.png" alt=""></p> 
 <p>位于场景上的组件：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/499090150_34171.png" alt=""></p> 
 <p>拉伸面板 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/579110135_69361.png" alt=""></p> 
 <p>锚点面板 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/815110136_77741.png" alt=""></p> 
 <p>查找按钮并将其拖动到<code>AnchorPane</code>中：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/271110137_98875.png" alt=""></p> 
 <p>将<code>Button</code>的<code>ID</code>设置为“<code>myButton</code>”，可以通过其<code>ID</code>从Java代码访问这<code>Button</code>。设置方法将在单击按钮时调用。</p> 
 <p>将<code>TextField</code>拖放到<code>AnchorPane</code>中。设置<code>TextField</code>的<code>ID</code>，将其作为“<code>myTextField</code>”新拖放到<code>AnchorPane</code>中，可以通过其ID在Java代码中访问这个<code>TextField</code>。</p> 
 <p>选择<strong>文件/保存</strong>以保存更改。并在窗口中选择“<strong>预览/显示预览</strong>”以预览您的设计。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/262110140_10875.png" alt=""></p> 
 <p>显示结果如下 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/716110143_99953.png" alt=""></p> 
 <p>关闭<strong>Scene Builder</strong>窗口并在<strong>Eclipse</strong>上刷新项目。您可以查看此时<code>MyScene.fxml</code>文件中生成的代码：</p>   
 <pre><code class="lang-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;?import javafx.scene.control.*?&gt;
&lt;?import java.lang.*?&gt;
&lt;?import javafx.scene.layout.*?&gt;
&lt;?import javafx.scene.layout.AnchorPane?&gt;


&lt;AnchorPane prefHeight="309.0" prefWidth="349.0"
    xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/8"&gt;
    &lt;children&gt;
        &lt;Button fx:id="myButton" layoutX="60.0" layoutY="73.0"
            mnemonicParsing="false" onAction="#showDateTime" prefHeight="23.0"
            prefWidth="120.0" text="Show Date Time" /&gt;
        &lt;TextField fx:id="myTextField" layoutX="60.0" layoutY="155.0" /&gt;
    &lt;/children&gt;
&lt;/AnchorPane&gt;
</code></pre> 
 <p>将属性<code>fx:controller</code>添加到<code>&lt;AnchorPane&gt;</code>中，<code>Controller</code>将对位于<code>AnchorPane</code>内部的控件(如<code>myButton</code>和<code>myTextField</code>)有引用。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/847140128_66916.png" alt=""></p> 
 <blockquote> 
  <p>注意：<code>application.MyController</code>类将在以后创建。</p> 
 </blockquote> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/678110147_51163.png" alt=""></p> 
 <h2 id="h2--controller-"><a name="控制器(Controller)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>控制器(Controller)</h2>
 <p>以下是 <code>MyController.java</code> 文件的内容 -</p> 
 <pre><code class="lang-java">package application;

import java.net.URL;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.ResourceBundle;

import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.control.Button;
import javafx.scene.control.TextField;

public class MyController implements Initializable {

   @FXML
   private Button myButton;

   @FXML
   private TextField myTextField;

   @Override
   public void initialize(URL location, ResourceBundle resources) {

       // TODO (don't really need to do anything here).

   }

   // When user click on myButton
   // this method will be called.
   public void showDateTime(ActionEvent event) {
       System.out.println("Button Clicked!");

       Date now= new Date();

       DateFormat df = new SimpleDateFormat("yyyy-dd-MM HH:mm:ss");
       String dateTimeString = df.format(now);
        // Show in VIEW
        myTextField.setText(dateTimeString);

   }

}
</code></pre> 
 <p>Main.java 文件的内容如下 - </p> 
 <pre><code class="lang-java">package application;

import javafx.application.Application;
import javafx.stage.Stage;
import javafx.scene.Scene;
import javafx.scene.layout.BorderPane;
import javafx.application.Application;
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.stage.Stage;

public class Main extends Application {
    @Override
    public void start(Stage primaryStage) {
        try {
            // Read file fxml and draw interface.
            Parent root = FXMLLoader.load(getClass()
                    .getResource("/application/MyScene.fxml"));

            primaryStage.setTitle("My Application");
            primaryStage.setScene(new Scene(root));
            primaryStage.show();

        } catch(Exception e) {
            e.printStackTrace();
        }
    }

    public static void main(String[] args) {
        launch(args);
    }
}
</code></pre> 
 <p>执行上面的代码，得到以下结果 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/10/937140142_64543.png" alt=""></p> 
 <h2 id="h2-u5173u4E8Eu7EA0u9519u8865u5145"><a name="关于纠错补充" class="reference-link"></a><span class="header-link octicon octicon-link"></span>关于纠错补充</h2>
 <blockquote> 
  <p>网友(<code>DX &lt;475******<a target="_blank" href="mailto:2@qq.com">2@qq.com</a></code>&gt;)<br>MyScene.fxml文档中有个onDragDetected属性，它指的是发生拖拽动作，不是点击动作，所以我原封不动尝试代码是错误的，怎么点击那个按钮都没有反应，拖拽那个按钮才有反应(报错)。 后来查阅官方文档才发现问题，这给我这个初学者造成了很大的困扰，希望能及时更正内容，应该改为onAction才对。</p> 
 </blockquote>
 <br>      
</div></body></html>