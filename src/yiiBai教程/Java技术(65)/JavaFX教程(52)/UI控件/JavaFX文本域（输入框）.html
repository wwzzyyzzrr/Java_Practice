<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">JavaFX文本域（输入框）</h1><div style="width:100%;float:left;" class="article-content">   
 <p><code>TextField</code>用于单行文本输入。请看下面的示例 -</p> 
 <pre><code class="lang-java">import javafx.application.Application;
import javafx.geometry.Insets;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.scene.control.Label;
import javafx.scene.control.TextField;
import javafx.scene.layout.GridPane;
import javafx.stage.Stage;
// at W  w w .y I Iba  I .C  o m 
public class Main extends Application {
  public static void main(String[] args) {
    launch(args);
  }
  @Override
  public void start(Stage stage) {
    Scene scene = new Scene(new Group(), 450, 250);

    TextField notification = new TextField ();
    notification.setText("Label");

    notification.clear();

    GridPane grid = new GridPane();
    grid.setVgap(4);
    grid.setHgap(10);
    grid.setPadding(new Insets(5, 5, 5, 5));
    grid.add(new Label("To: "), 0, 0);
    grid.add(notification, 1, 0);

    Group root = (Group) scene.getRoot();
    root.getChildren().add(grid);
    stage.setScene(scene);
    stage.show();
  }
}
</code></pre> 
 <p><code>TextField</code>和<code>Password</code>字段扩展了<code>TextInput</code>类，它是JavaFX中所有文本控件的超类。<br>上面的代码生成以下结果。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/16/362140144_36556.png" alt=""></p> 
 <h2 id="h2-u521Bu5EFAu6587u672Cu57DF"><a name="创建文本域" class="reference-link"></a><span class="header-link octicon octicon-link"></span>创建文本域</h2>
 <p>我们可以使用<code>TextField</code>类的构造函数来创建文本字段。</p> 
 <p><code>TextField</code>只是一个带有光标的文本输入框，通常我们需要一个<code>Label</code>控件来告诉文本字段的目的。以下代码创建一个<code>Label</code>控件来标记对应的文本字段是用于名称输入。然后它创建一个<code>TextField</code>对象。之后，它使用HBox布局<code>Label</code>和<code>TextField</code>。</p> 
 <pre><code class="lang-java">Label label1 = new Label("Name:");
TextField textField = new TextField ();
HBox hb = new HBox();
hb.getChildren().addAll(label1, textField);
hb.setSpacing(10);
</code></pre> 
 <p>使用预定义文本创建文本字段。</p> 
 <pre><code class="lang-java">TextField textField = new TextField("yiibai.com")
</code></pre> 
 <h2 id="h2-textfield-"><a name="TextField文本" class="reference-link"></a><span class="header-link octicon octicon-link"></span>TextField文本</h2>
 <p>要从文本字段获取值，请调用<code>getText()</code>方法。</p> 
 <p>从<code>TextInput</code>的<code>setPrefColumnCount</code>方法设置文本字段的大小。 通过设置一次可以显示的最大字符数。</p> 
 <p>我们可以使用提示字幕通知用户文本字段的用途。<code>setPromptText()</code>方法定义显示在文本字段中的字符串。无法通过<code>getText()</code>方法获取提示文本。</p> 
 <p>以下代码显示如何设置<code>TextField</code>的提示文本</p> 
 <pre><code class="lang-java">import javafx.application.Application;
import javafx.geometry.Insets;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.scene.control.TextField;
import javafx.scene.layout.GridPane;
import javafx.stage.Stage;
// by  w W w. y I i  b A i. c  O  M
public class Main extends Application {

  @Override
  public void start(Stage stage) {
    Group root = new Group();
    Scene scene = new Scene(root, 300, 150);
    stage.setScene(scene);
    stage.setTitle("Text Field Sample");

    GridPane grid = new GridPane();
    grid.setPadding(new Insets(10, 10, 10, 10));
    grid.setVgap(5);
    grid.setHgap(5);

    scene.setRoot(grid);

    final TextField name = new TextField();
    name.setPromptText("Enter your first name.");
    name.setPrefColumnCount(10);
    name.getText();
    GridPane.setConstraints(name, 0, 0);
    grid.getChildren().add(name);


    stage.show();
  }

  public static void main(String[] args) {
    launch(args);
  }
}
</code></pre> 
 <p>以下列表有一些有用的方法，可以使用它们在文本字段中进行文本编辑。</p> 
 <ul> 
  <li><code>copy()</code> - 将所选文本设置为剪贴板。</li>
  <li><code>cut()</code> - 将所选文本设置为剪贴板并删除当前选择。</li>
  <li><code>selectAll()</code> - 选择文本输入中的所有文本。</li>
  <li><code>paste()</code> - 将剪贴板中的内容设置为此文本并替换当前选择。</li>
 </ul> 
 <p>上面的代码生成以下结果。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/16/963140150_43991.png" alt=""></p> 
 <h2 id="h2--1"><a name="示例-1" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例-1</h2>
 <p>以下代码显示如何将字符串值从<code>TextField</code>绑定到<strong>Stage Title</strong>。</p> 
 <pre><code class="lang-java">import javafx.application.Application;
import javafx.beans.property.SimpleStringProperty;
import javafx.beans.property.StringProperty;
import javafx.scene.Scene;
import javafx.scene.control.Label;
import javafx.scene.control.TextField;
import javafx.scene.layout.HBox;
import javafx.stage.Stage;

public class Main extends Application {
  StringProperty title = new SimpleStringProperty();

  public static void main(String[] args) {
    Application.launch(args);
  }

  @Override
  public void start(Stage stage) {
    TextField titleTextField;
    titleTextField = new TextField();
    titleTextField.setText("Stage Coach");
    titleTextField.setPrefColumnCount(15);

    HBox hBox = new HBox();
    hBox.setSpacing(10);
    hBox.getChildren().add(new Label("title:"));
    hBox.getChildren().add(titleTextField);

    Scene scene  = new Scene(hBox,270,270);
    title.bind(titleTextField.textProperty());

    stage.setScene(scene);
    stage.titleProperty().bind(title);


    stage.show();
  }
}
</code></pre> 
 <p>上面的代码生成以下结果。<br><img src="http://www.yiibai.com/uploads/images/201701/16/735140152_86864.png" alt=""></p> 
 <h2 id="h2--2"><a name="实例-2" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例-2</h2>
 <p>以下代码显示了如何将<code>ContextMenu</code>添加到<code>TextField</code>。</p>   
 <pre><code class="lang-java">import javafx.application.Application;
import javafx.event.ActionEvent;
import javafx.event.EventHandler;
import javafx.geometry.Insets;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.scene.control.ContextMenu;
import javafx.scene.control.Label;
import javafx.scene.control.MenuItem;
import javafx.scene.control.TextField;
import javafx.scene.layout.GridPane;
import javafx.stage.Stage;
import javafx.stage.WindowEvent;
public class Main extends Application {
  public static void main(String[] args) {
    launch(args);
  }

  @Override
  public void start(Stage stage) {
    Scene scene = new Scene(new Group(), 450, 250);

    TextField notification = new TextField();

    final ContextMenu contextMenu = new ContextMenu();
    contextMenu.setOnShowing(new EventHandler&lt;WindowEvent&gt;() {
      public void handle(WindowEvent e) {
        System.out.println("showing");
      }
    });
    contextMenu.setOnShown(new EventHandler&lt;WindowEvent&gt;() {
      public void handle(WindowEvent e) {
        System.out.println("shown");
      }
    });

    MenuItem item1 = new MenuItem("About");
    item1.setOnAction(new EventHandler&lt;ActionEvent&gt;() {
      public void handle(ActionEvent e) {
        System.out.println("About");
      }
    });
    MenuItem item2 = new MenuItem("Preferences");
    item2.setOnAction(new EventHandler&lt;ActionEvent&gt;() {
      public void handle(ActionEvent e) {
        System.out.println("Preferences");
      }
    });
    contextMenu.getItems().addAll(item1, item2);

    notification.setContextMenu(contextMenu);
    GridPane grid = new GridPane();
    grid.setVgap(4);
    grid.setHgap(10);
    grid.setPadding(new Insets(5, 5, 5, 5));
    grid.add(new Label("To: "), 0, 0);
    grid.add(notification, 1, 0);

    Group root = (Group) scene.getRoot();
    root.getChildren().add(grid);
    stage.setScene(scene);
    stage.show();
  }
}
</code></pre> 
 <p>上面的代码生成以下结果。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/16/676140155_19307.png" alt=""></p> 
 <h2 id="h2--3"><a name="实例-3" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例-3</h2>
 <p>覆盖<code>replaceText</code>和<code>replaceSelection</code>以创建自定义的<code>TextField</code>，如下所示 -</p> 
 <pre><code class="lang-java">import javafx.application.Application;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.scene.control.TextField;
import javafx.scene.paint.Color;
import javafx.stage.Stage;

public class Main extends Application {
  public static void main(String[] args) {
    Application.launch(args);
  }

  @Override
  public void start(Stage primaryStage) {
    Group root = new Group();
    Scene scene = new Scene(root, 300, 250, Color.WHITE);

    TextField field = new TextField() {
      @Override
      public void replaceText(int start, int end, String text) {
        if (!text.matches("[a-z]")) {
          super.replaceText(start, end, text);
        }
      }

      @Override
      public void replaceSelection(String text) {
        if (!text.matches("[a-z]")) {
          super.replaceSelection(text);
        }
      }
    };

    root.getChildren().add(field);
    primaryStage.setScene(scene);
    primaryStage.show();
  }
}
</code></pre> 
 <p>上面的代码生成以下结果，只能输入数字值 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201701/16/481140158_13073.png" alt=""></p>
 <br>      
</div></body></html>