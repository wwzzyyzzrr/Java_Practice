<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">df命令示例</h1><div style="width:100%;float:left;" class="article-content">   
 <p>linux中<strong>df</strong>命令的功能是用来检查linux服务器的文件系统的磁盘空间占用情况。可以利用该命令来获取硬盘被占用了多少空间，目前还剩下多少空间等信息。</p> 
 <h2 id="h2-1-"><a name="1．命令格式" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1．命令格式</h2>
 <pre><code class="lang-shell">df [选项] [文件]
</code></pre> 
 <h2 id="h2-2-"><a name="2．命令功能" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2．命令功能</h2>
 <p>显示指定磁盘文件的可用空间。如果没有文件名被指定，则所有当前被挂载的文件系统的可用空间将被显示。默认情况下，磁盘空间将以 <code>1KB</code> 为单位进行显示，除非环境变量 <code>POSIXLY_CORRECT</code> 被指定，那样将以<code>512</code>字节为单位进行显示。</p> 
 <h2 id="h2-3-"><a name="3．命令参数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3．命令参数</h2>
 <p><strong>必要参数：</strong></p> 
 <ul> 
  <li><code>-a</code> 全部文件系统列表</li>
  <li><code>-h</code> 方便阅读方式显示</li>
  <li><code>-H</code> 等于“<code>-h</code>”，但是计算式，<code>1K=1000</code>，而不是<code>1K=1024</code></li>
  <li><code>-i</code> 显示<code>inode</code>信息</li>
  <li><code>-k</code> 区块为<code>1024</code>字节</li>
  <li><code>-l</code> 只显示本地文件系统</li>
  <li><code>-m</code> 区块为<code>1048576</code>字节</li>
  <li><code>--no-sync</code> 忽略 <code>sync</code> 命令</li>
  <li><code>-P</code> 输出格式为<code>POSIX</code></li>
  <li><code>--sync</code> 在取得磁盘信息前，先执行<code>sync</code>命令</li>
  <li><code>-T</code> 文件系统类型</li>
 </ul> 
 <p><strong>选择参数：</strong></p> 
 <ul> 
  <li><code>--block-size=</code>&lt;区块大小&gt; 指定区块大小</li>
  <li><code>-t</code>&lt;文件系统类型&gt; 只显示选定文件系统的磁盘信息</li>
  <li><code>-x&lt;</code>文件系统类型&gt; 不显示选定文件系统的磁盘信息</li>
  <li><code>--help</code> 显示帮助信息</li>
  <li><code>--version</code> 显示版本信息</li>
 </ul> 
 <h2 id="h2-4-"><a name="4．使用实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4．使用实例</h2>
 <h3 id="h3--1-"><a name="实例1：显示磁盘使用情况" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例1：显示磁盘使用情况</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">df
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$ df
Filesystem          1K-blocks    Used Available Use% Mounted on
/dev/mapper/cl-root  40137576 1652412  38485164   5% /
devtmpfs               488988       0    488988   0% /dev
tmpfs                  499968       0    499968   0% /dev/shm
tmpfs                  499968    6860    493108   2% /run
tmpfs                  499968       0    499968   0% /sys/fs/cgroup
/dev/sda1             1038336  141652    896684  14% /boot
/dev/mapper/cl-home  19593216   33404  19559812   1% /home
tmpfs                   99996       0     99996   0% /run/user/0
tmpfs                   99996       0     99996   0% /run/user/1000
[yiibai@localhost ~]$
</code></pre> 
 <p><strong>说明：</strong><br>linux中df命令的输出清单的第1列是代表文件系统对应的设备文件的路径名(一般是硬盘上的分区)；第<code>2</code>列给出分区包含的数据块(<code>1024</code>字节)的数目；第<code>3</code>，<code>4</code>列分别表示已用的和可用的数据块数目。用户也许会感到奇怪的是，第<code>3</code>，<code>4</code>列块数之和不等于第<code>2</code>列中的块数。这是因为缺省的每个分区都留了少量空间供系统管理员使用。即使遇到普通用户空间已满的情况，管理员仍能登录和留有解决问题所需的工作空间。清单中<code>Use%</code> 列表示普通用户空间使用的百分比，即使这一数字达到<code>100％</code>，分区仍然留有系统管理员使用的空间。最后，Mounted on列表示文件系统的挂载点。</p> 
 <h3 id="h3--2-inode-"><a name="实例2：以inode模式来显示磁盘使用情况" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例2：以inode模式来显示磁盘使用情况</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">df -i
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$ df -i
Filesystem            Inodes IUsed    IFree IUse% Mounted on
/dev/mapper/cl-root 20078592 29774 20048818    1% /
devtmpfs              122247   396   121851    1% /dev
tmpfs                 124992     1   124991    1% /dev/shm
tmpfs                 124992   508   124484    1% /run
tmpfs                 124992    16   124976    1% /sys/fs/cgroup
/dev/sda1             524288   330   523958    1% /boot
/dev/mapper/cl-home  9801728    63  9801665    1% /home
tmpfs                 124992     1   124991    1% /run/user/0
tmpfs                 124992     1   124991    1% /run/user/1000
[yiibai@localhost ~]$
</code></pre> 
 <h3 id="h3--3-"><a name="实例3：显示指定类型磁盘" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例3：显示指定类型磁盘</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">df -t ext4/tmpfs
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$ df -t tmpfs
Filesystem     1K-blocks  Used Available Use% Mounted on
tmpfs             499968     0    499968   0% /dev/shm
tmpfs             499968  6860    493108   2% /run
tmpfs             499968     0    499968   0% /sys/fs/cgroup
tmpfs              99996     0     99996   0% /run/user/0
tmpfs              99996     0     99996   0% /run/user/1000
[yiibai@localhost ~]$
</code></pre> 
 <h3 id="h3--4-i-"><a name="实例4：列出各文件系统的i节点使用情况" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例4：列出各文件系统的i节点使用情况</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">df -ia
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$ df -ia
Filesystem            Inodes IUsed    IFree IUse% Mounted on
rootfs                     -     -        -     - /
sysfs                      0     0        0     - /sys
proc                       0     0        0     - /proc
devtmpfs              122247   396   121851    1% /dev
securityfs                 0     0        0     - /sys/kernel/security
tmpfs                 124992     1   124991    1% /dev/shm
devpts                     0     0        0     - /dev/pts
tmpfs                 124992   508   124484    1% /run
tmpfs                 124992    16   124976    1% /sys/fs/cgroup
cgroup                     0     0        0     - /sys/fs/cgroup/systemd
pstore                     0     0        0     - /sys/fs/pstore
cgroup                     0     0        0     - /sys/fs/cgroup/net_cls,net_pri                                                                                        o
cgroup                     0     0        0     - /sys/fs/cgroup/perf_event
cgroup                     0     0        0     - /sys/fs/cgroup/cpuset
cgroup                     0     0        0     - /sys/fs/cgroup/memory
cgroup                     0     0        0     - /sys/fs/cgroup/pids
cgroup                     0     0        0     - /sys/fs/cgroup/cpu,cpuacct
cgroup                     0     0        0     - /sys/fs/cgroup/hugetlb
cgroup                     0     0        0     - /sys/fs/cgroup/blkio
cgroup                     0     0        0     - /sys/fs/cgroup/devices
cgroup                     0     0        0     - /sys/fs/cgroup/freezer
configfs                   0     0        0     - /sys/kernel/config
/dev/mapper/cl-root 20078592 29774 20048818    1% /
selinuxfs                  0     0        0     - /sys/fs/selinux
systemd-1                  -     -        -     - /proc/sys/fs/binfmt_misc
mqueue                     0     0        0     - /dev/mqueue
debugfs                    0     0        0     - /sys/kernel/debug
hugetlbfs                  0     0        0     - /dev/hugepages
/dev/sda1             524288   330   523958    1% /boot
/dev/mapper/cl-home  9801728    63  9801665    1% /home
binfmt_misc                0     0        0     - /proc/sys/fs/binfmt_misc
tmpfs                 124992     1   124991    1% /run/user/0
tmpfs                 124992     1   124991    1% /run/user/1000
[yiibai@localhost ~]$
</code></pre> 
 <h3 id="h3--5-"><a name="实例5：列出文件系统的类型" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例5：列出文件系统的类型</h3>
 <p>命令：</p>   
 <pre><code class="lang-shell">df -T
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$ df -T
Filesystem          Type     1K-blocks    Used Available Use% Mounted on
/dev/mapper/cl-root xfs       40137576 1652412  38485164   5% /
devtmpfs            devtmpfs    488988       0    488988   0% /dev
tmpfs               tmpfs       499968       0    499968   0% /dev/shm
tmpfs               tmpfs       499968    6860    493108   2% /run
tmpfs               tmpfs       499968       0    499968   0% /sys/fs/cgroup
/dev/sda1           xfs        1038336  141652    896684  14% /boot
/dev/mapper/cl-home xfs       19593216   33404  19559812   1% /home
tmpfs               tmpfs        99996       0     99996   0% /run/user/0
tmpfs               tmpfs        99996       0     99996   0% /run/user/1000
[yiibai@localhost ~]$
</code></pre> 
 <h3 id="h3--6-"><a name="实例6：以更易读的方式显示目前磁盘空间和使用情况" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例6：以更易读的方式显示目前磁盘空间和使用情况</h3>
 <p>命令执行及输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$  df -h
Filesystem           Size  Used Avail Use% Mounted on
/dev/mapper/cl-root   39G  1.6G   37G   5% /
devtmpfs             478M     0  478M   0% /dev
tmpfs                489M     0  489M   0% /dev/shm
tmpfs                489M  6.7M  482M   2% /run
tmpfs                489M     0  489M   0% /sys/fs/cgroup
/dev/sda1           1014M  139M  876M  14% /boot
/dev/mapper/cl-home   19G   33M   19G   1% /home
tmpfs                 98M     0   98M   0% /run/user/0
tmpfs                 98M     0   98M   0% /run/user/1000
[yiibai@localhost ~]$  df -H
Filesystem           Size  Used Avail Use% Mounted on
/dev/mapper/cl-root   42G  1.7G   40G   5% /
devtmpfs             501M     0  501M   0% /dev
tmpfs                512M     0  512M   0% /dev/shm
tmpfs                512M  7.1M  505M   2% /run
tmpfs                512M     0  512M   0% /sys/fs/cgroup
/dev/sda1            1.1G  146M  919M  14% /boot
/dev/mapper/cl-home   21G   35M   21G   1% /home
tmpfs                103M     0  103M   0% /run/user/0
tmpfs                103M     0  103M   0% /run/user/1000
[yiibai@localhost ~]$  df -lh
Filesystem           Size  Used Avail Use% Mounted on
/dev/mapper/cl-root   39G  1.6G   37G   5% /
devtmpfs             478M     0  478M   0% /dev
tmpfs                489M     0  489M   0% /dev/shm
tmpfs                489M  6.7M  482M   2% /run
tmpfs                489M     0  489M   0% /sys/fs/cgroup
/dev/sda1           1014M  139M  876M  14% /boot
/dev/mapper/cl-home   19G   33M   19G   1% /home
tmpfs                 98M     0   98M   0% /run/user/0
tmpfs                 98M     0   98M   0% /run/user/1000
[yiibai@localhost ~]$  df -k
Filesystem          1K-blocks    Used Available Use% Mounted on
/dev/mapper/cl-root  40137576 1652412  38485164   5% /
devtmpfs               488988       0    488988   0% /dev
tmpfs                  499968       0    499968   0% /dev/shm
tmpfs                  499968    6860    493108   2% /run
tmpfs                  499968       0    499968   0% /sys/fs/cgroup
/dev/sda1             1038336  141652    896684  14% /boot
/dev/mapper/cl-home  19593216   33404  19559812   1% /home
tmpfs                   99996       0     99996   0% /run/user/0
tmpfs                   99996       0     99996   0% /run/user/1000
[yiibai@localhost ~]$
</code></pre> 
 <p><strong>说明：</strong></p> 
 <ul> 
  <li><code>-h</code>更具目前磁盘空间和使用情况 以更易读的方式显示；</li>
  <li><code>-H</code>根上面的<code>-h</code>参数相同,不过在根式化的时候,采用<code>1000</code>而不是<code>1024</code>进行容量转换</li>
  <li><code>-k</code>以单位显示磁盘的使用情况</li>
  <li><code>-l</code>显示本地的分区的磁盘空间使用率,如果服务器<code>nfs</code>了远程服务器的磁盘,那么在<code>df</code>上加上<code>-l</code>后系统显示的是过滤nsf驱动器后的结果</li>
  <li><code>-i</code>显示<code>inode</code>的使用情况。linux采用了类似指针的方式管理磁盘空间影射。这也是一个比较关键应用。</li>
 </ul>
 <br>      
</div></body></html>