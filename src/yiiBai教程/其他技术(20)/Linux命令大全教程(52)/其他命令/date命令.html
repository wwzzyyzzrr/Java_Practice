<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">date命令</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在linux环境中，不管是编程还是其他维护，时间是必不可少的，也经常会用到时间的运算，熟练运用date命令来表示自己想要表示的时间，肯定可以给自己的工作带来诸多方便。</p> 
 <h2 id="h2-1-"><a name="1．命令格式" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1．命令格式</h2>
 <p>date [参数]… [+格式]</p> 
 <h2 id="h2-2-"><a name="2．命令功能" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2．命令功能</h2>
 <p><code>date</code> 可以用来显示或设定系统的日期与时间。</p> 
 <h2 id="h2-3-"><a name="3．命令参数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3．命令参数</h2>
 <p><strong>必要参数:</strong></p> 
 <ul> 
  <li><code>%H</code> 小时(以00-23来表示)。 </li>
  <li><code>%I</code> 小时(以01-12来表示)。 </li>
  <li><code>%K</code>小时(以0-23来表示)。 </li>
  <li><code>%l</code> 小时(以0-12来表示)。 </li>
  <li><code>%M</code> 分钟(以00-59来表示)。 </li>
  <li><code>%P</code> AM或PM。 </li>
  <li><code>%r</code> 时间(含时分秒，小时以12小时AM/PM来表示)。 </li>
  <li><code>%s</code> 总秒数。起算时间为1970-01-01 00:00:00 UTC。 </li>
  <li><code>%S</code> 秒(以本地的惯用法来表示)。 </li>
  <li><code>%T</code> 时间(含时分秒，小时以24小时制来表示)。 </li>
  <li><code>%X</code> 时间(以本地的惯用法来表示)。 </li>
  <li><code>%Z</code> 市区。 </li>
  <li><code>%a</code> 星期的缩写。 </li>
  <li><code>%A</code> 星期的完整名称。 </li>
  <li><code>%b</code> 月份英文名的缩写。 </li>
  <li><code>%B</code> 月份的完整英文名称。 </li>
  <li><code>%c</code> 日期与时间。只输入date指令也会显示同样的结果。 </li>
  <li><code>%d</code>日期(以01-31来表示)。 </li>
  <li><code>%D</code> 日期(含年月日)。 </li>
  <li><code>%j</code> 该年中的第几天。 </li>
  <li><code>%m</code> 月份(以01-12来表示)。 </li>
  <li><code>%U</code> 该年中的周数。 </li>
  <li><code>%w</code> 该周的天数，0代表周日，1代表周一，异词类推。 </li>
  <li><code>%x</code> 日期(以本地的惯用法来表示)。 </li>
  <li><code>%y</code> 年份(以00-99来表示)。 </li>
  <li><code>%Y</code> 年份(以四位数来表示)。 </li>
  <li><code>%n</code> 在显示时，插入新的一行。 </li>
  <li><code>%t</code> 在显示时，插入tab。 </li>
  <li><code>MM</code> 月份(必要) </li>
  <li><code>DD</code> 日期(必要) </li>
  <li><code>hh</code> 小时(必要) </li>
  <li><code>mm</code> 分钟(必要)</li>
  <li><code>ss</code> 秒(选择性) </li>
 </ul> 
 <p><strong>选择参数:</strong></p> 
 <ul> 
  <li><code>-d</code>&lt;字符串&gt; 　显示字符串所指的日期与时间。字符串前后必须加上双引号。 </li>
  <li><code>-s</code>&lt;字符串&gt; 　根据字符串来设置日期与时间。字符串前后必须加上双引号。 </li>
  <li><code>-u</code> 　显示GMT。 </li>
  <li><code>--help</code> 　在线帮助。 </li>
  <li><code>--version</code> 　显示版本信息 </li>
 </ul> 
 <h2 id="h2-4-"><a name="4．使用说明" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4．使用说明</h2>
 <p><strong>1. 在显示方面，</strong>使用者可以设定欲显示的格式，格式设定为一个加号后接数个标记，其中可用的标记列表如下: % : 打印出 %：</p> 
 <ul> 
  <li><code>%n</code> : 下一行</li>
  <li><code>%t</code> : 跳格</li>
  <li><code>%H</code> : 小时(00..23)</li>
  <li><code>%I</code> : 小时(01..12)</li>
  <li><code>%k</code> : 小时(0..23)</li>
  <li><code>%l</code> : 小时(1..12)</li>
  <li><code>%M</code> : 分钟(00..59)</li>
  <li><code>%p</code> : 显示本地 AM 或 PM</li>
  <li><code>%r</code> : 直接显示时间 (12 小时制，格式为 hh:mm:ss [AP]M)</li>
  <li><code>%s</code> : 从 1970 年 1 月 1 日 00:00:00 UTC 到目前为止的秒数</li>
  <li><code>%S</code> : 秒(00..61)</li>
  <li><code>%T</code> : 直接显示时间 (24 小时制)</li>
  <li><code>%X</code> : 相当于 %H:%M:%S</li>
  <li><code>%Z</code> : 显示时区 %a : 星期几 (Sun..Sat)</li>
  <li><code>%A</code> : 星期几 (Sunday..Saturday)</li>
  <li><code>%b</code> : 月份 (Jan..Dec)</li>
  <li><code>%B</code> : 月份 (January..December)</li>
  <li><code>%c</code> : 直接显示日期与时间</li>
  <li><code>%d</code> : 日 (01..31)</li>
  <li><code>%D</code> : 直接显示日期 (mm/dd/yy)</li>
  <li><code>%h</code> : 同 %b</li>
  <li><code>%j</code> : 一年中的第几天 (001..366)</li>
  <li><code>%m</code> : 月份 (01..12)</li>
  <li><code>%U</code> : 一年中的第几周 (00..53) (以 Sunday 为一周的第一天的情形)</li>
  <li><code>%w</code> : 一周中的第几天 (0..6)</li>
  <li><code>%W</code> : 一年中的第几周 (00..53) (以 Monday 为一周的第一天的情形)</li>
  <li><code>%x</code> : 直接显示日期 (mm/dd/yy)</li>
  <li><code>%y</code> : 年份的最后两位数字 (00.99)</li>
  <li><code>%Y</code> : 完整年份 (0000..9999)</li>
 </ul> 
 <p><strong>2. 在设定时间方面：</strong></p> 
 <ul> 
  <li><code>date -s</code> //设置当前时间，只有root权限才能设置，其他只能查看。</li>
  <li><code>date -s 20180523</code> //设置成20180523，这样会把具体时间设置成空<code>00:00:00</code></li>
  <li><code>date -s 01:01:01</code> //设置具体时间，不会对日期做更改</li>
  <li><code>date -s “01:01:01 2018-05-23″</code> //这样可以设置全部时间</li>
  <li><code>date -s “01:01:01 20180523″</code> //这样可以设置全部时间</li>
  <li><code>date -s “2018-05-23 01:01:01″</code> //这样可以设置全部时间</li>
  <li><code>date -s “20180523 01:01:01″</code> //这样可以设置全部时间</li>
 </ul> 
 <p><strong>3. 加减：</strong></p> 
 <ul> 
  <li><code>date +%Y%m%d</code> //显示前天年月日</li>
  <li><code>date +%Y%m%d --date="+1 day"</code> //显示前一天的日期</li>
  <li><code>date +%Y%m%d --date="-1 day"</code> //显示后一天的日期</li>
  <li><code>date +%Y%m%d --date="-1 month"</code> //显示上一月的日期</li>
  <li><code>date +%Y%m%d --date="+1 month"</code> //显示下一月的日期</li>
  <li><code>date +%Y%m%d --date="-1 year"</code> //显示前一年的日期</li>
  <li><code>date +%Y%m%d --date="+1 year"</code> //显示下一年的日期</li>
 </ul> 
 <h2 id="h2-5-"><a name="5．使用实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>5．使用实例</h2>
 <h3 id="h3--1-"><a name="实例1：显示当前时间" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例1：显示当前时间</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">date
date '+%c'
date '+%D'
date '+%x'
date '+%T'
date '+%X'
</code></pre> 
 <p>输出：</p>   
 <pre><code class="lang-shell">[yiibai@localhost ~]$ date
Thu Feb 23 21:42:32 EST 2017
[yiibai@localhost ~]$ date '+%c'
Thu 23 Feb 2017 09:42:36 PM EST
[yiibai@localhost ~]$ date '+%D'
02/23/17
[yiibai@localhost ~]$ date '+%x'
02/23/2017
[yiibai@localhost ~]$ date '+%T'
21:42:49
[yiibai@localhost ~]$ date '+%X'
09:42:53 PM
[yiibai@localhost ~]$
</code></pre> 
 <h3 id="h3--2-"><a name="实例2：显示日期和设定时间" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例2：显示日期和设定时间</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">date --date 22:42:00
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$ date --date 22:42:00
Thu Feb 23 22:42:00 EST 2017
</code></pre> 
 <h3 id="h3--3-date-d-"><a name="实例3：date -d参数使用" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例3：date -d参数使用</h3>
 <p>命令执行及输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$ date -d "nov 22"
Wed Nov 22 00:00:00 EST 2017
[yiibai@localhost ~]$ date -d '2 weeks'
Thu Mar  9 21:43:38 EST 2017
[yiibai@localhost ~]$ date -d 'next monday'
Mon Feb 27 00:00:00 EST 2017
[yiibai@localhost ~]$ date -d next-day +%Y%m%d
20170224
[yiibai@localhost ~]$ date -d tomorrow +%Y%m%d
20170224
[yiibai@localhost ~]$  date -d last-day +%Y%m%d
20170222
[yiibai@localhost ~]$ date -d yesterday +%Y%m%d
20170222
[yiibai@localhost ~]$ date -d last-month +%Y%m
201701
[yiibai@localhost ~]$ date -d next-month +%Y%m
201703
[yiibai@localhost ~]$ date -d '30 days ago'
Tue Jan 24 21:44:23 EST 2017
[yiibai@localhost ~]$ date -d '-100 days'
Tue Nov 15 21:44:29 EST 2016
[yiibai@localhost ~]$ date -d 'dec 14 -2 weeks'
Thu Nov 30 00:00:00 EST 2017
[yiibai@localhost ~]$ date -d '50 days'
Fri Apr 14 22:44:39 EDT 2017
[yiibai@localhost ~]$
</code></pre> 
 <p><strong>说明：</strong><br><code>date</code> 命令的另一个扩展是 <code>-d</code> 选项，该选项非常有用。使用这个功能强大的选项，通过将日期作为引号括起来的参数提供，您可以快速地查明一个特定的日期。<code>-d</code> 选项还可以告诉您，相对于当前日期若干天的究竟是哪一天，从现在开始的若干天或若干星期以后，或者以前(过去)。通过将这个相对偏移使用引号括起来，作为 <code>-d</code> 选项的参数，就可以完成这项任务。<br><strong>具体说明如下：</strong></p> 
 <ul> 
  <li><code>date -d "nov 22"</code> 今年的 11 月 22 日是星期三</li>
  <li><code>date -d '2 weeks'</code> 2周后的日期</li>
  <li><code>date -d 'next monday'</code> (下周一的日期)</li>
  <li><code>date -d next-day +%Y%m%d</code>(明天的日期)或者：<code>date -d tomorrow +%Y%m%d</code></li>
  <li><code>date -d last-day +%Y%m%d</code>(昨天的日期) 或者：<code>date -d yesterday +%Y%m%d</code></li>
  <li><code>date -d last-month +%Y%m</code>(上个月是几月)</li>
  <li><code>date -d next-month +%Y%m</code>(下个月是几月)</li>
 </ul> 
 <p>使用 ago 指令，您可以得到过去的日期：</p> 
 <ul> 
  <li><code>date -d '30 days ago'</code>(30天前的日期)<br>使用负数以得到相反的日期：</li>
  <li><code>date -d 'dec 14 -2 weeks'</code> (相对:dec 14这个日期的两周前的日期)</li>
  <li><code>date -d '-100 days'</code> (100天以前的日期)</li>
  <li><code>date -d '50 days'</code>(50天后的日期)</li>
 </ul> 
 <h2 id="h2--4-"><a name="实例4：显示月份和日数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例4：显示月份和日数</h2>
 <p>命令：</p> 
 <pre><code class="lang-shell">date  '+%B %d'
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$ date  '+%B %d'
February 23
[yiibai@localhost ~]$
</code></pre> 
 <h3 id="h3--5-"><a name="实例5：显示时间后跳行，再显示目前日期" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例5：显示时间后跳行，再显示目前日期</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">date '+%T%n%D'
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$ date '+%T%n%D'
21:48:07
02/23/17
[yiibai@localhost ~]$
</code></pre>
 <br>      
</div></body></html>