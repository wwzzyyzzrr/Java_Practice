<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">ls命令</h1><div style="width:100%;float:left;" class="article-content">   
 <p><strong>ls</strong>命令是linux下最常用的命令。<strong>ls</strong>命令就是<code>list</code>的缩写，默认情况下使用<strong>ls</strong>用来打印出当前目录的列表，如果<code>ls</code>指定其他目录，那么就会显示指定目录里的文件及文件夹列表。 通过<strong>ls</strong> 命令不仅可以查看linux文件夹包含的文件，而且可以查看文件权限(包括目录、文件夹、文件权限)，查看目录信息等等。<strong>ls</strong> 命令在日常的linux操作中使用得比较多了。</p> 
 <ol> 
  <li>命令格式：
   <ul> 
    <li><code>ls</code> [选项] [目录名]</li>
   </ul> </li>
  <li>命令功能：
   <ul> 
    <li>列出目标目录中所有的子目录和文件。</li>
   </ul> </li>
  <li>常用参数：<br><code>-a</code>, <code>–all</code> 列出目录下的所有文件，包括以 <code>.</code> 开头的隐含文件。<br><code>-A</code>同<code>-a</code>，但不列出“<code>.</code>”(表示当前目录)和“<code>..</code>”(表示当前目录的父目录)。<br><code>-c</code> 配合 <code>-lt</code>：根据 <code>ctime</code> 排序及显示 <code>ctime</code> (文件状态最后更改的时间)配合 <code>-l</code>：显示 <code>ctime</code> 但根据名称排序否则：根据 <code>ctime</code> 排序<br><code>-C</code> 每栏由上至下列出项目<br><code>–color[=WHEN]</code> 控制是否使用色彩分辨文件。WHEN 可以是’never’、’always’或’auto’其中之一<br><code>-d</code>, <code>–directory</code> 将目录象文件一样显示，而不是显示其下的文件。<br><code>-D</code>, <code>–dired</code> 产生适合 Emacs 的 dired 模式使用的结果<br><code>-f</code> 对输出的文件不进行排序，<code>-aU</code> 选项生效，<code>-lst</code> 选项失效<br><code>-g</code> 类似<code>-l</code>,但不列出所有者<br><code>-G</code>, <code>–no-group</code> 不列出任何有关组的信息<br><code>-h</code>, <code>–human-readable</code> 以容易理解的格式列出文件大小 (例如 1K 234M 2G)<br><code>–si</code> 类似 -h,但文件大小取 1000 的次方而不是 1024<br><code>-H</code>, <code>–dereference-command-line</code> 使用命令列中的符号链接指示的真正目的地<br><code>–indicator-style=</code>方式 指定在每个项目名称后加上指示符号&lt;方式&gt;：<code>none</code> (默认)，classify (-F)，file-type (-p)<br><code>-i</code>, <code>–inode</code>印出每个文件的 <code>inode</code> 号<br><code>-I</code>, <code>–ignore=</code>样式 不印出任何符合 shell 万用字符&lt;样式&gt;的项目<br><code>-k</code> 即 <code>–block-size=1K</code>,以 <code>k</code> 字节的形式表示文件的大小。<br><code>-l</code> 除了文件名之外，还将文件的权限、所有者、文件大小等信息详细列出来。<br><code>-L</code>, <code>–dereference</code> 当显示符号链接的文件信息时，显示符号链接所指示的对象而并非符号链接本身的信息<br><code>-m</code>所有项目以逗号分隔，并填满整行行宽<br><code>-o</code> 类似 <code>-l</code>,显示文件的除组信息外的详细信息。<br><code>-r</code>, <code>–reverse</code> 依相反次序排列<br><code>-R</code>, <code>–recursive</code> 同时列出所有子目录层<br><code>-s</code>, <code>–size</code> 以块大小为单位列出所有文件的大小<br><code>-S</code> 根据文件大小排序<br><code>–sort=WORD</code> 以下是可选用的 WORD 和它们代表的相应选项：
   <ul> 
    <li>extension -X status -c</li>
    <li>none -U time -t</li>
    <li>size -S atime -u</li>
    <li>time -t access -u<br>version -v use -u</li>
   </ul> </li>
 </ol> 
 <p><code>-t</code> 以文件修改时间排序<br><code>-u</code> 配合 <code>-lt</code>:显示访问时间而且依访问时间排序</p> 
 <pre><code>- 配合` -l`:显示访问时间但根据名称排序
- 否则：根据访问时间排序
</code></pre>
 <p><code>-U</code> 不进行排序;依文件系统原有的次序列出项目<br><code>-v</code> 根据版本进行排序<br><code>-w</code>, <code>–width=COLS</code> 自行指定屏幕宽度而不使用目前的数值<br><code>-x</code> 逐行列出项目而不是逐栏列出<br><code>-X</code> 根据扩展名排序<br><code>-1</code> 每行只列出一个文件<br><code>–help</code> 显示此帮助信息并离开<br><code>–version</code> 显示版本信息并离开</p> 
 <h2 id="h2-u5E38u7528u793Au4F8B"><a name="常用示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>常用示例</h2>
 <h3 id="h3--1"><a name="示例1" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例1</h3>
 <p>列出<code>/home/yiibai</code>文件夹下的所有文件和目录的详细资料，命令：</p> 
 <pre><code class="lang-shell">ls -l -R /home/yiibai
</code></pre> 
 <p>在使用 ls 命令时要注意命令的格式：在命令提示符后，首先是命令的关键字，接下来是命令参数，在命令参数之前要有一短横线“<code>-</code>”，所有的命令参数都有特定的作用，自己可以根据需要选用一个或者多个参数，在命令参数的后面是命令的操作对象。在以上这条命令“<code>ls -l -R /home/yiibai</code>”中，“<code>ls</code>” 是命令关键字，“<code>-l -R</code>”是参数，“<code>/home/yiibai</code>”是命令的操作对象。在这条命令中，使用到了两个参数，分别为“<code>l</code>”和“<code>R</code>”，当然，你也可以把他们放在一起使用，如下所示：</p> 
 <pre><code class="lang-shell">ls -lR /home/yiibai
</code></pre> 
 <p>这种形式和上面的命令形式执行的结果是完全一样的。另外，如果命令的操作对象位于当前目录中，可以直接对操作对象进行操作；如果不在当前目录则需要给出操作对象的完整路径，例如上面的例子中，当前文件夹是<code>yiibai</code>文件夹，想对<code>home</code>文件夹下的<code>yiibai</code>文件进行操作，那么可以直接输入 <code>ls -lR yiibai</code>，也可以用 <code>ls -lR /home/yiibai</code>。</p> 
 <h3 id="h3--2"><a name="示例2" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例2</h3>
 <p>列出当前目录中所有以“t”开头的目录的详细内容，可以使用如下命令：</p> 
 <pre><code class="lang-shell">ls -l t*
</code></pre> 
 <p> 可以查看当前目录下文件名以“<code>t</code>”开头的所有文件的信息。其实，在命令格式中，方括号内的内容都是可以省略的，对于命令<code>ls</code>而言，如果省略命令参数和操作对象，直接输入“ <code>ls</code> ”，则将会列出当前工作目录的内容列表。</p> 
 <h3 id="h3--3"><a name="示例3" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例3</h3>
 <p>只列出文件下的子目录<br>命令：</p> 
 <pre><code class="lang-shell">ls -F /usr/local/ |grep /$
</code></pre> 
 <p>列出 <code>/usr/local/</code> 文件下面的子目录<br>输出：</p> 
 <pre><code class="lang-shell">[yiibai@ubuntu:~/Downloads]$ ls -F /usr/local/ |grep /$
bin/
etc/
games/
include/
jdk1.8.0_65/
lib/
sbin/
share/
solr/
src/
</code></pre> 
 <p>命令：</p> 
 <pre><code class="lang-shell">ls -l /usr/local/ | grep "^d"
</code></pre> 
 <p>列出 <code>/usr/local/</code> 文件下面的子目录详细情况<br>输出：</p> 
 <pre><code class="lang-shell">[yiibai@ubuntu:~/Downloads]$ ls -l /usr/local/ | grep "^d"
drwxr-xr-x 2 root   root   4096 Aug  4  2015 bin
drwxr-xr-x 2 root   root   4096 Aug  4  2015 etc
drwxr-xr-x 2 root   root   4096 Aug  4  2015 games
drwxr-xr-x 2 root   root   4096 Aug  4  2015 include
drwxr-xr-x 8 uucp      143 4096 Oct  6  2015 jdk1.8.0_65
drwxr-xr-x 4 root   root   4096 Aug  4  2015 lib
drwxr-xr-x 2 root   root   4096 Aug  4  2015 sbin
drwxr-xr-x 7 root   root   4096 Aug  4  2015 share
drwxr-xr-x 9 yiibai yiibai 4096 Feb  3 18:11 solr
drwxr-xr-x 2 root   root   4096 Aug  4  2015 src
</code></pre> 
 <h3 id="h3--4"><a name="示例4" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例4</h3>
 <p>列出目前工作目录下所有名称是以<code>s</code>开头的档案，越新的排越后面，可以使用如下命令：</p> 
 <pre><code class="lang-shell">ls -ltr s*
</code></pre> 
 <p>输出如下 -</p> 
 <pre><code class="lang-shell">yiibai@ubuntu:/usr/local$ ls -ltr s*
src:
total 0
sbin:
total 0
share:
total 20
drwxr-xr-x 2 root root  4096 Aug  4  2015 man
drwxrwsr-x 7 root staff 4096 Aug  4  2015 sgml
drwxrwsr-x 2 root staff 4096 Aug  4  2015 fonts
drwxrwsr-x 2 root staff 4096 Aug  4  2015 ca-certificates
drwxrwsr-x 6 root staff 4096 Aug  4  2015 xml
solr:
total 1396
drwxr-xr-x 14 yiibai yiibai   4096 Jan 17 16:02 contrib
drwxr-xr-x  4 yiibai yiibai   4096 Jan 17 16:03 dist
-rw-r--r--  1 yiibai yiibai   7424 Jan 17 16:03 README.txt
-rw-r--r--  1 yiibai yiibai  27161 Jan 17 16:03 NOTICE.txt
-rw-r--r--  1 yiibai yiibai 643429 Jan 17 16:03 LUCENE_CHANGES.txt
-rw-r--r--  1 yiibai yiibai  12872 Jan 17 16:03 LICENSE.txt
drwxr-xr-x 20 yiibai yiibai   4096 Jan 17 16:03 docs
-rw-r--r--  1 yiibai yiibai 667085 Jan 17 16:03 CHANGES.txt
drwxr-xr-x  7 yiibai yiibai   4096 Jan 17 16:03 example
drwxr-xr-x  2 yiibai yiibai  36864 Jan 17 16:03 licenses
drwxr-xr-x 11 yiibai yiibai   4096 Feb  3 17:30 server
drwxr-xr-x  3 yiibai yiibai   4096 Feb  3 21:43 bin
</code></pre> 
 <h3 id="h3--5"><a name="示例5" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例5</h3>
 <p>列出目前工作目录下所有档案及目录;目录于名称后加”<code>/</code>“, 可执行档于名称后加”<code>*</code>“<br>命令：</p>   
 <pre><code class="lang-shell">ls -AF
</code></pre> 
 <p>执行输出结果如下 - </p> 
 <pre><code class="lang-shell">yiibai@ubuntu:/usr/local$ ls -AF
bin/  etc/  games/  include/  jdk1.8.0_65/  lib/  man@  sbin/  share/  solr/  src/
</code></pre> 
 <h3 id="h3--6"><a name="示例6" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例6</h3>
 <p>计算当前目录下的文件数和目录数</p> 
 <pre><code class="lang-shell">ls -l * |grep "^-"|wc -l   ---文件个数  
ls -l * |grep "^d"|wc -l    ---目录个数例六：计算当前目录下的文件数和目录数
</code></pre> 
 <p>命令：</p> 
 <pre><code class="lang-shell">ls -l * |grep "^-"|wc -l    ---文件个数  
ls -l * |grep "^d"|wc -l    ---目录个数
</code></pre> 
 <h3 id="h3--7"><a name="示例7" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例7</h3>
 <p>在ls中列出文件的绝对路径</p> 
 <pre><code class="lang-shell">ls | sed "s:^:`pwd`/:"
</code></pre> 
 <p>输出结果如下：</p> 
 <pre><code class="lang-shell">yiibai@ubuntu:~$ ls | sed "s:^:`pwd`/:"
/home/yiibai/Desktop
/home/yiibai/Documents
/home/yiibai/Downloads
/home/yiibai/examples.desktop
/home/yiibai/Music
/home/yiibai/Pictures
/home/yiibai/Public
/home/yiibai/Templates
/home/yiibai/Videos
</code></pre> 
 <h3 id="h3--8"><a name="示例8" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例8</h3>
 <p>列出当前目录下的所有文件(包括隐藏文件)的绝对路径， 对目录不做递归</p> 
 <pre><code class="lang-shell">find $PWD -maxdepth 1 | xargs ls -ld
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">yiibai@ubuntu:~$ find $PWD -maxdepth 1 | xargs ls -ld
drwxr-xr-x 17 yiibai yiibai 4096 Feb  9 23:11 /home/yiibai
-rw-------  1 yiibai yiibai 2827 Feb  7 23:51 /home/yiibai/.bash_history
-rw-r--r--  1 yiibai yiibai  220 Nov 11  2015 /home/yiibai/.bash_logout
-rw-r--r--  1 yiibai yiibai 3706 Feb  3 19:43 /home/yiibai/.bashrc
drwx------ 16 yiibai yiibai 4096 Feb  3 17:46 /home/yiibai/.cache
drwx------  3 yiibai yiibai 4096 Nov 16  2015 /home/yiibai/.compiz
drwx------ 15 yiibai yiibai 4096 Nov 16  2015 /home/yiibai/.config
drwxr-xr-x  2 yiibai yiibai 4096 Nov 11  2015 /home/yiibai/Desktop
-rw-r--r--  1 yiibai yiibai   25 Nov 11  2015 /home/yiibai/.dmrc
drwxr-xr-x  2 yiibai yiibai 4096 Nov 11  2015 /home/yiibai/Documents
drwxr-xr-x  2 yiibai yiibai 4096 Feb  4 01:05 /home/yiibai/Downloads
-rw-r--r--  1 yiibai yiibai 8980 Nov 11  2015 /home/yiibai/examples.desktop
drwx------  3 yiibai yiibai 4096 Feb  9 23:11 /home/yiibai/.gconf
-rw-------  1 yiibai yiibai 5724 Feb  9 23:11 /home/yiibai/.ICEauthority
drwx------  3 yiibai yiibai 4096 Nov 11  2015 /home/yiibai/.local
drwx------  4 yiibai yiibai 4096 Nov 16  2015 /home/yiibai/.mozilla
drwxr-xr-x  2 yiibai yiibai 4096 Nov 11  2015 /home/yiibai/Music
drwxrwxr-x  2 yiibai yiibai 4096 Nov 17  2015 /home/yiibai/.oracle_jre_usage
drwxr-xr-x  2 yiibai yiibai 4096 Nov 11  2015 /home/yiibai/Pictures
-rw-r--r--  1 yiibai yiibai  675 Nov 11  2015 /home/yiibai/.profile
drwxr-xr-x  2 yiibai yiibai 4096 Nov 11  2015 /home/yiibai/Public
-rw-rw-r--  1 yiibai yiibai 1910 Feb  9 01:39 /home/yiibai/.rediscli_history
drwxr-xr-x  2 yiibai yiibai 4096 Nov 11  2015 /home/yiibai/Templates
drwxr-xr-x  2 yiibai yiibai 4096 Nov 11  2015 /home/yiibai/Videos
-rw-------  1 yiibai yiibai 5282 Feb  3 21:43 /home/yiibai/.viminfo
-rw-------  1 yiibai yiibai   51 Feb  9 23:11 /home/yiibai/.Xauthority
-rw-------  1 yiibai yiibai  108 Feb  9 23:11 /home/yiibai/.xsession-errors
-rw-------  1 yiibai yiibai  108 Feb  8 16:57 /home/yiibai/.xsession-errors.old
</code></pre> 
 <h3 id="h3--9"><a name="示例9" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例9</h3>
 <p>递归列出当前目录下的所有文件(包括隐藏文件)的绝对路径</p> 
 <pre><code class="lang-shell">find $PWD | xargs ls -ld
</code></pre> 
 <h3 id="h3--10"><a name="示例10" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例10</h3>
 <p>指定文件时间输出格式</p> 
 <pre><code class="lang-shell"> ls -tl --time-style=full-iso
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">yiibai@ubuntu:~$  ls -tl --time-style=full-iso
total 44
drwxr-xr-x 2 yiibai yiibai 4096 2017-02-04 01:05:39.770512894 -0800 Downloads
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29:57.240741733 -0800 Music
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29:57.240741733 -0800 Pictures
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29:57.240741733 -0800 Videos
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29:57.216741733 -0800 Documents
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29:57.216741733 -0800 Public
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29:57.216741733 -0800 Templates
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29:57.212741733 -0800 Desktop
-rw-r--r-- 1 yiibai yiibai 8980 2015-11-11 15:21:00.375378312 -0800 examples.desktop
</code></pre> 
 <pre><code class="lang-shell">yiibai@ubuntu:~$ ls -ctl --time-style=long-iso
total 44
drwxr-xr-x 2 yiibai yiibai 4096 2017-02-04 01:05 Downloads
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29 Music
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29 Pictures
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29 Videos
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29 Documents
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29 Public
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29 Templates
drwxr-xr-x 2 yiibai yiibai 4096 2015-11-11 15:29 Desktop
-rw-r--r-- 1 yiibai yiibai 8980 2015-11-11 15:21 examples.desktop
</code></pre> 
 <p>关于显示颜色目录列表，打开<code>/etc/bashrc</code>, 加入如下一行：</p> 
 <pre><code class="lang-shell">alias ls="ls --color"
</code></pre> 
 <p>下次启动bash时就可以像在Slackware里那样显示彩色的目录列表了, 其中颜色的含义如下:</p> 
 <ol> 
  <li>蓝色—&gt;目录</li>
  <li>绿色—&gt;可执行文件
   <ol> 
    <li>红色—&gt;压缩文件</li>
    <li>浅蓝色—&gt;链接文件</li>
    <li>灰色—&gt;其他文件</li>
   </ol> </li>
 </ol>
 <br>      
</div></body></html>