<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">mv命令</h1><div style="width:100%;float:left;" class="article-content">   
 <p><strong>mv</strong>命令是<code>move</code>的缩写，可以用来移动文件或者将文件改名(move (rename) files)，是Linux系统下常用的命令，经常用来备份文件或者目录。</p> 
 <h2 id="h2-1-"><a name="1．命令格式" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1．命令格式</h2>
 <pre><code>mv [选项] 源文件或目录 目标文件或目录
</code></pre>
 <h2 id="h2-2-"><a name="2．命令功能" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2．命令功能</h2>
 <p><code>mv</code>命令中第二个参数类型的不同(是目标文件还是目标目录)，<code>mv</code>命令将文件重命名或将其移至一个新的目录中。当第二个参数类型是文件时，<code>mv</code>命令完成文件重命名，此时，源文件只能有一个(也可以是源目录名)，它将所给的源文件或目录重命名为给定的目标文件名。当第二个参数是已存在的目录名称时，源文件或目录参数可以有多个，<code>mv</code>命令将各参数指定的源文件均移至目标目录中。在跨文件系统移动文件时，<code>mv</code>先拷贝，再将原有文件删除，而链至该文件的链接也将丢失。</p> 
 <h2 id="h2-3-"><a name="3．命令参数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3．命令参数</h2>
 <ul> 
  <li><code>-b</code>：若需覆盖文件，则覆盖前先行备份。 </li>
  <li><code>-f</code> ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；</li>
  <li><code>-i</code> ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！</li>
  <li><code>-u</code> ：若目标文件已经存在，且 source 比较新，才会更新(update)</li>
  <li><code>-t</code> ： —target-directory=DIRECTORY move all SOURCE arguments into DIRECTORY，即指定mv的目标目录，该选项适用于移动多个源文件到一个目录的情况，此时目标目录在前，源文件在后。</li>
 </ul> 
 <h2 id="h2-4-"><a name="4．命令实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4．命令实例</h2>
 <h3 id="h3-u5B9Eu4F8Bu4E00"><a name="实例一" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例一</h3>
 <p>文件改名<br><strong>命令：</strong></p> 
 <pre><code class="lang-shell">mv test.log new-test.log
</code></pre> 
 <p><strong>输出：</strong></p> 
 <pre><code class="lang-shell">yiibai@ubuntu:~/mkdir/test$ ll
total 12
drwxrwxr-x 2 yiibai yiibai 4096 Feb 12 17:56 ./
drwxrwxr-x 7 yiibai yiibai 4096 Feb 12 17:28 ../
-rw-rw-r-- 1 yiibai yiibai   13 Feb 12 17:56 test.log
yiibai@ubuntu:~/mkdir/test$

yiibai@ubuntu:~/mkdir/test$ mv test.log new-text.log
yiibai@ubuntu:~/mkdir/test$ ll
total 12
drwxrwxr-x 2 yiibai yiibai 4096 Feb 12 17:57 ./
drwxrwxr-x 7 yiibai yiibai 4096 Feb 12 17:28 ../
-rw-rw-r-- 1 yiibai yiibai   13 Feb 12 17:56 new-text.log
yiibai@ubuntu:~/mkdir/test$
</code></pre> 
 <blockquote> 
  <p>说明： 将文件<code>text.log</code>重命名为<code>new-text.log</code></p> 
 </blockquote> 
 <h3 id="h3-u5B9Eu4F8Bu4E8C"><a name="实例二" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例二</h3>
 <p>移动文件<br><strong>命令：</strong></p> 
 <pre><code class="lang-shell">mv test1.txt test3
</code></pre> 
 <p><strong>输出：</strong></p> 
 <pre><code class="lang-shell">yiibai@ubuntu:~/mkdir/test$ ll
total 16
drwxrwxr-x 2 yiibai yiibai 4096 Feb 12 17:59 ./
drwxrwxr-x 7 yiibai yiibai 4096 Feb 12 17:28 ../
-rw-rw-r-- 1 yiibai yiibai   13 Feb 12 17:56 new-text.log
-rw-rw-r-- 1 yiibai yiibai   17 Feb 12 18:00 test.txt
yiibai@ubuntu:~/mkdir/test$ mv test.txt /home/yiibai/mv-text.txt

yiibai@ubuntu:~/mkdir/test$ ls /home/yiibai/
Desktop    Downloads         mkdir  mv-text.txt  Public     Videos
Documents  examples.desktop  Music  Pictures     Templates
yiibai@ubuntu:~/mkdir/test$
</code></pre> 
 <blockquote> 
  <p>说明：将<code>test.txt</code>文件移到目录<code>/home/yiibai/</code>中，并重命名为：<code>mv-text.txt</code>。</p> 
 </blockquote> 
 <h3 id="h3-u5B9Eu4F8Bu4E09"><a name="实例三" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例三</h3>
 <p>将<code>test</code>目录下的文件<code>log1.txt</code>,<code>log2.txt</code>,<code>log3.tx</code>t移动到目录<code>test3</code>中。</p> 
 <p><strong>命令：</strong></p> 
 <pre><code class="lang-shell">mv log1.txt log2.txt log3.txt /home/yiibai/test3
## or
mv -t /home/yiibai/test3/ log1.txt log2.txt log3.txt
</code></pre> 
 <p><strong>输出：</strong></p> 
 <pre><code class="lang-shell">[yiibai@localhost test]$ pwd
/home/yiibai/test
[yiibai@localhost test]$ mv log1.txt log2.txt log3.txt /home/yiibai/test3
[yiibai@localhost test]$ ll
total 0
[yiibai@localhost test]$ ll /home/yiibai/test3
total 0
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log1.txt
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log2.txt
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log3.txt
</code></pre> 
 <p>说明：<br><code>mv log1.txt log2.txt log3.txt test3</code>这个命令将<code>log1.txt</code> ，<code>log2.txt</code>， <code>log3.txt</code> 三个文件移到 <code>test3</code> 目录中去，<code>mv -t /opt/soft/test/test4/ log1.txt log2.txt log3.txt</code> 命令又将三个文件移动到<code>test4</code>目录中去。</p> 
 <h3 id="h3-u5B9Eu4F8Bu56DB"><a name="实例四" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例四</h3>
 <p>将文件<code>file1</code>改名为<code>file2</code>，如果<code>file2</code>已经存在，则询问是否覆盖<br><strong>命令：</strong></p> 
 <pre><code class="lang-shell">mv -i log1.txt log2.txt
</code></pre> 
 <p><strong>输出：</strong></p> 
 <pre><code class="lang-shell">[yiibai@localhost test]$ ll
total 8
-rw-rw-r--. 1 yiibai yiibai 20 Feb 12 22:39 log1.txt
-rw-rw-r--. 1 yiibai yiibai 30 Feb 12 22:39 log2.txt
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:38 log3.txt
[yiibai@localhost test]$ cat log1.txt
just a test content
[yiibai@localhost test]$ cat log2.txt
this is file:log2.txt content
[yiibai@localhost test]$ mv -i log1.txt log2.txt
mv: overwrite ‘log2.txt’? y
[yiibai@localhost test]$ cat log2.txt
just a test content
[yiibai@localhost test]$
</code></pre> 
 <h3 id="h3-u5B9Eu4F8Bu4E94"><a name="实例五" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例五</h3>
 <p>将文件<code>file1</code>改名为<code>file2</code>，即使<code>file2</code>存在，也是直接覆盖掉。</p> 
 <p><strong>命令：</strong></p> 
 <pre><code class="lang-shell">mv -f log3.txt log2.txt
</code></pre> 
 <p><strong>输出：</strong></p> 
 <pre><code class="lang-shell">[yiibai@localhost test]$ ll
total 4
-rw-rw-r--. 1 yiibai yiibai 20 Feb 12 22:39 log2.txt
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:38 log3.txt
[yiibai@localhost test]$ cat log2.txt
just a test content
[yiibai@localhost test]$ cat log3.txt
[yiibai@localhost test]$ echo 'this is log3.txt content' &gt;&gt; log3.txt
[yiibai@localhost test]$
[yiibai@localhost test]$ ll
total 8
-rw-rw-r--. 1 yiibai yiibai 20 Feb 12 22:39 log2.txt
-rw-rw-r--. 1 yiibai yiibai 25 Feb 12 22:43 log3.txt
[yiibai@localhost test]$ cat log2.txt
just a test content
[yiibai@localhost test]$ cat log3.txt
this is log3.txt content
[yiibai@localhost test]$ mv -f log3.txt log2.txt
[yiibai@localhost test]$ cat log2.txt
this is log3.txt content
[yiibai@localhost test]$ ll
total 4
-rw-rw-r--. 1 yiibai yiibai 25 Feb 12 22:43 log2.txt
[yiibai@localhost test]$
</code></pre> 
 <blockquote> 
  <p>说明： <code>log3.txt</code>的内容直接覆盖了<code>log2.txt</code>内容，<code>-f</code> 这是个危险的选项，使用的时候一定要保持头脑清晰，一般情况下最好不用加上它，因为可能没有任何提示直接就执行了。</p> 
 </blockquote> 
 <h3 id="h3--"><a name="实例六：目录的移动" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例六：目录的移动</h3>
 <p><strong>命令：</strong></p> 
 <pre><code class="lang-shell">mv dir1 dir2
</code></pre> 
 <p><strong>输出：</strong></p> 
 <pre><code class="lang-shell">[yiibai@localhost test4]$ ls
test41
[yiibai@localhost test4]$ cd ..
[yiibai@localhost ~]$ ll
total 0
drwxrwxr-x. 2 yiibai yiibai 38 Feb 12 22:44 test
drwxrwxr-x. 2 yiibai yiibai  6 Feb 12 22:33 test1
drwxrwxr-x. 2 yiibai yiibai  6 Feb 12 22:33 test2
drwxrwxr-x. 2 yiibai yiibai 54 Feb 12 22:35 test3
drwxrwxr-x. 3 yiibai yiibai 20 Feb 12 22:46 test4
[yiibai@localhost ~]$
[yiibai@localhost ~]$
[yiibai@localhost ~]$
[yiibai@localhost ~]$ ll
total 0
drwxrwxr-x. 2 yiibai yiibai 38 Feb 12 22:44 test
drwxrwxr-x. 2 yiibai yiibai  6 Feb 12 22:33 test1
drwxrwxr-x. 2 yiibai yiibai  6 Feb 12 22:33 test2
drwxrwxr-x. 2 yiibai yiibai 54 Feb 12 22:35 test3
drwxrwxr-x. 3 yiibai yiibai 20 Feb 12 22:46 test4
[yiibai@localhost ~]$ cd test3
[yiibai@localhost test3]$ ll
total 0
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log1.txt
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log2.txt
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log3.txt
[yiibai@localhost test3]$ cd ..
[yiibai@localhost ~]$ cd test4/
[yiibai@localhost test4]$ ls
test41
[yiibai@localhost test4]$ cd ..
[yiibai@localhost ~]$ mv test4 test3
[yiibai@localhost ~]$ ll
total 0
drwxrwxr-x. 2 yiibai yiibai 38 Feb 12 22:44 test
drwxrwxr-x. 2 yiibai yiibai  6 Feb 12 22:33 test1
drwxrwxr-x. 2 yiibai yiibai  6 Feb 12 22:33 test2
drwxrwxr-x. 3 yiibai yiibai 67 Feb 12 22:48 test3
[yiibai@localhost ~]$ ll test3/
total 0
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:33 log1.txt
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:33 log2.txt
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:33 log3.txt
drwxrwxr-x. 3 yiibai yiibai 20 Feb 12 22:46 test4
[yiibai@localhost ~]$
</code></pre> 
 <blockquote> 
  <p>说明：如果目录<code>dir2</code>不存在，将目录<code>dir1</code>改名为<code>dir2</code>；否则，将<code>dir1</code>移动到<code>dir2</code>中。</p> 
 </blockquote> 
 <h3 id="h3--7"><a name="实例7" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例7</h3>
 <p>移动当前文件夹下的所有文件到上一级目录。<br><strong>命令：</strong></p>   
 <pre><code class="lang-shell">mv * ../
</code></pre> 
 <p><strong>输出：</strong></p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$ cd test
[yiibai@localhost test]$ ls
log2.txt  log3.txt
[yiibai@localhost test]$
[yiibai@localhost test]$
[yiibai@localhost test]$ ll
total 4
-rw-rw-r--. 1 yiibai yiibai 25 Feb 12 22:43 log2.txt
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:44 log3.txt
[yiibai@localhost test]$ cd ..
[yiibai@localhost ~]$
[yiibai@localhost ~]$
[yiibai@localhost ~]$ pwd
/home/yiibai
[yiibai@localhost ~]$ cd test
[yiibai@localhost test]$ ll
total 4
-rw-rw-r--. 1 yiibai yiibai 25 Feb 12 22:43 log2.txt
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:44 log3.txt
[yiibai@localhost test]$ mv * ../
[yiibai@localhost test]$ cd ..
[yiibai@localhost ~]$ ll
total 4
-rw-rw-r--. 1 yiibai yiibai 25 Feb 12 22:43 log2.txt
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:44 log3.txt
drwxrwxr-x. 2 yiibai yiibai  6 Feb 12 22:55 test
drwxrwxr-x. 2 yiibai yiibai  6 Feb 12 22:33 test1
drwxrwxr-x. 2 yiibai yiibai  6 Feb 12 22:33 test2
drwxrwxr-x. 3 yiibai yiibai 67 Feb 12 22:48 test3
</code></pre> 
 <h3 id="h3-u5B9Eu4F8Bu516B"><a name="实例八" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例八</h3>
 <p>把当前目录的一个子目录里的文件移动到另一个子目录中。<br><strong>命令：</strong></p> 
 <pre><code class="lang-shell">mv test3/*.txt test5
</code></pre> 
 <p><strong>输出：</strong></p> 
 <pre><code class="lang-shell">[yiibai@localhost test3]$ ll
total 0
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:33 log1.txt
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:33 log2.txt
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:33 log3.txt
drwxrwxr-x. 3 yiibai yiibai 20 Feb 12 22:46 test4
[yiibai@localhost test3]$
[yiibai@localhost test3]$
[yiibai@localhost test3]$ ll
total 0
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:33 log1.txt
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:33 log2.txt
-rw-rw-r--. 1 yiibai yiibai  0 Feb 12 22:33 log3.txt
drwxrwxr-x. 3 yiibai yiibai 20 Feb 12 22:46 test4
[yiibai@localhost test3]$ cd ..
[yiibai@localhost ~]$ mv test3/*.txt test5/
[yiibai@localhost ~]$ ll test5/
total 0
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log1.txt
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log2.txt
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log3.txt
[yiibai@localhost ~]$ ll test3/
total 0
drwxrwxr-x. 3 yiibai yiibai 20 Feb 12 22:46 test4
[yiibai@localhost ~]$
</code></pre> 
 <h3 id="h3-u5B9Eu4F8Bu4E5D"><a name="实例九" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例九</h3>
 <p>文件被覆盖前做简单备份，前面加参数<code>-b</code><br>命令：</p> 
 <pre><code class="lang-shell">mv log1.txt -b log2.txt
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost test5]$ ll
total 0
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log1.txt
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log2.txt
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log3.txt
[yiibai@localhost test5]$ mv log1.txt -b log2.txt
[yiibai@localhost test5]$ ll
total 0
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log2.txt
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log2.txt~
-rw-rw-r--. 1 yiibai yiibai 0 Feb 12 22:33 log3.txt
[yiibai@localhost test5]$
</code></pre> 
 <p>一些补充说明：</p> 
 <ul> 
  <li><code>-b</code> 不接受参数，mv会去读取环境变量VERSION_CONTROL来作为备份策略。</li>
  <li>—backup该选项指定如果目标文件存在时的动作，共有四种备份策略：
   <ul> 
    <li>1.<code>CONTROL=none</code>或 <code>off</code> : 不备份。</li>
    <li>2.<code>CONTROL=numbered</code>或t：数字编号的备份</li>
    <li>3.<code>CONTROL=existing</code>或nil：如果存在以数字编号的备份，则继续编号备份m+1…n：<br>执行mv操作前已存在以数字编号的文件log2.txt.~1~，那么再次执行将产生log2.txt~2~，以次类推。如果之前没有以数字编号的文件，则使用下面讲到的简单备份。</li>
    <li>4.<code>CONTROL=simple</code>或 <code>never</code>：使用简单备份：在被覆盖前进行了简单备份，简单备份只能有一份，再次被覆盖时，简单备份也会被覆盖。</li>
   </ul> </li>
 </ul>
 <br>      
</div></body></html>