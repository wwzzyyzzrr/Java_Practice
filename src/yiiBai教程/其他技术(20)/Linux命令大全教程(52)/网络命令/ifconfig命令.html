<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">ifconfig命令</h1><div style="width:100%;float:left;" class="article-content">   
 <p>许多windows非常熟悉<code>ipconfig</code>命令行工具，它被用来获取网络接口配置信息并对此进行修改。Linux系统拥有一个类似的工具，也就是ifconfig(interfaces config)。通常需要以root身份登录或使用<code>sudo</code>以便在Linux机器上使用<code>ifconfig</code>工具。依赖于<code>ifconfig</code>命令中使用一些选项属性，<code>ifconfig</code>工具不仅可以被用来简单地获取网络接口配置信息，还可以修改这些配置。</p> 
 <h2 id="h2-1-"><a name="1．命令格式" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1．命令格式</h2>
 <p>ifconfig [网络设备] [参数]</p> 
 <h2 id="h2-2-"><a name="2．命令功能" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2．命令功能</h2>
 <p><code>ifconfig</code> 命令用来查看和配置网络设备。当网络环境发生改变时可通过此命令对网络进行相应的配置。</p> 
 <h2 id="h2-3-"><a name="3．命令参数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3．命令参数</h2>
 <ul> 
  <li><code>up</code> 启动指定网络设备/网卡。</li>
  <li><code>down</code> 关闭指定网络设备/网卡。该参数可以有效地阻止通过指定接口的IP信息流，如果想永久地关闭一个接口，我们还需要从核心路由表中将该接口的路由信息全部删除。</li>
  <li><code>arp</code> 设置指定网卡是否支持ARP协议。</li>
  <li><code>-promisc</code> 设置是否支持网卡的<code>promiscuous</code>模式，如果选择此参数，网卡将接收网络中发给它所有的数据包</li>
  <li><code>-allmulti</code> 设置是否支持多播模式，如果选择此参数，网卡将接收网络中所有的多播数据包</li>
  <li><code>-a</code> 显示全部接口信息</li>
  <li><code>-s</code> 显示摘要信息(类似于 netstat -i)</li>
  <li><code>add</code> 给指定网卡配置IPv6地址</li>
  <li><code>del</code> 删除指定网卡的IPv6地址</li>
  <li><code>mtu</code>&lt;字节数&gt; 设置网卡的最大传输单元 (bytes)</li>
  <li><code>netmask</code>&lt;子网掩码&gt; 设置网卡的子网掩码。掩码可以是有前缀0x的32位十六进制数，也可以是用点分开的4个十进制数。如果不打算将网络分成子网，可以不管这一选项；如果要使用子网，那么请记住，网络中每一个系统必须有相同子网掩码。</li>
  <li><code>tunel</code> 建立隧道</li>
  <li><code>dstaddr</code> 设定一个远端地址，建立点对点通信</li>
  <li><code>-broadcast</code>&lt;地址&gt; 为指定网卡设置广播协议</li>
  <li><code>-pointtopoint</code>&lt;地址&gt; 为网卡设置点对点通讯协议</li>
  <li><code>multicast</code> 为网卡设置组播标志</li>
  <li><code>address</code> 为网卡设置IPv4地址</li>
  <li><code>txqueuelen</code>&lt;长度&gt; 为网卡设置传输列队的长度</li>
 </ul> 
 <h2 id="h2-4-"><a name="4．使用实例：" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4．使用实例：</h2>
 <h3 id="h3--1-"><a name="实例1：显示网络设备信息(激活状态的)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例1：显示网络设备信息(激活状态的)</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">ifconfig
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$ ifconfig
ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.0.197  netmask 255.255.255.0  broadcast 192.168.0.255
        inet6 fe80::da2d:9b2b:7f35:dd8c  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether 00:0c:29:11:29:4a  txqueuelen 1000  (Ethernet)
        RX packets 368  bytes 32960 (32.1 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 120  bytes 20969 (20.4 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
        loop  txqueuelen 1  (Local Loopback)
        RX packets 4  bytes 340 (340.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 4  bytes 340 (340.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

[yiibai@localhost ~]$
</code></pre> 
 <p><strong>说明：</strong><br><code>ens33</code> 表示第一块网卡， 其中 <code>ether</code> 表示网卡的物理地址，可以看到上面输出信息中，这个网卡的物理地址(MAC地址)是 <code>00:0c:29:11:29:4a</code><br><code>inet</code> 用来表示网卡的IP地址，此网卡的 IP地址是 192.168.0.197，广播地址， Bcast: 192.168.0.255，掩码地址 Mask: 255.255.255.0<br>lo 是表示主机的回坏地址，这个一般是用来测试一个网络程序，但又不想让局域网或外网的用户能够查看，只能在此台主机上运行和查看所用的网络接口。比如把 HTTPD服务器的指定到回坏地址，在浏览器输入 127.0.0.1 就能看到你所架WEB网站了。但只是您能看得到，局域网的其它主机或用户无从知道。</p> 
 <p><strong>第一行</strong>：连接类型：Ethernet(以太网)HWaddr(硬件mac地址)<br><strong>第二行</strong>：网卡的IP地址、子网、掩码<br><strong>第三行</strong>：UP(代表网卡开启状态)RUNNING(代表网卡的网线被接上)MULTICAST(支持组播)MTU: <code>1500</code>(最大传输单元)：<code>1500</code>字节<br><strong>第四、五行</strong>：接收、发送数据包情况统计<br><strong>第七行</strong>：接收、发送数据字节数统计信息。</p> 
 <h3 id="h3--2-"><a name="实例2：启动关闭指定网卡" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例2：启动关闭指定网卡</h3>
 <p>命令：</p>   
 <pre><code class="lang-shell">ifconfig eth0 up
ifconfig eth0 down
</code></pre> 
 <p>说明：<br><code>ifconfig eth0 up</code> 为启动网卡<code>eth0</code> ；<code>ifconfig eth0 down</code> 为关闭网卡<code>eth0</code>。ssh登陆linux服务器操作要小心，关闭了就不能开启了，除非有多网卡。</p> 
 <h3 id="h3--3-ipv6-"><a name="实例3：为网卡配置和删除IPv6地址" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例3：为网卡配置和删除IPv6地址</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">ifconfig eth0 add 33ffe:3240:800:1005::2/64
ifconfig eth0 del 33ffe:3240:800:1005::2/64
</code></pre> 
 <p>说明：<br><code>ifconfig eth0 add 33ffe:3240:800:1005::2/64</code> 为网卡<code>eth0</code>配置IPv6地址；<br><code>ifconfig eth0 add 33ffe:3240:800:1005::2/64</code> 为网卡<code>eth0</code>删除IPv6地址；<br>练习的时候，ssh登陆linux服务器操作要小心，关闭了就不能开启了，除非你有多网卡。</p> 
 <h3 id="h3--4-ifconfig-mac-"><a name="实例4：用ifconfig修改MAC地址" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例4：用ifconfig修改MAC地址</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">ifconfig eth0 hw ether 00:AA:BB:CC:DD:EE
</code></pre> 
 <h3 id="h3--5-ip-"><a name="实例5：配置IP地址" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例5：配置IP地址</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">[root@localhost ~]# ifconfig eth0 192.168.1.56 
[root@localhost ~]# ifconfig eth0 192.168.1.56 netmask 255.255.255.0 
[root@localhost ~]# ifconfig eth0 192.168.1.56 netmask 255.255.255.0 broadcast 192.168.1.255
</code></pre> 
 <p>说明：</p> 
 <ul> 
  <li><code>ifconfig eth0 192.168.1.56</code>给<code>eth0</code>网卡配置IP地：<code>192.168.1.56</code></li>
  <li><code>ifconfig eth0 192.168.1.56 netmask 255.255.255.0</code>给<code>eth0</code>网卡配置IP地址：<code>192.168.1.56</code> ，并加上子掩码：<code>255.255.255.0</code>。</li>
  <li><code>ifconfig eth0 192.168.1.56 netmask 255.255.255.0 broadcast 192.168.1.255</code><br>给<code>eth0</code>网卡配置IP地址：<code>192.168.1.56</code>，加上子掩码：<code>255.255.255.0</code>，加上个广播地址： <code>192.168.1.255</code></li>
 </ul> 
 <h3 id="h3--6-arp-"><a name="实例6：启用和关闭ARP协议" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例6：启用和关闭ARP协议</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">ifconfig eth0 arp
ifconfig eth0 -arp
</code></pre> 
 <p>说明：</p> 
 <ul> 
  <li><code>ifconfig eth0 arp</code> 开启网卡 <code>eth0</code> 的arp协议；</li>
  <li><code>ifconfig eth0 -arp</code> 关闭网卡 <code>eth0</code> 的arp协议；</li>
 </ul> 
 <h3 id="h3--7-"><a name="实例7：设置最大传输单元" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例7：设置最大传输单元</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">ifconfig eth0 mtu 1500
</code></pre> 
 <p>说明：<br>设置能通过的最大数据包大小为 <code>1500</code> bytes</p> 
 <p>备注：用<code>ifconfig</code>命令配置的网卡信息，在网卡重启后机器重启后，配置就不存在。要想将上述的配置信息永远的存的电脑里，那就要修改网卡的配置文件了。</p>
 <br>      
</div></body></html>