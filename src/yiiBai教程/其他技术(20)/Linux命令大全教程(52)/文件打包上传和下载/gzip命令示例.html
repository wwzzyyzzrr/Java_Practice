<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">gzip命令示例</h1><div style="width:100%;float:left;" class="article-content">   
 <p>减少文件占用空间大小有两个明显的好处，一是可以减少存储空间，二是通过网络传输文件时，可以减少传输的时间。<code>gzip</code>是在Linux系统中经常使用的一个对文件进行压缩和解压缩的命令，既方便又好用。<code>gzip</code>不仅可以用来压缩大的、较少使用的文件以节省磁盘空间，还可以和<code>tar</code>命令一起构成Linux操作系统中比较流行的压缩文件格式。据统计，<code>gzi</code>p命令对文本文件有<code>60%～70%</code>的压缩率。</p> 
 <h2 id="h2-1-"><a name="1．命令格式" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1．命令格式</h2>
 <p>gzip[参数][文件或者目录]</p> 
 <h2 id="h2-2-"><a name="2．命令功能" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2．命令功能</h2>
 <p>gzip是个使用广泛的压缩程序，文件经它压缩过后，其名称后面会多出”<code>.gz</code>“的扩展名。</p> 
 <h2 id="h2-3-"><a name="3．命令参数" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3．命令参数</h2>
 <ul> 
  <li><code>-a</code>或<code>--ascii</code> 　使用ASCII文字模式。 </li>
  <li><code>-c</code>或<code>--stdout</code>或<code>--to-stdout</code> 　把压缩后的文件输出到标准输出设备，不去更动原始文件。 </li>
  <li><code>-d</code>或<code>--decompress</code>或<code>----uncompress</code> 　解开压缩文件。 </li>
  <li><code>-f</code>或<code>--force</code> 　强行压缩文件。不理会文件名称或硬连接是否存在以及该文件是否为符号连接。 </li>
  <li><code>-h</code>或<code>--help</code> 　在线帮助。 </li>
  <li><code>-l</code>或<code>--list</code> 　列出压缩文件的相关信息。 </li>
  <li><code>-L</code>或<code>--license</code> 　显示版本与版权信息。 </li>
  <li><code>-n</code>或<code>--no-name</code> 　压缩文件时，不保存原来的文件名称及时间戳记。 </li>
  <li><code>-N</code>或<code>--name</code> 　压缩文件时，保存原来的文件名称及时间戳记。 </li>
  <li><code>-q</code>或<code>--quiet</code> 　不显示警告信息。 </li>
  <li><code>-r</code>或<code>--recursive</code> 　递归处理，将指定目录下的所有文件及子目录一并处理。 </li>
  <li><code>-S</code>&lt;压缩字尾字符串&gt;或<code>----suffix</code>&lt;压缩字尾字符串&gt; 　更改压缩字尾字符串。 </li>
  <li><code>-t</code>或<code>--test</code> 　测试压缩文件是否正确无误。 </li>
  <li><code>-v</code>或<code>--verbose</code> 　显示指令执行过程。 </li>
  <li><code>-V</code>或<code>--version</code> 　显示版本信息。 </li>
  <li><code>-num</code> 用指定的数字<code>num</code>调整压缩的速度，<code>-1</code>或<code>--fast</code>表示最快压缩方法(低压缩比)，<code>-9</code>或<code>--best</code>表示最慢压缩方法(高压缩比)。系统缺省值为<code>6</code>。 </li>
 </ul> 
 <h2 id="h2-4-"><a name="4．使用实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4．使用实例</h2>
 <h3 id="h3--1-test4-gz-"><a name="实例1：把test4目录下的每个文件压缩成.gz文件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例1：把test4目录下的每个文件压缩成.gz文件</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">gzip *
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost test4]$ ll
total 12
-rwxr-xr-x. 1 yiibai yiibai 464 Feb 16 21:17 log1.log
-rw-rw-r--. 1 yiibai yiibai   0 Feb 16 21:17 log2018.log
-rw-rw-r--. 1 yiibai yiibai   0 Feb 16 21:17 log2019.log
-rw-rw-r--. 1 yiibai yiibai   0 Feb 16 21:17 log2020.log
-rwxrwxr-x. 1 yiibai yiibai   0 Feb 16 21:17 log2.log
-rw-rw-r--. 1 yiibai yiibai 384 Feb 16 21:17 log3.log
lrwxrwxrwx. 1 yiibai yiibai   7 Feb 16 21:17 log_link.log -&gt; log.log
-rwxr-xr-x. 1 yiibai yiibai   0 Feb 16 21:17 log.log
-rw-rw-r--. 1 yiibai yiibai   0 Feb 16 21:17 test3.log
-rw-rw-r--. 1 yiibai yiibai   1 Feb 16 21:17 tmpcore.log
[yiibai@localhost test4]$ gzip *
gzip: log_link.log: Too many levels of symbolic links
[yiibai@localhost test4]$ ll
total 36
-rwxr-xr-x. 1 yiibai yiibai 267 Feb 16 21:17 log1.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2018.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2019.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2020.log.gz
-rwxrwxr-x. 1 yiibai yiibai  29 Feb 16 21:17 log2.log.gz
-rw-rw-r--. 1 yiibai yiibai 220 Feb 16 21:17 log3.log.gz
lrwxrwxrwx. 1 yiibai yiibai   7 Feb 16 21:17 log_link.log -&gt; log.log
-rwxr-xr-x. 1 yiibai yiibai  28 Feb 16 21:17 log.log.gz
-rw-rw-r--. 1 yiibai yiibai  30 Feb 16 21:17 test3.log.gz
-rw-rw-r--. 1 yiibai yiibai  33 Feb 16 21:17 tmpcore.log.gz
[yiibai@localhost test4]$
</code></pre> 
 <h3 id="h3--2-1-"><a name="实例2：把例1中每个压缩的文件解压，并列出详细的信息" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例2：把例1中每个压缩的文件解压，并列出详细的信息</h3>
 <p>命令：<br>gzip -dv *<br>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost test4]$ ll
total 36
-rwxr-xr-x. 1 yiibai yiibai 267 Feb 16 21:17 log1.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2018.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2019.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2020.log.gz
-rwxrwxr-x. 1 yiibai yiibai  29 Feb 16 21:17 log2.log.gz
-rw-rw-r--. 1 yiibai yiibai 220 Feb 16 21:17 log3.log.gz
-rwxr-xr-x. 1 yiibai yiibai  28 Feb 16 21:17 log.log.gz
-rw-rw-r--. 1 yiibai yiibai  30 Feb 16 21:17 test3.log.gz
-rw-rw-r--. 1 yiibai yiibai  33 Feb 16 21:17 tmpcore.log.gz
[yiibai@localhost test4]$ gzip -dv *
log1.log.gz:     48.3% -- replaced with log1.log
log2018.log.gz:   0.0% -- replaced with log2018.log
log2019.log.gz:   0.0% -- replaced with log2019.log
log2020.log.gz:   0.0% -- replaced with log2020.log
log2.log.gz:      0.0% -- replaced with log2.log
log3.log.gz:     49.7% -- replaced with log3.log
log.log.gz:       0.0% -- replaced with log.log
test3.log.gz:     0.0% -- replaced with test3.log
tmpcore.log.gz: -200.0% -- replaced with tmpcore.log
[yiibai@localhost test4]$
</code></pre> 
 <h3 id="h3--3-1-"><a name="实例3：详细显示例1中每个压缩的文件的信息，并不解压" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例3：详细显示例1中每个压缩的文件的信息，并不解压</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">gzip -l *
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost test4]$ ll
total 36
-rwxr-xr-x. 1 yiibai yiibai 267 Feb 16 21:17 log1.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2018.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2019.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2020.log.gz
-rwxrwxr-x. 1 yiibai yiibai  29 Feb 16 21:17 log2.log.gz
-rw-rw-r--. 1 yiibai yiibai 220 Feb 16 21:17 log3.log.gz
-rwxr-xr-x. 1 yiibai yiibai  28 Feb 16 21:17 log.log.gz
-rw-rw-r--. 1 yiibai yiibai  30 Feb 16 21:17 test3.log.gz
-rw-rw-r--. 1 yiibai yiibai  33 Feb 16 21:17 tmpcore.log.gz
[yiibai@localhost test4]$ gzip -l

^C
[yiibai@localhost test4]$ gzip -l *
         compressed        uncompressed  ratio uncompressed_name
                267                 464  48.3% log1.log
                 32                   0   0.0% log2018.log
                 32                   0   0.0% log2019.log
                 32                   0   0.0% log2020.log
                 29                   0   0.0% log2.log
                220                 384  49.7% log3.log
                 28                   0   0.0% log.log
                 30                   0   0.0% test3.log
                 33                   1 -200.0% tmpcore.log
                703                 849  20.7% (totals)
[yiibai@localhost test4]$
</code></pre> 
 <h3 id="h3--4-tar-tar-gz"><a name="实例4：压缩一个tar备份文件，此时压缩文件的扩展名为.tar.gz" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例4：压缩一个tar备份文件，此时压缩文件的扩展名为.tar.gz</h3>
 <p>命令：</p>   
 <pre><code class="lang-shell">gzip -r log.tar
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost test4]$ tar -cvf log.tar log.log
log.log
[yiibai@localhost test4]$ ll
total 24
-rwxr-xr-x. 1 yiibai yiibai   464 Feb 16 21:17 log1.log
-rw-rw-r--. 1 yiibai yiibai     0 Feb 16 21:17 log2018.log
-rw-rw-r--. 1 yiibai yiibai     0 Feb 16 21:17 log2019.log
-rw-rw-r--. 1 yiibai yiibai     0 Feb 16 21:17 log2020.log
-rwxrwxr-x. 1 yiibai yiibai     0 Feb 16 21:17 log2.log
-rw-rw-r--. 1 yiibai yiibai   384 Feb 16 21:17 log3.log
-rwxr-xr-x. 1 yiibai yiibai     0 Feb 16 21:17 log.log
-rw-rw-r--. 1 yiibai yiibai 10240 Feb 16 21:25 log.tar
-rw-rw-r--. 1 yiibai yiibai     0 Feb 16 21:17 test3.log
-rw-rw-r--. 1 yiibai yiibai     1 Feb 16 21:17 tmpcore.log
[yiibai@localhost test4]$ gzip -r log.tar
[yiibai@localhost test4]$  ls -al log.tar.gz
-rw-rw-r--. 1 yiibai yiibai 125 Feb 16 21:25 log.tar.gz
[yiibai@localhost test4]$
</code></pre> 
 <h3 id="h3--5-"><a name="实例5：递归的压缩目录" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例5：递归的压缩目录</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">gzip -rv test4
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$ ll test4/
total 16
-rwxr-xr-x. 1 yiibai yiibai 464 Feb 16 21:17 log1.log
-rw-rw-r--. 1 yiibai yiibai   0 Feb 16 21:17 log2018.log
-rw-rw-r--. 1 yiibai yiibai   0 Feb 16 21:17 log2019.log
-rw-rw-r--. 1 yiibai yiibai   0 Feb 16 21:17 log2020.log
-rwxrwxr-x. 1 yiibai yiibai   0 Feb 16 21:17 log2.log
-rw-rw-r--. 1 yiibai yiibai 384 Feb 16 21:17 log3.log
-rwxr-xr-x. 1 yiibai yiibai   0 Feb 16 21:17 log.log
-rw-rw-r--. 1 yiibai yiibai 125 Feb 16 21:25 log.tar.gz
-rw-rw-r--. 1 yiibai yiibai   0 Feb 16 21:17 test3.log
-rw-rw-r--. 1 yiibai yiibai   1 Feb 16 21:17 tmpcore.log
[yiibai@localhost ~]$ gzip -rv test4/
test4//log1.log:         48.3% -- replaced with test4//log1.log.gz
test4//log2018.log:       0.0% -- replaced with test4//log2018.log.gz
test4//log2019.log:       0.0% -- replaced with test4//log2019.log.gz
test4//log2020.log:       0.0% -- replaced with test4//log2020.log.gz
test4//log2.log:          0.0% -- replaced with test4//log2.log.gz
test4//log3.log:         49.7% -- replaced with test4//log3.log.gz
test4//log.log:   0.0% -- replaced with test4//log.log.gz
test4//test3.log:         0.0% -- replaced with test4//test3.log.gz
test4//tmpcore.log:     -200.0% -- replaced with test4//tmpcore.log.gz
gzip: test4//log.tar.gz already has .gz suffix -- unchanged
[yiibai@localhost ~]$ ll test4/
total 40
-rwxr-xr-x. 1 yiibai yiibai 267 Feb 16 21:17 log1.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2018.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2019.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2020.log.gz
-rwxrwxr-x. 1 yiibai yiibai  29 Feb 16 21:17 log2.log.gz
-rw-rw-r--. 1 yiibai yiibai 220 Feb 16 21:17 log3.log.gz
-rwxr-xr-x. 1 yiibai yiibai  28 Feb 16 21:17 log.log.gz
-rw-rw-r--. 1 yiibai yiibai 125 Feb 16 21:25 log.tar.gz
-rw-rw-r--. 1 yiibai yiibai  30 Feb 16 21:17 test3.log.gz
-rw-rw-r--. 1 yiibai yiibai  33 Feb 16 21:17 tmpcore.log.gz
[yiibai@localhost ~]$
</code></pre> 
 <blockquote> 
  <p>说明：这样，所有<code>test</code>下面的文件都变成了<code>*.gz</code>，目录依然存在只是目录里面的文件相应变成了<code>*.gz</code>。这就是压缩，和打包不同。因为是对目录操作，所以需要加上<code>-r</code>选项，这样也可以对子目录进行递归了。 </p> 
 </blockquote> 
 <h3 id="h3--6-"><a name="实例6：递归地解压目录" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例6：递归地解压目录</h3>
 <p>命令：</p> 
 <pre><code class="lang-shell">gzip -dr test4
</code></pre> 
 <p>输出：</p> 
 <pre><code class="lang-shell">[yiibai@localhost ~]$ ll test4/
total 40
-rwxr-xr-x. 1 yiibai yiibai 267 Feb 16 21:17 log1.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2018.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2019.log.gz
-rw-rw-r--. 1 yiibai yiibai  32 Feb 16 21:17 log2020.log.gz
-rwxrwxr-x. 1 yiibai yiibai  29 Feb 16 21:17 log2.log.gz
-rw-rw-r--. 1 yiibai yiibai 220 Feb 16 21:17 log3.log.gz
-rwxr-xr-x. 1 yiibai yiibai  28 Feb 16 21:17 log.log.gz
-rw-rw-r--. 1 yiibai yiibai 125 Feb 16 21:25 log.tar.gz
-rw-rw-r--. 1 yiibai yiibai  30 Feb 16 21:17 test3.log.gz
-rw-rw-r--. 1 yiibai yiibai  33 Feb 16 21:17 tmpcore.log.gz
[yiibai@localhost ~]$ gzip -rd test4
[yiibai@localhost ~]$ ll test4
total 24
-rwxr-xr-x. 1 yiibai yiibai   464 Feb 16 21:17 log1.log
-rw-rw-r--. 1 yiibai yiibai     0 Feb 16 21:17 log2018.log
-rw-rw-r--. 1 yiibai yiibai     0 Feb 16 21:17 log2019.log
-rw-rw-r--. 1 yiibai yiibai     0 Feb 16 21:17 log2020.log
-rwxrwxr-x. 1 yiibai yiibai     0 Feb 16 21:17 log2.log
-rw-rw-r--. 1 yiibai yiibai   384 Feb 16 21:17 log3.log
-rwxr-xr-x. 1 yiibai yiibai     0 Feb 16 21:17 log.log
-rw-rw-r--. 1 yiibai yiibai 10240 Feb 16 21:25 log.tar
-rw-rw-r--. 1 yiibai yiibai     0 Feb 16 21:17 test3.log
-rw-rw-r--. 1 yiibai yiibai     1 Feb 16 21:17 tmpcore.log
[yiibai@localhost ~]$
</code></pre>
 <br>      
</div></body></html>