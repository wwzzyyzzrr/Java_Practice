<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">brk()函数 Unix/Linux</h1><div style="width:100%;float:left;" class="article-content">   
 <h1 class="manpages" style="font-weight: normal; font-size: 18px; line-height: 1.5; font-family: Calibri; margin-bottom: 0px; color: rgb(0, 0, 0);"> 名称</h1> 
 <p style="text-align: justify; font-family: verdana, helvetica, arial, sans-serif; color: rgb(0, 0, 0);"> brk, sbrk - 改变数据段大小</p> 
 <h1 class="manpages" style="font-weight: normal; font-size: 18px; line-height: 1.5; font-family: Calibri; margin-bottom: 0px; color: rgb(0, 0, 0);"> 内容简介</h1> 
 <pre style="font-family: 'Courier New', monospace; font-size: 12px; margin-bottom: 0px;">
#include 
  <unistd.h>
   
int brk(void *end_data_segment);
void *sbrk(intptr_t increment); 

  </unistd.h></pre> 
 <h1 class="manpages" style="font-weight: normal; font-size: 18px; line-height: 1.5; font-family: Calibri; margin-bottom: 0px; color: rgb(0, 0, 0);"> 描述</h1> 
 <p style="text-align: justify; font-family: verdana, helvetica, arial, sans-serif; color: rgb(0, 0, 0);"> <b>brk</b>() sets the end of the data segment to the value specified by&nbsp;<i>end_data_segment</i>, when that value is reasonable, the system does have enough memory and the process does not exceed its max data size (see&nbsp;<b>setrlimit</b>(2)).</p> 
 <p style="text-align: justify; font-family: verdana, helvetica, arial, sans-serif; color: rgb(0, 0, 0);"> <b>sbrk</b>() increments the program’s data space by&nbsp;<i>increment</i>&nbsp;bytes.&nbsp;<b>sbrk</b>() isn’t a system call, it is just a C library wrapper. Calling&nbsp;<b>sbrk</b>() with an increment of 0 can be used to find the current location of the program break.</p> 
 <h1 class="manpages" style="font-weight: normal; font-size: 18px; line-height: 1.5; font-family: Calibri; margin-bottom: 0px; color: rgb(0, 0, 0);"> 返回值</h1> 
 <p style="text-align: justify; font-family: verdana, helvetica, arial, sans-serif; color: rgb(0, 0, 0);"> On success,&nbsp;<b>brk</b>() returns zero, and&nbsp;<b>sbrk</b>() returns a pointer to the start of the new area. On error, -1 is returned, and&nbsp;<i>errno</i>&nbsp;is set to&nbsp;<b>ENOMEM</b>.</p> 
 <h1 class="manpages" style="font-weight: normal; font-size: 18px; line-height: 1.5; font-family: Calibri; margin-bottom: 0px; color: rgb(0, 0, 0);"> 遵循于</h1> 
 <span style="color: rgb(0, 0, 0); font-family: verdana, helvetica, arial, sans-serif;">4.3BSD; SUSv1, marked LEGACY in SUSv2, removed in POSIX.1-2001.</span> 
 <p style="text-align: justify; font-family: verdana, helvetica, arial, sans-serif; color: rgb(0, 0, 0);"> &nbsp;</p> 
 <p style="text-align: justify; font-family: verdana, helvetica, arial, sans-serif; color: rgb(0, 0, 0);"> <b>brk</b>() and&nbsp;<b>sbrk</b>() are not defined in the C Standard and are deliberately excluded from the POSIX.1 standard (see paragraphs B.1.1.1.3 and B.8.3.3).</p> 
 <h1 class="manpages" style="font-weight: normal; font-size: 18px; line-height: 1.5; font-family: Calibri; margin-bottom: 0px; color: rgb(0, 0, 0);"> 注意</h1> 
 <p style="text-align: justify; font-family: verdana, helvetica, arial, sans-serif; color: rgb(0, 0, 0);"> Various systems use various types for the parameter of&nbsp;<b>sbrk</b>(). Common are&nbsp;<i>int</i>,&nbsp;<i>ssize_t</i>,<i>ptrdiff_t</i>,&nbsp;<i>intptr_t</i>.</p> 
 <h1 class="manpages" style="font-weight: normal; font-size: 18px; line-height: 1.5; font-family: Calibri; margin-bottom: 0px; color: rgb(0, 0, 0);"> 另请参阅</h1> 
 <ul style="font-family: verdana, helvetica, arial, sans-serif; color: rgb(0, 0, 0);"> 
  <li> <p style="text-align: justify;"> <a target="_blank" href="http://www.yiibai.com/unix_system_calls/execve.html" style="color: rgb(144, 11, 9); background-color: transparent;">execve (2)</a></p> </li> 
  <li> <p style="text-align: justify;"> <a target="_blank" href="http://www.yiibai.com/unix_system_calls/getrlimit.html" style="color: rgb(144, 11, 9); background-color: transparent;">getrlimit (2)</a></p> </li> 
 </ul> 
 <br>      
</div></body></html>