<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">nfsservctl()函数 Unix/Linux</h1><div style="width:100%;float:left;" class="article-content">   
 <span style="color: rgb(0, 0, 0); font-family: verdana, helvetica, arial, sans-serif;">nfsservctl -&nbsp;</span>系统调用接口，内核中NFS守护进程 
 <h1 class="manpages" style="font-weight: normal; font-size: 18px; line-height: 1.5; font-family: Calibri; margin-bottom: 0px; color: rgb(0, 0, 0);"> 内容简介</h1> 
 <b style="color: rgb(0, 0, 0); font-family: verdana, helvetica, arial, sans-serif;">#include &lt;linux/nfsd/syscall.h&gt;</b> 
 <p style="text-align: justify; font-family: verdana, helvetica, arial, sans-serif; color: rgb(0, 0, 0);"> <b>nfsservctl(int&nbsp;</b><i>cmd</i><b>, struct nfsctl_arg *</b><i>argp</i><b>, union nfsctl_res *</b><i>resp</i><b>);</b></p> 
 <h1 class="manpages" style="font-weight: normal; font-size: 18px; line-height: 1.5; font-family: Calibri; margin-bottom: 0px; color: rgb(0, 0, 0);"> 描述</h1> 
 <table cellpadding="5" cellspacing="5" class="src" style="font-family: verdana, helvetica, arial, sans-serif;  border-color: rgb(170, 170, 170); width: 552px; background-color: rgb(241, 241, 241); border-collapse: collapse; padding-left: 5px; vertical-align: top; color: rgb(0, 0, 0);"> 
  <tbody> 
   <tr> 
    <td style="vertical-align: top; margin-bottom: 0px; border-collapse: collapse;  border-color: rgb(170, 170, 170);"> <pre style="font-family: 'Courier New', monospace; font-size: 12px; margin-bottom: 0px;">
/*
 * These are the commands understood by nfsctl().
 */
#define NFSCTL_SVC              0       /* This is a server process. */
#define NFSCTL_ADDCLIENT        1       /* Add an NFS client. */
#define NFSCTL_DELCLIENT        2       /* Remove an NFS client. */
#define NFSCTL_EXPORT           3       /* export a file system. */
#define NFSCTL_UNEXPORT         4       /* unexport a file system. */
#define NFSCTL_UGIDUPDATE       5       /* update a client’s UID/GID map. */
#define NFSCTL_GETFH            6       /* get an fh (used by mountd) */
</pre> <p style="text-align: justify;"> struct nfsctl_arg { int ca_version; /* safeguard */ union { struct nfsctl_svc u_svc; struct nfsctl_client u_client; struct nfsctl_export u_export; struct nfsctl_uidmap u_umap; struct nfsctl_fhparm u_getfh; unsigned int u_debug; } u; }</p> <p style="text-align: justify;"> union nfsctl_res { struct knfs_fh cr_getfh; unsigned int cr_debug; };</p> </td> 
   </tr> 
  </tbody> 
 </table> 
 <h1 class="manpages" style="font-weight: normal; font-size: 18px; line-height: 1.5; font-family: Calibri; margin-bottom: 0px; color: rgb(0, 0, 0);"> RETURN VALUE</h1> 
 <span style="color: rgb(0, 0, 0); font-family: verdana, helvetica, arial, sans-serif;">On success, zero is returned. On error, -1 is returned, and&nbsp;</span>
 <i style="color: rgb(0, 0, 0); font-family: verdana, helvetica, arial, sans-serif;">errno</i>
 <span style="color: rgb(0, 0, 0); font-family: verdana, helvetica, arial, sans-serif;">&nbsp;is set appropriately.</span> 
 <h1 class="manpages" style="font-weight: normal; font-size: 18px; line-height: 1.5; font-family: Calibri; margin-bottom: 0px; color: rgb(0, 0, 0);"> CONFORMING TO</h1> 
 <span style="color: rgb(0, 0, 0); font-family: verdana, helvetica, arial, sans-serif;">This call is Linux-specific.&nbsp;</span>
 <br>      
</div></body></html>