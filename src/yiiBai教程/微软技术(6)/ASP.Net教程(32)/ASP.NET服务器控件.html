<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">ASP.NET服务器控件</h1><div style="width:100%;float:left;" class="article-content">   
 <p>控件是图形用户界面的小型构建块，其中包括文本框，按钮，复选框，列表框，标签以及许多其他工具。使用这些工具，用户可以输入数据，进行选择并设置他们的偏好。</p> 
 <p>控件还用于结构化作业，如验证，数据访问，安全性，创建母版页和数据操作。</p> 
 <p>ASP.NET使用五种类型的Web控件，它们是：</p> 
 <ul> 
  <li>HTML控件</li>
  <li>HTML服务器控件</li>
  <li>ASP.NET服务器控件</li>
  <li>ASP.NET Ajax服务器控件</li>
  <li>用户控件和自定义控件</li>
 </ul> 
 <p>ASP.NET服务器控件是ASP.NET中使用的主要控件。这些控件可以分为以下几类：</p> 
 <ul> 
  <li><em>验证控件</em> - 用于验证用户输入，并通过运行客户端脚本进行工作。</li>
  <li><em>数据源控件</em> - 这些控件提供了与不同数据源的数据绑定。</li>
  <li><em>数据视图控件</em> - 这些是各种列表和表格，它们可以绑定到数据源中的数据进行显示。</li>
  <li><em>个性化控件</em> - 这些控件用于根据用户的喜好，根据用户信息对页面进行个性化设置。</li>
  <li><em>登录和安全控件</em> - 这些控件提供用户身份验证。</li>
  <li><em>母版页</em> - 这些控件在整个应用程序中提供一致的布局和界面。</li>
  <li><em>导航控件</em> - 这些控件有助于导航。 例如，菜单，树视图等</li>
  <li><em>富控件</em> - 这些控件实现特殊功能。 例如，<code>AdRotator</code>，<code>FileUpload</code>和<code>Calendar</code>控件。</li>
 </ul> 
 <p>使用服务器控件的语法是：</p> 
 <pre><code class="lang-aspnet">&lt;asp:controlType  ID ="ControlID" runat="server" Property1=value1  [Property2=value2] /&gt;
</code></pre> 
 <p>另外，<em>visual studio</em> 具有以下功能，可以帮助制作无误码：</p> 
 <ul> 
  <li>在设计视图中拖放控件</li>
  <li>智能感知功能，显示和自动完成属性</li>
  <li>属性窗口直接设置属性值</li>
 </ul> 
 <h2 id="h2-u670Du52A1u5668u63A7u4EF6u7684u5C5Eu6027"><a name="服务器控件的属性" class="reference-link"></a><span class="header-link octicon octicon-link"></span>服务器控件的属性</h2>
 <p>具有可视方面的ASP.NET服务器控件是从<code>WebControl</code>类派生的，并继承了此类的所有属性，事件和方法。</p> 
 <p><code>WebControl</code>类本身和一些其他不可视化呈现的服务器控件都是从<code>System.Web.UI.Control</code>类派生的。例如，<code>PlaceHolder</code>控件或XML控件。</p> 
 <p>ASP.Net服务器控件继承<code>WebControl</code>和<code>System.Web.UI.Control</code>类的所有属性，事件和方法。</p> 
 <p>下表显示了所有服务器控件通用的继承属性：</p> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>属性</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td><code>AccessKey</code></td> 
    <td>用<code>Alt</code>键按下此键将焦点移到控件上。</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td><code>Attributes</code></td> 
    <td>它是任意属性(仅用于渲染)的集合，它们不与控件上的属性相对应。</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td><code>BackColor</code></td> 
    <td>背景颜色。</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td><code>BindingContainer</code></td> 
    <td>包含此控件的数据绑定的控件。</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td><code>BorderColor</code></td> 
    <td>边框颜色。</td> 
   </tr> 
   <tr> 
    <td>6</td> 
    <td><code>BorderStyle</code></td> 
    <td>边框格式</td> 
   </tr> 
   <tr> 
    <td>7</td> 
    <td><code>BorderWidth</code></td> 
    <td>边框宽度</td> 
   </tr> 
   <tr> 
    <td>8</td> 
    <td><code>CausesValidation</code></td> 
    <td>指示是否验证。</td> 
   </tr> 
   <tr> 
    <td>9</td> 
    <td><code>ChildControlCreated</code></td> 
    <td>它指示服务器控件的子控件是否已创建。</td> 
   </tr> 
   <tr> 
    <td>10</td> 
    <td><code>ClientID</code></td> 
    <td>HTML标记的控件ID。</td> 
   </tr> 
   <tr> 
    <td>11</td> 
    <td><code>Context</code></td> 
    <td>与服务器控件关联的HttpContext对象。</td> 
   </tr> 
   <tr> 
    <td>12</td> 
    <td><code>Controls</code></td> 
    <td>包含在控件中的所有控件的集合。</td> 
   </tr> 
   <tr> 
    <td>13</td> 
    <td><code>ControlStyle</code></td> 
    <td>Web服务器控件的风格(样式)。</td> 
   </tr> 
   <tr> 
    <td>14</td> 
    <td><code>CssClass</code></td> 
    <td>CSS类</td> 
   </tr> 
   <tr> 
    <td>15</td> 
    <td><code>DataItemContainer</code></td> 
    <td>如果命名容器实现了<code>IDataItemContainer</code>，则获取对命名容器的引用。</td> 
   </tr> 
   <tr> 
    <td>16</td> 
    <td><code>DataKeysContainer</code></td> 
    <td>如果命名容器实现了<code>IDataKeysControl</code>，则获取对命名容器的引用。</td> 
   </tr> 
   <tr> 
    <td>17</td> 
    <td><code>DesignMode</code></td> 
    <td>它指示控件是否在设计表面上使用。</td> 
   </tr> 
   <tr> 
    <td>18</td> 
    <td><code>DisabledCssClass</code></td> 
    <td>获取或设置CSS控件禁用时应用于呈现的HTML元素的CSS类。</td> 
   </tr> 
   <tr> 
    <td>19</td> 
    <td><code>Enabled</code></td> 
    <td>指示控件是否变灰。</td> 
   </tr> 
   <tr> 
    <td>20</td> 
    <td><code>EnableTheming</code></td> 
    <td>表示主题是否适用于控件。</td> 
   </tr> 
   <tr> 
    <td>21</td> 
    <td><code>EnableViewState</code></td> 
    <td>指示是否保持控件的视图状态。</td> 
   </tr> 
   <tr> 
    <td>22</td> 
    <td><code>Events</code></td> 
    <td>获取控件的事件处理程序委托的列表。</td> 
   </tr> 
   <tr> 
    <td>23</td> 
    <td><code>Font</code></td> 
    <td>字体</td> 
   </tr> 
   <tr> 
    <td>24</td> 
    <td><code>Forecolor</code></td> 
    <td>前景颜色。</td> 
   </tr> 
   <tr> 
    <td>25</td> 
    <td><code>HasAttributes</code></td> 
    <td>指示控件是否设置了属性。</td> 
   </tr> 
   <tr> 
    <td>26</td> 
    <td><code>HasChildViewState</code></td> 
    <td>指示当前服务器控件的子控件是否具有任何保存的视图状态设置。</td> 
   </tr> 
   <tr> 
    <td>28</td> 
    <td><code>Height</code></td> 
    <td>以像素或<code>％</code>为单位来设置高度。</td> 
   </tr> 
   <tr> 
    <td>30</td> 
    <td><code>ID</code></td> 
    <td>控件的标识符。</td> 
   </tr> 
   <tr> 
    <td>31</td> 
    <td><code>IsChildControlStateCleared</code></td> 
    <td>指示此控件中包含的控件是否具有控件状态。</td> 
   </tr> 
   <tr> 
    <td>32</td> 
    <td><code>IsEnabled</code></td> 
    <td>获取一个指示控件是否启用值。</td> 
   </tr> 
   <tr> 
    <td>33</td> 
    <td><code>IsTrackingViewState</code></td> 
    <td>它指示服务器控件是否将更改保存到其视图状态。</td> 
   </tr> 
   <tr> 
    <td>34</td> 
    <td><code>IsViewStateEnabled</code></td> 
    <td>它指示是否对此控件启用视图状态。</td> 
   </tr> 
   <tr> 
    <td>35</td> 
    <td><code>LoadViewStateById</code></td> 
    <td>它指示控件是否参与通过ID而不是索引来加载其视图状态。</td> 
   </tr> 
   <tr> 
    <td>36</td> 
    <td><code>Page</code></td> 
    <td>包含该控件的页面。</td> 
   </tr> 
   <tr> 
    <td>37</td> 
    <td><code>Parent</code></td> 
    <td>父控件。</td> 
   </tr> 
   <tr> 
    <td>38</td> 
    <td><code>RenderingCompatibility</code></td> 
    <td>它指定了呈现的HTML将兼容的ASP.NET版本。</td> 
   </tr> 
   <tr> 
    <td>39</td> 
    <td><code>Site</code></td> 
    <td>在设计图面上呈现时承载当前控件的容器。</td> 
   </tr> 
   <tr> 
    <td>40</td> 
    <td><code>SkinID</code></td> 
    <td>获取或设置要应用于控件的外观。</td> 
   </tr> 
   <tr> 
    <td>41</td> 
    <td><code>Style</code></td> 
    <td>获取将在Web服务器控件的外部标记上呈现为样式属性的文本属性的集合。</td> 
   </tr> 
   <tr> 
    <td>42</td> 
    <td><code>TabIndex</code></td> 
    <td>获取或设置Web服务器控件的选项卡索引。</td> 
   </tr> 
   <tr> 
    <td>43</td> 
    <td><code>TagKey</code></td> 
    <td>获取对应于此Web服务器控件的<code>HtmlTextWriterTag</code>值。</td> 
   </tr> 
   <tr> 
    <td>44</td> 
    <td><code>TagName</code></td> 
    <td>获取控件标记的名称。</td> 
   </tr> 
   <tr> 
    <td>45</td> 
    <td><code>TemplateControl</code></td> 
    <td>包含此控件的模板。</td> 
   </tr> 
   <tr> 
    <td>46</td> 
    <td><code>TemplateSourceDirectory</code></td> 
    <td>获取包含此控件的页面或控件的虚拟目录。</td> 
   </tr> 
   <tr> 
    <td>47</td> 
    <td><code>ToolTip</code></td> 
    <td>获取或设置鼠标指针悬停在Web服务器控件上时显示的文本。</td> 
   </tr> 
   <tr> 
    <td>48</td> 
    <td><code>UniqueID</code></td> 
    <td>唯一标识符。</td> 
   </tr> 
   <tr> 
    <td>49</td> 
    <td><code>ViewState</code></td> 
    <td>获取状态信息的字典，该字典可跨多个同一页面的请求保存和恢复服务器控件的视图状态。</td> 
   </tr> 
   <tr> 
    <td>50</td> 
    <td><code>ViewStateIgnoreCase</code></td> 
    <td>它指出<code>StateBag</code>对象是否区分大小写。</td> 
   </tr> 
   <tr> 
    <td>51</td> 
    <td><code>ViewStateMode</code></td> 
    <td>获取或设置此控件的视图状态模式。</td> 
   </tr> 
   <tr> 
    <td>52</td> 
    <td><code>Visible</code></td> 
    <td>它指示服务器控件是否可见。</td> 
   </tr> 
   <tr> 
    <td>53</td> 
    <td><code>Width</code></td> 
    <td>获取或设置Web服务器控件的宽度。</td> 
   </tr> 
  </tbody> 
 </table> 
 <p><strong>服务器控件的方法</strong></p> 
 <p>下表提供了服务器控件的方法：</p> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>方法</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td><code>AddAttributesToRender</code></td> 
    <td>将需要呈现的HTML属性和样式添加到指定的<code>HtmlTextWriterTag</code>。</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td><code>AddedControl</code></td> 
    <td>在子控件添加到控件对象的控件集合后调用。</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td><code>AddParsedSubObject</code></td> 
    <td>通知服务器控件已经解析了元素(XML或HTML)，并将该元素添加到服务器控件的控件集合中。</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td><code>ApplyStyleSheetSkin</code></td> 
    <td>将页面样式表中定义的样式属性应用于控件。</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td><code>ClearCachedClientID</code></td> 
    <td>基础结构，将缓存的<code>ClientID</code>值设置为<code>null</code>。</td> 
   </tr> 
   <tr> 
    <td>6</td> 
    <td><code>ClearChildControlState</code></td> 
    <td>删除服务器控件的子控件的控件状态信息。</td> 
   </tr> 
   <tr> 
    <td>7</td> 
    <td><code>ClearChildState</code></td> 
    <td>删除所有服务器控件的子控件的视图状态和控件状态信息。</td> 
   </tr> 
   <tr> 
    <td>8</td> 
    <td><code>ClearChildViewState</code></td> 
    <td>删除所有服务器控件的子控件的视图状态信息。</td> 
   </tr> 
   <tr> 
    <td>9</td> 
    <td><code>CreateChildControls</code></td> 
    <td>用于创建子控件。</td> 
   </tr> 
   <tr> 
    <td>10</td> 
    <td><code>CreateControlCollection</code></td> 
    <td>创建一个新的<code>ControlCollection</code>对象来保存子控件。</td> 
   </tr> 
   <tr> 
    <td>11</td> 
    <td><code>CreateControlStyle</code></td> 
    <td>创建用于实现所有样式相关属性的样式对象。</td> 
   </tr> 
   <tr> 
    <td>12</td> 
    <td><code>DataBind</code></td> 
    <td>将数据源绑定到服务器控件及其所有子控件。</td> 
   </tr> 
   <tr> 
    <td>13</td> 
    <td><code>DataBind(Boolean)</code></td> 
    <td>将数据源绑定到服务器控件及其所有子控件，并使用一个选项来引发<code>DataBinding</code>事件。</td> 
   </tr> 
   <tr> 
    <td>14</td> 
    <td><code>DataBindChildren</code></td> 
    <td>将数据源绑定到服务器控件的子控件。</td> 
   </tr> 
   <tr> 
    <td>15</td> 
    <td><code>Dispose</code></td> 
    <td>使服务器控件在从内存释放之前执行最终清理。</td> 
   </tr> 
   <tr> 
    <td>16</td> 
    <td><code>EnsureChildControls</code></td> 
    <td>确定服务器控件是否包含子控件。如果没有，则创建子控件。</td> 
   </tr> 
   <tr> 
    <td>17</td> 
    <td><code>EnsureID</code></td> 
    <td>为没有标识符的控件创建一个标识符。</td> 
   </tr> 
   <tr> 
    <td>18</td> 
    <td><code>Equals(Object)</code></td> 
    <td>确定指定的对象(<code>Object</code>)是否等于当前对象。</td> 
   </tr> 
   <tr> 
    <td>19</td> 
    <td><code>Finalize</code></td> 
    <td>在对象被垃圾回收回收之前，允许对象尝试释放资源并执行其他清理操作。</td> 
   </tr> 
   <tr> 
    <td>20</td> 
    <td><code>FindControl(String)</code></td> 
    <td>使用指定的<code>id</code>参数在当前命名容器中搜索服务器控件。</td> 
   </tr> 
   <tr> 
    <td>21</td> 
    <td><code>FindControl(String, Int32)</code></td> 
    <td>在当前命名容器中搜索具有指定标识和整数的服务器控件。</td> 
   </tr> 
   <tr> 
    <td>22</td> 
    <td><code>Focus</code></td> 
    <td>将输入焦点设置为控件。</td> 
   </tr> 
   <tr> 
    <td>23</td> 
    <td><code>GetDesignModeState</code></td> 
    <td>获取控件的设计时数据。</td> 
   </tr> 
   <tr> 
    <td>24</td> 
    <td><code>GetType</code></td> 
    <td>获取当前实例的类型。</td> 
   </tr> 
   <tr> 
    <td>25</td> 
    <td><code>GetUniqueIDRelativeTo</code></td> 
    <td>返回指定控件的<code>UniqueID</code>属性的前缀部分。</td> 
   </tr> 
   <tr> 
    <td>26</td> 
    <td><code>HasControls</code></td> 
    <td>确定服务器控件是否包含任何子控件。</td> 
   </tr> 
   <tr> 
    <td>27</td> 
    <td><code>HasEvents</code></td> 
    <td>指示是否为控件或任何子控件注册事件。</td> 
   </tr> 
   <tr> 
    <td>28</td> 
    <td><code>IsLiteralContent</code></td> 
    <td>确定服务器控件是否仅保存文字内容。</td> 
   </tr> 
   <tr> 
    <td>29</td> 
    <td><code>LoadControlState</code></td> 
    <td>恢复控制状态信息。</td> 
   </tr> 
   <tr> 
    <td>30</td> 
    <td><code>LoadViewState</code></td> 
    <td>恢复视图状态信息。</td> 
   </tr> 
   <tr> 
    <td>31</td> 
    <td><code>MapPathSecure</code></td> 
    <td>检索虚拟路径(绝对或相对)映射到的物理路径。</td> 
   </tr> 
   <tr> 
    <td>32</td> 
    <td><code>MemberwiseClone</code></td> 
    <td>创建当前对象的浅表副本。</td> 
   </tr> 
   <tr> 
    <td>33</td> 
    <td><code>MergeStyle</code></td> 
    <td>将指定样式的非空白元素复制到Web控件，但不覆盖控件的任何现有样式元素。</td> 
   </tr> 
   <tr> 
    <td>34</td> 
    <td><code>OnBubbleEvent</code></td> 
    <td>确定是否将服务器控件的事件传递给页面的UI服务器控件层次结构。</td> 
   </tr> 
   <tr> 
    <td>35</td> 
    <td><code>OnDataBinding</code></td> 
    <td>引发数据绑定事件。</td> 
   </tr> 
   <tr> 
    <td>36</td> 
    <td><code>OnInit</code></td> 
    <td>引发<code>Init</code>事件。</td> 
   </tr> 
   <tr> 
    <td>37</td> 
    <td><code>OnLoad</code></td> 
    <td>引发<code>Load</code>事件。</td> 
   </tr> 
   <tr> 
    <td>38</td> 
    <td><code>OnPreRender</code></td> 
    <td>引发<code>PreRender</code>事件。</td> 
   </tr> 
   <tr> 
    <td>39</td> 
    <td><code>OnUnload</code></td> 
    <td>引发<code>Unload</code>事件。</td> 
   </tr> 
   <tr> 
    <td>40</td> 
    <td><code>OpenFile</code></td> 
    <td>获取用于读取文件的流。</td> 
   </tr> 
   <tr> 
    <td>41</td> 
    <td><code>RemovedControl</code></td> 
    <td>在从控件对象的控件集合中删除子控件后调用。</td> 
   </tr> 
   <tr> 
    <td>42</td> 
    <td><code>Render</code></td> 
    <td>将控件呈现给指定的HTML编写器。</td> 
   </tr> 
   <tr> 
    <td>43</td> 
    <td><code>RenderBeginTag</code></td> 
    <td>将控件的HTML开始标记呈现给指定的写入器。</td> 
   </tr> 
   <tr> 
    <td>44</td> 
    <td><code>RenderChildren</code></td> 
    <td>将服务器控件的子项的内容输出到提供的<code>HtmlTextWriter</code>对象，该对象将要呈现的内容写入客户端。</td> 
   </tr> 
   <tr> 
    <td>45</td> 
    <td><code>RenderContents</code></td> 
    <td>将控件的内容呈现给指定的写入器。</td> 
   </tr> 
   <tr> 
    <td>46</td> 
    <td><code>RenderControl(HtmlTextWriter)</code></td> 
    <td>将服务器控件内容输出到提供的<code>HtmlTextWriter</code>对象，并在启用跟踪时存储有关该控件的跟踪信息。</td> 
   </tr> 
   <tr> 
    <td>47</td> 
    <td><code>RenderEndTag</code></td> 
    <td>将控件的HTML结束标记呈现给指定的写入器。</td> 
   </tr> 
   <tr> 
    <td>48</td> 
    <td><code>ResolveAdapter</code></td> 
    <td>获取负责渲染指定控件的控件适配器。</td> 
   </tr> 
   <tr> 
    <td>49</td> 
    <td><code>SaveControlState</code></td> 
    <td>保存页面发回服务器以来发生的所有服务器控件状态更改。</td> 
   </tr> 
   <tr> 
    <td>50</td> 
    <td><code>SaveViewState</code></td> 
    <td>保存<code>TrackViewState</code>方法被调用后修改的任何状态。</td> 
   </tr> 
   <tr> 
    <td>51</td> 
    <td><code>SetDesignModeState</code></td> 
    <td>为控件设置设计时数据。</td> 
   </tr> 
   <tr> 
    <td>52</td> 
    <td><code>ToString</code></td> 
    <td>返回表示当前对象的字符串。</td> 
   </tr> 
   <tr> 
    <td>53</td> 
    <td><code>TrackViewState</code></td> 
    <td>使控件跟踪其视图状态的更改，以便它们可以存储在对象的视图状态属性中。</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-u793Au4F8B"><a name="示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例</h2>
 <p>打开<em>Visual Studio</em>创建一个空的网站项目：<em>ServerControls</em>，如下所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/0412/402141234_72906.png" alt=""></p> 
 <p>并在这个新的项目中，添加一个新的Web窗体文件 - <em>Default.aspx</em>。</p> 
 <p>下面来看看服务器控件 - 一个树视图控件。 树视图控件位于导航控件下。 其他导航控件是：菜单控件和SiteMapPath控件。</p> 
 <p>在页面上添加一个树视图控件。 从任务中选择<em>编辑节点</em>使用树视图节点编辑器编辑每个节点，如下所示：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/0412/322141241_56873.png" alt=""></p> 
 <p>当创建了节点，在设计视图中看起来如下所示：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/0412/619141242_68529.png" alt=""></p> 
 <p><em>自动套用格式</em>任务使用<em>箭头</em>，如下所示格式化树视图：</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/0412/226141244_77432.png" alt=""></p> 
 <p>在页面上添加一个标签控件和一个文本框控件，分别命名为<code>lblmessage</code>和<code>txtmessage</code>。</p> 
 <p>编写几行代码，以确保选择特定节点时，标签控件显示节点文本，文本框显示其下的所有子节点(如果有的话)。 现在<em>Default.aspx</em>的代码内容如下：</p>   
 <pre><code class="lang-aspnet">&lt;%@ Page Language="C#" AutoEventWireup="true" CodeFile="Default.aspx.cs" Inherits="_Default" %&gt;

&lt;!DOCTYPE html&gt;

&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head runat="server"&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"/&gt;
    &lt;title&gt;服务器控件示例&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form id="form1" runat="server"&gt;
        &lt;div&gt;
            &lt;asp:TreeView ID="TreeView1" runat="server" ImageSet="Arrows" OnSelectedNodeChanged="TreeView1_SelectedNodeChanged1"&gt;
                &lt;HoverNodeStyle Font-Underline="True" ForeColor="#5555DD" /&gt;
                &lt;Nodes&gt;
                    &lt;asp:TreeNode Text="小牛技术有限公司" Value="小牛技术有限公司"&gt;
                        &lt;asp:TreeNode Text="技术部" Value="技术部"&gt;
                            &lt;asp:TreeNode Text="陈Java" Value="陈Java"&gt;&lt;/asp:TreeNode&gt;
                            &lt;asp:TreeNode Text="李PHP" Value="李PHP"&gt;&lt;/asp:TreeNode&gt;
                            &lt;asp:TreeNode Text="张MySQL" Value="张MySQL"&gt;&lt;/asp:TreeNode&gt;
                        &lt;/asp:TreeNode&gt;
                        &lt;asp:TreeNode Text="市场部" Value="市场部"&gt;
                            &lt;asp:TreeNode Text="李小双" Value="李小双"&gt;&lt;/asp:TreeNode&gt;
                            &lt;asp:TreeNode Text="罗十步" Value="罗十步"&gt;&lt;/asp:TreeNode&gt;
                            &lt;asp:TreeNode Text="渣渣辉" Value="渣渣辉"&gt;&lt;/asp:TreeNode&gt;
                        &lt;/asp:TreeNode&gt;
                    &lt;/asp:TreeNode&gt;
                &lt;/Nodes&gt;
                &lt;NodeStyle Font-Names="Verdana" Font-Size="8pt" ForeColor="Black" HorizontalPadding="5px" NodeSpacing="0px" VerticalPadding="0px" /&gt;
                &lt;ParentNodeStyle Font-Bold="False" /&gt;
                &lt;SelectedNodeStyle Font-Underline="True" ForeColor="#5555DD" HorizontalPadding="0px" VerticalPadding="0px" /&gt;
            &lt;/asp:TreeView&gt;
            &lt;br /&gt;
            &lt;asp:Label ID="txtmessage" runat="server"&gt;&lt;/asp:Label&gt;
            &lt;br /&gt;
            &lt;asp:Label ID="lblmessage" runat="server"&gt;&lt;/asp:Label&gt;
        &lt;/div&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p><em>Default.aspx.cs</em> 的代码内容如下：</p> 
 <pre><code class="lang-csharp">using System;
using System.Collections;
using System.Configuration;
using System.Data;
using System.Linq;

using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;

using System.Xml.Linq;

public partial class _Default : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        txtmessage.Text = "Page_Load ";
    }

    protected void TreeView1_SelectedNodeChanged1(object sender, EventArgs e)
    {
        txtmessage.Text = " ";
        lblmessage.Text = "最近选择: " + TreeView1.SelectedNode.Text;
        TreeNodeCollection childnodes = TreeView1.SelectedNode.ChildNodes;

        if (childnodes != null)
        {
            txtmessage.Text = " ";

            foreach (TreeNode t in childnodes)
            {
                txtmessage.Text += ", "+t.Value;
            }
        }
    }
}
</code></pre> 
 <p>执行该页面以查看效果。可以看到现在能够展开和折叠节点。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/0412/468151203_36862.png" alt=""></p>
 <br>      
</div></body></html>