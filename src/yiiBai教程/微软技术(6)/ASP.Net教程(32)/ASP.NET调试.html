<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">ASP.NET调试</h1><div style="width:100%;float:left;" class="article-content">   
 <p>调试允许开发人员逐步了解代码的工作过程，变量的值是如何变化的，如何创建和销毁对象等。<br>当网站第一次执行时，<em>Visual Studio</em>会显示一个提示，询问是否应该启用它来进行调试。</p> 
 <p>为了方便演示，这里创建一个ASP.NET空网站，并添加一个窗体文件：<em>Default.aspx</em> ，以及后端 <em>Default.aspx.cs</em> 文件。简单实现计算输入字符串的长度。</p> 
 <p><em>Default.aspx</em> 文件的代码 - </p> 
 <pre><code class="lang-aspnet">&lt;%@ Page Language="C#" AutoEventWireup="true" CodeFile="Default.aspx.cs" Inherits="_Default" %&gt;

&lt;!DOCTYPE html&gt;

&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head runat="server"&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"/&gt;
    &lt;title&gt;用于演示调试代码&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form id="form1" runat="server"&gt;
        &lt;div&gt;

          输入字符串：&lt;asp:TextBox ID="TextBox1" runat="server"&gt;&lt;/asp:TextBox&gt;
            &lt;asp:Button ID="Button1" runat="server" OnClick="Button1_Click" Text="计算长度" /&gt;
            &lt;asp:Label ID="Label1" runat="server"&gt;&lt;/asp:Label&gt;
        &lt;/div&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p><em>Default.aspx.cs</em> 文件的代码 - </p> 
 <pre><code class="lang-aspnet">using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

public partial class _Default : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {

    }

    protected void Button1_Click(object sender, EventArgs e)
    {
        String str = TextBox1.Text;
        String msg = "当前字符串长度为："+(str.Length).ToString();
        Label1.Text = msg;
    }
}
</code></pre> 
 <p>可以在代码行的左侧点击右键插入断点，假设在代码的第17行设置了一个断点，如下 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/0812/651141245_56084.png" alt=""></p> 
 <p>通过点主菜单中的【<em>调试</em>】-&gt;【<em>开始调试</em>】，来启用调试，如下所示 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/0812/201141247_16285.png" alt=""></p> 
 <p>这里启动了网站页面，然后输入一个字符串，并点击提交 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/0812/739141248_88958.png" alt=""></p> 
 <p>也可以通过在<code>web.config</code>中配置以下代码行：</p>   
 <pre><code class="lang-xml">&lt;system.web&gt;
   &lt;compilation debug="true"&gt;
      &lt;assemblies&gt;
      ..............
      &lt;/assemblies&gt;
   &lt;/compilation&gt;
&lt;/system.web&gt;
</code></pre> 
 <p>调试工具栏提供了所有可用于调试的工具。和其它的IDE差不多，多次使用和练习就可以了。</p> 
 <h2 id="h2-u65ADu70B9"><a name="断点" class="reference-link"></a><span class="header-link octicon octicon-link"></span>断点</h2>
 <p>断点指定运行时运行特定的代码行，然后停止执行，以便可以检查代码并执行各种调试工作，例如，更改变量的值，逐步执行代码，移入和移出函数和方法等等。</p> 
 <h2 id="h2-u8C03u8BD5u7A97u53E3"><a name="调试窗口" class="reference-link"></a><span class="header-link octicon octicon-link"></span>调试窗口</h2>
 <p><em>Visual Studio</em>提供了以下调试窗口，每个窗口都显示一些程序信息。下表列出了窗口：</p> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>窗口</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td><code>Immediate</code></td> 
    <td>显示变量和表达式。</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td><code>Autos</code></td> 
    <td>显示当前和之前的语句中的所有变量。</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td><code>Locals</code></td> 
    <td>显示当前上下文中的所有变量。</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td><code>Watch</code></td> 
    <td>最多显示四组不同的变量。</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td><code>Call Stack</code></td> 
    <td>显示调用堆栈中的所有方法。</td> 
   </tr> 
   <tr> 
    <td>6</td> 
    <td><code>Threads</code></td> 
    <td>显示和控制线程。</td> 
   </tr> 
  </tbody> 
 </table>
 <br>      
</div></body></html>