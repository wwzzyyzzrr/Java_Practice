<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">ASP.NET客户端</h1><div style="width:100%;float:left;" class="article-content">   
 <p>ASP.NET客户端编码有两个方面：</p> 
 <ul> 
  <li><p><em>客户端脚本</em>：它运行在浏览器上，进而加速页面的执行。 例如，可以捕获无效数据的客户端数据验证，并相应地警告用户而不进行往返服务器交互。</p> </li>
  <li><p><em>客户端源代码</em>：ASP.NET页面生成这个。 例如，ASP.NET页面的HTML源代码包含许多隐藏的字段，并自动注入了JavaScript代码块，这些代码保留了诸如视图状态之类的信息，或者执行其他工作来使页面工作。</p> </li>
 </ul> 
 <h2 id="h2-u5BA2u6237u7AEFu811Au672C"><a name="客户端脚本" class="reference-link"></a><span class="header-link octicon octicon-link"></span>客户端脚本</h2>
 <p>所有ASP.NET服务器控件都允许调用使用JavaScript或VBScript编写的客户端代码。 一些ASP.NET服务器控件使用客户端脚本来为用户提供响应而不回发给服务器。 例如，验证控件。</p> 
 <p>除了这些脚本之外，<code>Button</code>控件还有一个属性<code>OnClientClick</code>，它允许在单击按钮时执行客户端脚本。</p> 
 <p>传统和服务器HTML控件具有以下事件，可以在引发时执行脚本：</p> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>事件</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td><code>onblur</code></td> 
    <td>当控件失去焦点时触发</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td><code>onfocus</code></td> 
    <td>当控件收到焦点时触发</td> 
   </tr> 
   <tr> 
    <td>3</td> 
    <td><code>onclick</code></td> 
    <td>点击控件时触发</td> 
   </tr> 
   <tr> 
    <td>4</td> 
    <td><code>onchange</code></td> 
    <td>当控件的值改变时触发</td> 
   </tr> 
   <tr> 
    <td>5</td> 
    <td><code>onkeydown</code></td> 
    <td>当用户按下一个键时触发</td> 
   </tr> 
   <tr> 
    <td>6</td> 
    <td><code>onkeypress</code></td> 
    <td>当用户按下字母数字键时</td> 
   </tr> 
   <tr> 
    <td>7</td> 
    <td><code>onkeyup</code></td> 
    <td>当用户释放一个键时</td> 
   </tr> 
   <tr> 
    <td>8</td> 
    <td><code>onmouseover</code></td> 
    <td>当用户将鼠标指针移到控件上时</td> 
   </tr> 
   <tr> 
    <td>9</td> 
    <td><code>onserverclick</code></td> 
    <td>当控件被点击时，它会引发控件的ServerClick事件</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-u5BA2u6237u7AEFu6E90u4EE3u7801"><a name="客户端源代码" class="reference-link"></a><span class="header-link octicon octicon-link"></span>客户端源代码</h2>
 <p>我们已经讨论和学习过了，ASP.NET页面一般都是用两个文件写成的：</p> 
 <ul> 
  <li>内容文件或标记文件(.aspx)</li>
  <li>代码隐藏文件(.cs)</li>
 </ul> 
 <p>内容文件包含HTML或ASP.NET控件标记和文字以形成页面的结构。 文件后面的代码包含类定义。 在运行时，内容文件被解析并转换成页面类。</p> 
 <p>这个类和代码文件中的类定义以及系统生成的代码一起构成处理所有发布数据的可执行代码(程序集)，生成响应并将其发送回客户端。</p> 
 <p>考虑简单的页面：</p> 
 <pre><code class="lang-aspnet">&lt;%@ Page Language="C#" AutoEventWireup="true" CodeBehind="Default.aspx.cs" 
   Inherits="clientside._Default" %&gt;

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;

&lt;html xmlns="http://www.w3.org/1999/xhtml" &gt;

   &lt;head runat="server"&gt;
      &lt;title&gt;
         Untitled Page
      &lt;/title&gt;
   &lt;/head&gt;

   &lt;body&gt;
      &lt;form id="form1" runat="server"&gt;

         &lt;div&gt;
            &lt;asp:TextBox ID="TextBox1" runat="server"&gt;&lt;/asp:TextBox&gt;  
            &lt;asp:Button ID="Button1" runat="server" OnClick="Button1_Click" Text="Click" /&gt;
         &lt;/div&gt;

         &lt;hr /&gt;

         &lt;h3&gt; &lt;asp:Label ID="Msg" runat="server" Text=""&gt; &lt;/asp:Label&gt; &lt;/h3&gt;
      &lt;/form&gt;
   &lt;/body&gt;

&lt;/html&gt;
</code></pre> 
 <p>在浏览器上运行此页面时，“查看源代码”选项将显示ASP.Net运行时发送给浏览器的HTML页面：</p>   
 <pre><code class="lang-html">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;

&lt;html xmlns="http://www.w3.org/1999/xhtml" &gt;

   &lt;head&gt;
      &lt;title&gt;
         Untitled Page
      &lt;/title&gt;
   &lt;/head&gt;

   &lt;body&gt;
      &lt;form name="form1" method="post" action="Default.aspx" id="form1"&gt;

         &lt;div&gt;
            &lt;input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" 
               value="/wEPDwUKMTU5MTA2ODYwOWRk31NudGDgvhhA7joJum9Qn5RxU2M=" /&gt;
         &lt;/div&gt;

         &lt;div&gt;
            &lt;input type="hidden" name="__EVENTVALIDATION"  id="__EVENTVALIDATION" 
               value="/wEWAwKpjZj0DALs0bLrBgKM54rGBhHsyM61rraxE+KnBTCS8cd1QDJ/"/&gt;
         &lt;/div&gt;

         &lt;div&gt;
            &lt;input name="TextBox1" type="text" id="TextBox1" /&gt;  
            &lt;input type="submit" name="Button1" value="Click" id="Button1" /&gt;
         &lt;/div&gt;

         &lt;hr /&gt;
         &lt;h3&gt;&lt;span id="Msg"&gt;&lt;/span&gt;&lt;/h3&gt;

      &lt;/form&gt;
   &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>如果您正确地浏览了代码，可以看到前两个<code>&lt;div&gt;</code>标签包含隐藏的字段，用于存储视图状态和验证信息。</p>
 <br>      
</div></body></html>