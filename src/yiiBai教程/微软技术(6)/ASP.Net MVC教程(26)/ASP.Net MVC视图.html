<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">ASP.Net MVC视图</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在ASP.NET MVC应用程序中，当在URL中指定路径时，可像页面那样但不包含对应的任何内容直接显示给用户。 在ASP.NET MVC应用程序中最接近页面的东西就是视图。</p> 
 <p>在ASP.NET MVC应用程序中，所有传入的浏览器请求都由控制器处理，并将这些请求映射到控制器操作。 控制器操作可能会返回一个视图，或者也可能执行一些其他类型的操作，例如重定向到另一个控制器动作。</p> 
 <p>下面通过创建一个新的ASP.NET MVC项目，来演示如何应用视图的简单例子。<br>打开Visual Studio，然后单击菜单：<em>文件</em> -&gt; <em>新建</em> -&gt; <em>项目</em> 选项。创建一个名称为：<em>MVCViewDemo</em> 的MVC项目。</p> 
 <p>详细创建过程请参考：<a target="_blank" href="http://www.yiibai.com/asp.net_mvc/asp.net_mvc_getting_started.html">http://www.yiibai.com/asp.net_mvc/asp.net_mvc_getting_started.html</a></p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1512/248141250_96859.png" alt=""></p> 
 <p>通过在<em>解决方案资源管理器</em> 中右键单击 <em>Controllers</em> 文件夹来添加一个控件器：<em>HomeController</em>。在弹出菜单项中选择：<em>添加</em> -&gt; <em>控制器</em> 。</p> 
 <p>将在<em>Controllers</em>文件夹中看到一个新的 C# 文件 - <code>HomeController.cs</code>，x在Visual Studio中打开并进行编辑。修改更新<code>HomeController.cs</code>文件中的代码，其中包含两个操作方法，如下面的代码所示。</p> 
 <pre><code class="lang-csharp">using System;
using System.Collections.Generic;
using System.Linq;

using System.Web;
using System.Web.Mvc;

namespace MVCViewDemo.Controllers {
   public class HomeController : Controller{
      // GET: Home
      public ActionResult Index(){
         return View();
      }

      public string Mycontroller(){
         return "Hi, I am a controller";
      }
   }
}
</code></pre> 
 <p>运行这个应用程序，打开浏览器访问：<code>http://localhost:63461/Home/MyController</code>，将收到以下输出结果 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1512/911141257_87788.png" alt=""></p> 
 <p>由于<code>MyController</code>操作只是返回字符串，要从操作返回一个<code>View</code>，需要首先添加一个<code>View</code>。参考以下步骤 - </p> 
 <p><strong>第1步：</strong> 在添加视图之前，添加另一个操作，它将返回一个默认视图。</p> 
 <pre><code class="lang-csharp">using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;

namespace MVCViewDemo.Controllers
{
    public class HomeController : Controller
    {
        // GET: Home
        public ActionResult Index()
        {
            return View();
        }

        public string Mycontroller()
        {
            return "Hi, I am a controller";
        }

        public ActionResult MyView()
        {
            return View();
        }
    }
}
</code></pre> 
 <p>运行这个应用程序，并在浏览器的URL中添加<code>http://localhost:63461/Home/MyView</code>，然后按回车，将收到以下输出。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1512/341151202_37527.png" alt=""></p> 
 <p>在这里看到有一个错误，这个错误实际上是相当具有描述性的，告诉我们它找不到<code>MyView</code>视图。</p> 
 <p><strong>第2步</strong> - 要添加一个视图，右键单击<code>MyView</code>动作(方法)并选择添加视图。如下图所示 -<br><img src="http://www.yiibai.com/uploads/images/201712/1512/630151204_78449.png" alt=""></p> 
 <p>它将显示<em>“添加视图”</em> 对话框，并将添加默认名称。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1512/676151206_88578.png" alt=""></p> 
 <p><strong>第3步</strong> - 取消选中<em>“使用布局页面”</em>复选框，然后单击<em>“添加”</em>按钮。现在新建的这个视图内有默认的代码。如下所示 -<br><img src="http://www.yiibai.com/uploads/images/201712/1512/285151207_79540.png" alt=""></p> 
 <p><strong>第4步</strong> - 使用以下代码在此视图中添加一些文本。</p>   
 <pre><code class="lang-html">@{
   Layout = null;
}

&lt;!DOCTYPE html&gt;
&lt;html&gt;
   &lt;head&gt;
      &lt;meta name = "viewport" content = "width = device-width" /&gt;
      &lt;title&gt;MyView&lt;/title&gt;
   &lt;/head&gt;

   &lt;body&gt;
      &lt;div&gt;
         Hi, I am a view
      &lt;/div&gt;
   &lt;/body&gt;

&lt;/html&gt;
</code></pre> 
 <p><strong>第5步 </strong>- 运行该应用程序，并将打开浏览器访问URL：<code>http://localhost:63461/Home/MyView</code>， 将收到以下输出。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1512/696151211_62886.png" alt=""></p>
 <br>      
</div></body></html>