<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">.NET Core代码执行</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在本章中，我们将了解.NET Core的执行过程，并将其与.NET Framework进行比较。被管理的执行过程包括以下步骤。</p> 
 <ul> 
  <li>选择一个编译器</li>
  <li>编译代码成MSIL</li>
  <li>将MSIL编译为本地代码</li>
  <li>运行代码</li>
 </ul> 
 <blockquote> 
  <p>注：感觉有点像Java的机制了。</p> 
 </blockquote> 
 <p>参考下图中的流程 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1112/653101247_61641.jpg" alt=""></p> 
 <h4 id="h4-1-"><a name="1. 选择一个编译器" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1. 选择一个编译器</h4>
 <ul> 
  <li>它是一个多语言执行环境，运行时支持各种数据类型和语言功能。</li>
  <li>要获得公共语言运行时提供的好处，必须使用一个或多个定位运行时的语言编译器。</li>
 </ul> 
 <h4 id="h4-2-msil"><a name="2. 编译代码成MSIL" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2. 编译代码成MSIL</h4>
 <ul> 
  <li>编译将您的源代码翻译成Microsoft中间语言(MSIL)并生成所需的元数据。</li>
  <li>元数据描述了代码中的类型，包括每种类型的定义，每种类型成员的签名，代码引用的成员以及运行时在执行时使用的其他数据。</li>
  <li>运行时在执行过程中根据需要从文件以及框架类库(FCL)中查找和提取元数据。</li>
 </ul> 
 <h4 id="h4-3-msil-"><a name="3. 将MSIL编译为本地代码" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3. 将MSIL编译为本地代码</h4>
 <ul> 
  <li>在执行时，即时(JIT)编译器将MSIL转换为本地代码。</li>
  <li>在编译期间，代码必须通过验证过程，检查MSIL和元数据，以确定代码是否可以被确定为类型安全的。</li>
 </ul> 
 <h4 id="h4-4-"><a name="4. 运行代码" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4. 运行代码</h4>
 <ul> 
  <li>公共语言运行库提供了执行过程的基础结构和执行过程中可以使用的服务。</li>
  <li>在执行期间，托管代码接收垃圾收集，安全性，与非托管代码的互操作性，跨语言调试支持以及增强的部署和版本支持等服务。</li>
 </ul> 
 <h2 id="h2--net-core-"><a name=".NET Core代码执行过程" class="reference-link"></a><span class="header-link octicon octicon-link"></span>.NET Core代码执行过程</h2>
 <p>现在来看看一下如何使用.NET Core与.NET Framework进行代码执行。在.NET Core中，这些组件的很多替代品都是.NET Framework的一部分。执行流程图如下所示 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201712/1112/681101252_92511.jpg" alt=""></p> 
 <ul> 
  <li>现在在.NET Core中，我们有了一个新的编译器系列，就像用于 C# 和VB的Roslyn一样。</li>
  <li>如果想在.NET Core中使用F#，也可以使用新的F# 4.1编译器。</li>
  <li>实际上，这些工具是不同的，如果使用C# 6或更高版本，也可以使用Roslyn和.NET Framework，因为C#编译器最多只能支持C# 5。</li>
  <li>在.NET Core中，没有框架类库(FCL)，所以使用了一组不同的库，现在有了CoreFx。</li>
  <li>CoreFx是.NET Core的类库的重新实现。</li>
  <li>也有一个新的运行时间与.NET Core CoreCLR，并利用JIT编译器。</li>
 </ul>
 <br>      
</div></body></html>