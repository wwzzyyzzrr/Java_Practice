<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Thymeleaf字符串连接</h1><div style="width:100%;float:left;" class="article-content">   
 <p>本文章将介绍Thymeleaf标准表达式语法中的概念。</p> 
 <ul> 
  <li>学习如何在Thymeleaf模板中显示对象(Bean)的属性值。</li>
  <li>已经将<code>Product</code>类的bean已经设置为名称为<code>product</code>的上下文模型。</li>
  <li>为这些<code>Integer</code>和<code>Date</code>属性添加一些格式，学习使用字符串相连接输出。</li>
  <li>最后，修改模板以获得一个合理的静态原型(例如，通过一些原型数据替换并显示结果)。</li>
 </ul> 
 <p>如果要上机实践，请参考:<a target="_blank" href="https://www.yiibai.com/thymeleaf/thymeleaf-springmvc5.html" title="Thymeleaf+SpringMVC5示例项目">Thymeleaf+SpringMVC5示例项目</a>。这里不再重复创建项目的过程，这里将只介绍如何使用<code>Thymeleaf</code>标准表达式和标签。</p> 
 <p>这里创建一个Maven Web项目: <em>thymeleaf-tutorials</em> ，其目录结构如下所示 -<br><img src="http://www.yiibai.com/uploads/images/201802/1402/876150238_78276.png" alt=""></p> 
 <p>Bean类的实现:<em>Product.java</em> - </p> 
 <pre><code class="lang-java">package com.yiibai.spring.bean;

import java.util.Date;

public class Product {

    private String description;
    private Integer price;
    private Date availableFrom;

    public Product(final String description, final Integer price, final Date availableFrom) {
        this.description = description;
        this.price = price;
        this.availableFrom = availableFrom;
    }

    public Date getAvailableFrom() {
        return this.availableFrom;
    }

    public void setAvailableFrom(final Date availableFrom) {
        this.availableFrom = availableFrom;
    }

    public String getDescription() {
        return this.description;
    }

    public void setDescription(final String description) {
        this.description = description;
    }

    public Integer getPrice() {
        return this.price;
    }

    public void setPrice(final Integer price) {
        this.price = price;
    }

}
</code></pre> 
 <p>控制器类的实现:<em>MyController.java</em> - </p> 
 <pre><code class="lang-java">package com.yiibai.spring.controller;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import com.yiibai.spring.bean.Product;

@Controller
public class MyController {

   @GetMapping("/")
   public String index(Model model) throws ParseException {
       SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
      Product product = new Product("花生油", 129, sdf.parse("2018-02-18"));
      model.addAttribute("product", product);
      return "index";
   }
}
</code></pre> 
 <p>模板文件的实现:<em>/webapp/WEB-INFO/views/index.html</em> - </p>   
 <pre><code class="lang-html">&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
 &lt;link rel="stylesheet" th:href="@{/css/main.css}" /&gt;
&lt;title&gt;SpringMVC5+Thymeleaf示例&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;Spring MVC5 + Thymeleaf 字符串连接&lt;/h2&gt;

    &lt;h2&gt;产品信息&lt;/h2&gt;
    &lt;dl&gt;
        &lt;dt&gt;产品名称:&lt;/dt&gt;
        &lt;dd th:text="${product.description}"&gt;葡萄干&lt;/dd&gt;

        &lt;dt&gt;产品价格:&lt;/dt&gt;
        &lt;dd th:text="${'￥' + #numbers.formatDecimal(product.price, 1, 2)}"&gt;350&lt;/dd&gt;

        &lt;dt&gt;产品有效时间:&lt;/dt&gt;
        &lt;dd th:text="${#dates.format(product.availableFrom, 'yyyy-MM-dd')}"&gt;28-Jun-2018&lt;/dd&gt;
    &lt;/dl&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>运行上面项目，在浏览器中显示效果如下 -<br><img src="http://www.yiibai.com/uploads/images/201802/1402/874160220_11205.png" alt=""></p>
 <br>      
</div></body></html>