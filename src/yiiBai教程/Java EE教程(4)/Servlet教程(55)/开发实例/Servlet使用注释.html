<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Servlet使用注释</h1><div style="width:100%;float:left;" class="article-content">   
 <p>注释表示元数据。 如果使用注释，则不需要部署描述符(<em>web.xml</em>文件)。但是应该在<code>tomcat7</code>以上版本中部署运行，<code>tomcat7</code>之前的版本是不支持注解的。 <code><a target="_blank" href="https://github.com/WebServlet" title="@WebServlet" class="at-link">@WebServlet</a></code>注释用于将servlet映射到指定的名称，这是Servlet3的特性，所以在创建项目时要指定Servlet的版本为<code>3.0</code>以上。</p> 
 <p>在前面几个项目示例中，我们已经使用过了 <code><a target="_blank" href="https://github.com/WebServlet" title="@WebServlet" class="at-link">@WebServlet</a></code>注释，如：</p> 
 <ul> 
  <li><a target="_blank" href="http://www.yiibai.com/servlet/pagination-in-servlet.html" title="Servlet分页示例">Servlet分页示例</a></li>
  <li><a target="_blank" href="http://www.yiibai.com/servlet/crud-in-servlet.html" title="Servlet增删改查示例">Servlet增删改查示例</a></li>
 </ul> 
 <h2 id="h2--servlet-"><a name="使用注释的简单servlet示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>使用注释的简单servlet示例</h2>
 <p>这个示例中演示如何使用带有注释的servlet。</p> 
 <p>打开Eclipse，创建一个动态Web项目：<em>ServletWithAnnotation</em>，其完整的目录结构如下所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201710/1510/804211014_60798.png" alt=""></p> 
 <blockquote> 
  <p>注意：创建项目选择<em>Dynamic web module version</em>的版本是：<em>3.0</em>以上。<br><img src="http://www.yiibai.com/uploads/images/201710/1510/406181013_97903.png" alt=""></p> 
 </blockquote> 
 <p>以下是这个项目中的几个主要的代码文件。</p> 
 <p>文件：<em>index.html</em> - </p> 
 <pre><code class="lang-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;Servlet注解实现模式&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div style="text-align:center;"&gt;
        &lt;a href="Simple"&gt;查看Servlet注解示例&lt;/a&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>文件：<em>Sample.java</em> - </p> 
 <pre><code class="lang-java">package com.yiibai;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

/**
 * Servlet implementation class Simple
 */
@WebServlet("/Simple")
public class Simple extends HttpServlet {
    private static final long serialVersionUID = 1L;

    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {

        response.setCharacterEncoding("UTF-8");
        response.setContentType("text/html;charset=UTF-8");
        request.setCharacterEncoding("UTF-8");
        PrintWriter out = response.getWriter();

        out.print("&lt;html&gt;&lt;body&gt;");
        out.print("&lt;div style='text-align:center;'&gt;&lt;h3&gt;Hello Servlet&lt;/h3&gt;");
        out.print("&lt;p&gt;这是使用Servlet注解实现模式URL映射的配置示例&lt;/p&gt;&lt;/div&gt;");
        out.print("&lt;/body&gt;&lt;/html&gt;");
    }
}
</code></pre> 
 <blockquote> 
  <p>注意： 不需要配置<code>web.xml</code></p> 
 </blockquote> 
 <p>在编写上面代码后，部署此Web应用程序(在项目名称上点击右键-&gt;”Run On Server…”)，打开浏览器访问URL： <a target="_blank" href="http://localhost:8080/ServletWithAnnotation/">http://localhost:8080/ServletWithAnnotation/</a> ，如果没有错误，应该会看到以下结果 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201710/1510/958211017_83244.png" alt=""></p> 
 <p>点击链接，显示结果如下 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201710/1510/937211018_90139.png" alt=""></p>
 <br>      
</div></body></html>