<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Servlet过滤器示例</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在本节中，给出了一个有用的过滤器示例。</p> 
 <p>这是一个仅通过过滤器发送响应的示例 - </p> 
 <p>文件：<em>MyFilter.java</em></p> 
 <pre><code class="lang-java">import java.io.*;  
import javax.servlet.*;  

public class MyFilter implements Filter{  
    public void init(FilterConfig arg0) throws ServletException {}  

    public void doFilter(ServletRequest req, ServletResponse res,  
            FilterChain chain) throws IOException, ServletException {  

        PrintWriter out=res.getWriter();  

        out.print("&lt;br/&gt;this site is underconstruction..");  
        out.close();  

    }  
    public void destroy() {}  
}
</code></pre> 
 <p>计算单页访问次数的示例</p> 
 <p>文件：<em>MyFilter.java</em></p> 
 <pre><code class="lang-java">import java.io.*;  
import javax.servlet.*;  

public class MyFilter implements Filter{  
    static int count=0;  
    public void init(FilterConfig arg0) throws ServletException {}  

    public void doFilter(ServletRequest req, ServletResponse res,  
            FilterChain chain) throws IOException, ServletException {  

        PrintWriter out=res.getWriter();  
        chain.doFilter(request,response);  

        out.print("&lt;br/&gt;Total visitors "+(++count));  
        out.close();  

    }  
    public void destroy() {}  
}
</code></pre> 
 <p>在过滤器中检查总响应时间的示例</p> 
 <p>文件：<em>MyFilter.java</em></p>   
 <pre><code class="lang-java">import java.io.*;  
import javax.servlet.*;  

public class MyFilter implements Filter{  
    static int count=0;  
    public void init(FilterConfig arg0) throws ServletException {}  

    public void doFilter(ServletRequest req, ServletResponse res,  
            FilterChain chain) throws IOException, ServletException {  

        PrintWriter out=res.getWriter();  
        long before=System.currentTimeMillis();  

        chain.doFilter(request,response);  

        long after=System.currentTimeMillis();  
        out.print("&lt;br/&gt;Total response time "+(after-before)+" miliseconds");  
        out.close();  

    }  
    public void destroy() {}  
}
</code></pre>
 <br>      
</div></body></html>