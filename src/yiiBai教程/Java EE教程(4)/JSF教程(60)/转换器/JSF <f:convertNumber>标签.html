<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">JSF &lt;f:convertNumber&gt;标签</h1><div style="width:100%;float:left;" class="article-content">   
 <p><code>&lt;f:convertNumber&gt;</code>标签用于将字符串值转换为所需格式的数量。以下代码显示如何使用<code>&lt;f:convertNumber&gt;</code>标签</p> 
 <pre><code class="lang-html">&lt;f:convertNumber minFractionDigits="2" /&gt;
</code></pre> 
 <h2 id="h2-u6807u7B7Eu5C5Eu6027"><a name="标签属性" class="reference-link"></a><span class="header-link octicon octicon-link"></span>标签属性</h2>
 <table> 
  <thead> 
   <tr> 
    <th>属性</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>type</td> 
    <td>数字(默认)，货币或百分比</td> 
   </tr> 
   <tr> 
    <td>pattern</td> 
    <td>格式化模式，如在<code>java.text.DecimalFormat</code>中定义的</td> 
   </tr> 
   <tr> 
    <td>maxFractionDigits</td> 
    <td>小数部分中的最大位数</td> 
   </tr> 
   <tr> 
    <td>minFractionDigits</td> 
    <td>小数部分中的最小位数</td> 
   </tr> 
   <tr> 
    <td>maxIntegerDigits</td> 
    <td>整数部分的最大位数</td> 
   </tr> 
   <tr> 
    <td>minIntegerDigits</td> 
    <td>整数部分的最小位数</td> 
   </tr> 
   <tr> 
    <td>integerOnly</td> 
    <td>如果只解析整数部分，则为<code>true</code>(默认值：<code>false</code>)</td> 
   </tr> 
   <tr> 
    <td>groupingUsed</td> 
    <td>如果使用分组分隔符，则为<code>false</code>(默认值为<code>true</code>)</td> 
   </tr> 
   <tr> 
    <td>locale</td> 
    <td>用于分析和格式化的首选项的区域设置</td> 
   </tr> 
   <tr> 
    <td>currencyCode</td> 
    <td>转换货币值时使用的ISO 4217货币代码</td> 
   </tr> 
   <tr> 
    <td>currencySymbol</td> 
    <td>转换货币值时使用的货币符号</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-u5B9Eu4F8B"><a name="实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例</h2>
 <p>以下是文件：<em>index.xhtml</em> 中的代码 - </p> 
 <pre><code class="lang-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      &gt;
    &lt;h:body&gt;    
    &lt;h:form&gt;
      &lt;h:panelGrid columns="3"&gt;
        Amount : 
        &lt;h:inputText id="amount" value="#{receipt.amount}" 
          size="20" required="true"
          label="Amount" &gt;
          &lt;!-- display in at least 2 decimal points --&gt;
          &lt;f:convertNumber minFractionDigits="2" /&gt;
        &lt;/h:inputText&gt;
        &lt;h:message for="amount" style="color:red" /&gt;
      &lt;/h:panelGrid&gt;
      &lt;h:commandButton value="Submit" action="result" /&gt;
    &lt;/h:form&gt;

    &lt;/h:body&gt;
&lt;/html&gt;
</code></pre> 
 <p>以下是文件：<em>result.xhtml</em> 中的代码 - </p> 
 <pre><code class="lang-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      &gt;
    &lt;h:body&gt;
    &lt;p&gt;
      Amount [minFractionDigits="2"] : 
      &lt;h:outputText value="#{receipt.amount}" &gt;
        &lt;f:convertNumber minFractionDigits="2" /&gt;
      &lt;/h:outputText&gt;
    &lt;/p&gt;
    &lt;p&gt;
      Amount [pattern="#0.000"] : 
      &lt;h:outputText value="#{receipt.amount}" &gt;
        &lt;f:convertNumber pattern="#0.000" /&gt;
      &lt;/h:outputText&gt;
    &lt;/p&gt;
    &lt;p&gt;
      Amount [currencySymbol="$"] : 
      &lt;h:outputText value="#{receipt.amount}"&gt;
        &lt;f:convertNumber currencySymbol="$" type="currency" /&gt;
      &lt;/h:outputText&gt;
    &lt;/p&gt;
    &lt;p&gt;
      Amount [currencyCode="GBP"] : 
      &lt;h:outputText value="#{receipt.amount}" &gt;
        &lt;f:convertNumber currencyCode="GBP" type="currency" /&gt;
      &lt;/h:outputText&gt;
    &lt;/p&gt;
    &lt;p&gt;
      Amount [type="percent"] : 
      &lt;h:outputText value="#{receipt.amount}" &gt;
        &lt;f:convertNumber type="percent" /&gt;
      &lt;/h:outputText&gt;
    &lt;/p&gt;
    &lt;/h:body&gt;
&lt;/html&gt;
</code></pre> 
 <p>以下是文件：<em>UserBean.java</em> 中的代码 - </p>   
 <pre><code class="lang-java">package com.yiibai;

import java.io.Serializable;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;

@ManagedBean(name="receipt")
@SessionScoped
public class UserBean implements Serializable{

  double amount;

  public double getAmount() {
    return amount;
  }

  public void setAmount(double amount) {
    this.amount = amount;
  }

}
</code></pre> 
 <h2 id="h2-u8FD0u884Cu6D4Bu8BD5"><a name="运行测试" class="reference-link"></a><span class="header-link octicon octicon-link"></span>运行测试</h2>
 <p>打开 <strong>Netbeans</strong>创建一个Web工程：<strong>ConvertNumber</strong>，并使用上面列出的文件代码。运行项目，在Tomcat启动完成后，在浏览器地址栏中输入以下URL。</p> 
 <pre><code>http://localhost:8084/ConvertNumber
</code></pre>
 <p>如果程序没有错误，应该会看到如下结果 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/2504/993170452_22434.png" alt=""></p> 
 <p>在输入框中填入 <code>999.98</code> 然后提交，应该会看到如下结果 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/2504/626170454_36930.png" alt=""></p>
 <br>      
</div></body></html>