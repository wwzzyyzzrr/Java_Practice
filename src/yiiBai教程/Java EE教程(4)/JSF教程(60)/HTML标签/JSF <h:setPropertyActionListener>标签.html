<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">JSF &lt;h:setPropertyActionListener&gt;标签</h1><div style="width:100%;float:left;" class="article-content">   
 <p><code>&lt;h:setPropertyActionListener&gt;</code>标签向一个将<code>bean</code>属性设置为给定值的组件添加了一个<code>actionlistener</code>。<br>以下代码显示如何使用<code>&lt;f:setPropertyActionListener&gt;</code>标签。</p> 
 <pre><code class="lang-html">&lt;h:commandButton id="submit" action="result" value="Show Message"&gt; 
   &lt;f:setPropertyActionListener target="#{userData.data}" 
      value="JSF 2.0 User" /&gt;
&lt;/h:commandButton&gt;
</code></pre> 
 <h2 id="h2-u5B9Eu4F8B"><a name="实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例</h2>
 <p>以下是文件：<em>UserBean.java</em> 中的代码。</p> 
 <pre><code class="lang-java">package com.yiibai.common;

import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;

@ManagedBean(name="user")
@SessionScoped
public class UserBean{

  public String username;

  public String outcome(){
    return "result";
  }

  public String getUsername() {
    return username;
  }

  public void setUsername(String username) {
    this.username = username;
  }

}
</code></pre> 
 <p>以下是文件：<em>index.xhtml</em> 中的代码 -</p> 
 <pre><code class="lang-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      &gt;
    &lt;h:body&gt;
        &lt;h:form id="form"&gt;
            &lt;h:commandButton action="#{user.outcome}" value="Click Me"&gt;
                &lt;f:setPropertyActionListener target="#{user.username}" value="yiibai" /&gt;
            &lt;/h:commandButton&gt;
        &lt;/h:form&gt;
    &lt;/h:body&gt;
&lt;/html&gt;
</code></pre> 
 <p>以下是文件：<em>result.xhtml</em> 中的代码 -</p>   
 <pre><code class="lang-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      &gt;

    &lt;h:body&gt;

        &lt;h1&gt;JSF 2 setPropertyActionListener example&lt;/h1&gt;

        #{user.username}

    &lt;/h:body&gt;

&lt;/html&gt;
</code></pre> 
 <h2 id="h2-u8FD0u884Cu6D4Bu8BD5"><a name="运行测试" class="reference-link"></a><span class="header-link octicon octicon-link"></span>运行测试</h2>
 <p>打开 <strong>NetBeans</strong> 创建一个名称为： <em>setPropertyActionListener</em> 的Web工程，并使用上面文件代码。运行项目，打开浏览器访问以下网址：</p> 
 <pre><code>http://localhost:8084/setPropertyActionListener
</code></pre>
 <p>如果没有错误，应该会看到以下结果 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/2504/846170403_39910.png" alt=""></p> 
 <p>点击“Click Me”按钮，结果如下 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/2504/509170404_88070.png" alt=""></p>
 <br>      
</div></body></html>