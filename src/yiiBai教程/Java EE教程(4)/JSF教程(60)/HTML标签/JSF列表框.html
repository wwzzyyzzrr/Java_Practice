<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">JSF列表框</h1><div style="width:100%;float:left;" class="article-content">   
 <p>以下部分介绍如何在JSF中创建ListBox(JSF表列表框)。<code>&lt;h:selectOneListbox&gt;</code>标签呈现指定大小的“<code>select</code>”类型的HTML输入元素。</p> 
 <p>以下JSF代码 - </p> 
 <pre><code class="lang-html">&lt;h:selectOneListbox value="#{userData.data}"&gt;
   &lt;f:selectItem itemValue="1" itemLabel="Item 1" /&gt;
   &lt;f:selectItem itemValue="2" itemLabel="Item 2" /&gt;                   
&lt;/h:selectOneListbox&gt;
</code></pre> 
 <p>被渲染成以下HTML标签-</p> 
 <pre><code class="lang-html">&lt;select name="j_idt6:j_idt8" size="2"&gt;  
   &lt;option value="1"&gt;Item 1&lt;/option&gt;
   &lt;option value="2"&gt;Item 2&lt;/option&gt;
&lt;/select&gt;
</code></pre> 
 <h2 id="h2-u786Cu7F16u7801u5B9Eu4F8Bu8868u5217u8868u6846"><a name="硬编码实例表列表框" class="reference-link"></a><span class="header-link octicon octicon-link"></span>硬编码实例表列表框</h2>
 <p>以下是文件：<em>UserBean.java</em> 中的代码 - </p> 
 <pre><code class="lang-java">package com.yiibai.common;

import java.io.Serializable;
import java.util.LinkedHashMap;
import java.util.Map;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;

@ManagedBean(name="user")
@SessionScoped
public class UserBean implements Serializable{
  public String item;

  public String getItem() {
    return item;
  }

  public void setItem(String i) {
    this.item = i;
  }    
}
</code></pre> 
 <p>以下是文件：<em>index.xhtml</em> 中的代码 - </p> 
 <pre><code class="lang-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"&gt;
    &lt;h:body&gt;
      &lt;h:form&gt;
        Hard-coded with "f:selectItem" : 
       &lt;h:selectOneListbox value="#{user.item}"&gt;
         &lt;f:selectItem itemValue="1" itemLabel="item 1" /&gt;
         &lt;f:selectItem itemValue="2" itemLabel="item 2" /&gt;
         &lt;f:selectItem itemValue="3" itemLabel="item 3" /&gt;
       &lt;/h:selectOneListbox&gt;

    &lt;br /&gt;&lt;br /&gt;
      &lt;h:commandButton value="Submit" action="result" /&gt;
    &lt;h:commandButton value="Reset" type="reset" /&gt;
      &lt;/h:form&gt;
    &lt;/h:body&gt;
&lt;/html&gt;
</code></pre> 
 <p>以下是文件：<em>result.xhtml</em> 中的代码 - </p> 
 <pre><code class="lang-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"&gt;
&lt;h:body&gt;
  &lt;p&gt;Selected: #{user.item}&lt;/p&gt;
&lt;/h:body&gt;
&lt;/html&gt;
</code></pre> 
 <h2 id="h2-u7531u6620u5C04u751Fu6210u7684u5217u8868u6846"><a name="由映射生成的列表框" class="reference-link"></a><span class="header-link octicon octicon-link"></span>由映射生成的列表框</h2>
 <p>以下是文件：<em>result.xhtml</em>中的代码 - </p> 
 <pre><code class="lang-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"&gt;
&lt;h:body&gt;
  &lt;p&gt;Selected: #{user.item}&lt;/p&gt;
&lt;/h:body&gt;
&lt;/html&gt;
</code></pre> 
 <p>以下是文件：<em>UserBean.java</em> 中的代码 - </p> 
 <pre><code class="lang-java">package com.yiibai;

import java.io.Serializable;
import java.util.LinkedHashMap;
import java.util.Map;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;

@ManagedBean(name="user")
@SessionScoped
public class UserBean implements Serializable{
  public String item;

  public String getItem() {
    return item;
  }

  public void setItem(String i) {
    this.item = i;
  }  
  //Generated by Map
  private static Map&lt;String,Object&gt; itemValue;
  static{
    itemValue = new LinkedHashMap&lt;String,Object&gt;();
    itemValue.put("Item 1", "1"); //label, value
    itemValue.put("Item 2", "2");
    itemValue.put("Item 3", "3");
  }  
  public Map&lt;String,Object&gt; getItemValue() {
    return itemValue;
  }    
}
</code></pre> 
 <p> 以下是文件：<em>index.xhtml</em> 中的代码 - </p> 
 <pre><code class="lang-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"&gt;
    &lt;h:body&gt;
      &lt;h:form&gt;
        Generated by Map :
       &lt;h:selectOneListbox value="#{user.item}"&gt;
         &lt;f:selectItems value="#{user.itemValue}" /&gt;
       &lt;/h:selectOneListbox&gt;

    &lt;br /&gt;&lt;br /&gt;
      &lt;h:commandButton value="Submit" action="result" /&gt;
    &lt;h:commandButton value="Reset" type="reset" /&gt;
      &lt;/h:form&gt;
    &lt;/h:body&gt;
&lt;/html&gt;
</code></pre> 
 <h2 id="h2--istbox-"><a name="内部类istBox实现列表框" class="reference-link"></a><span class="header-link octicon octicon-link"></span>内部类istBox实现列表框</h2>
 <p>以下是文件：<em>UserBean.java</em> 中的代码 - </p>   
 <pre><code class="lang-java">package com.yiibai;

import java.io.Serializable;
import java.util.LinkedHashMap;
import java.util.Map;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;

@ManagedBean(name="user")
@SessionScoped
public class UserBean implements Serializable{
  public String item;

  public String getItem() {
    return item;
  }

  public void setItem(String i) {
    this.item = i;
  }  
  public static class Item{
    public String label;
    public String value;

    public Item(String l, String v){
      this.label = l;
      this.value = v;
    }

    public String getLabel(){
      return label;
    }

    public String getValue(){
      return value;
    }

  }
  public Item[] itemList;

  public Item[] getItemValue() {
    itemList = new Item[3];
    itemList[0] = new Item("item - 1", "1");
    itemList[1] = new Item("item - 2", "2");
    itemList[2] = new Item("item - 3", "3");

    return itemList;
  }    
}
</code></pre> 
 <p>以下是文件：<em>result.xhtml</em> 中的代码 - </p> 
 <pre><code class="lang-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"&gt;
&lt;h:body&gt;
  &lt;p&gt;Selected: #{user.item}&lt;/p&gt;
&lt;/h:body&gt;
&lt;/html&gt;
</code></pre> 
 <p>以下是文件：<em>index.xhtml</em> 中的代码 - </p> 
 <pre><code class="lang-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"&gt;
    &lt;h:body&gt;
      &lt;h:form&gt;
        Generated by Object array and iterate with var :
       &lt;h:selectOneListbox value="#{user.item}"&gt;
         &lt;f:selectItems value="#{user.itemValue}" var="y"
         itemLabel="#{y.label}" itemValue="#{y.value}" /&gt;
       &lt;/h:selectOneListbox&gt;

    &lt;br /&gt;&lt;br /&gt;
      &lt;h:commandButton value="Submit" action="result" /&gt;
    &lt;h:commandButton value="Reset" type="reset" /&gt;
      &lt;/h:form&gt;
    &lt;/h:body&gt;
&lt;/html&gt;
</code></pre>
 <br>      
</div></body></html>