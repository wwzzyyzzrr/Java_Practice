<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">JSF &lt;f:ajax&gt;标签</h1><div style="width:100%;float:left;" class="article-content">   
 <p>AJAX代表异步JavaScript和Xml。 这是一种使用JavaScript的HTTPXMLObject技术来将数据发送到服务器并从服务器异步接收数据。</p> 
 <p>在Ajax中，Javascript代码与服务器交换数据，更新网页的部分，而无需重新加载整个页面。</p> 
 <p>JSF支持使用<code>f:ajax</code>标签进行Ajax调用。</p> 
 <p>下面显示了一个简单的JSF标签。</p> 
 <pre><code class="lang-html">&lt;f:ajax execute="input-component-name" render="output-component-name" /&gt;
</code></pre> 
 <h2 id="h2-u6807u7B7Eu5C5Eu6027"><a name="标签属性" class="reference-link"></a><span class="header-link octicon octicon-link"></span>标签属性</h2>
 <table> 
  <thead> 
   <tr> 
    <th>属性</th> 
    <th>说明</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>disabled</td> 
    <td>如果为<code>true</code>，则Ajax行为将应用于任何父组件或子组件。 如果为<code>false</code>，则Ajax行为将被禁用。</td> 
   </tr> 
   <tr> 
    <td>event</td> 
    <td>将调用Ajax请求的事件，例如： “<code>click</code>“, “<code>change</code>“, “<code>blur</code>“, “<code>keypress</code>“等。</td> 
   </tr> 
   <tr> 
    <td>execute</td> 
    <td>应该包含在Ajax请求中的组件的空格分隔的列表。</td> 
   </tr> 
   <tr> 
    <td>immediate</td> 
    <td>如果为<code>true</code>，则在应用请求值阶段期间广播生成的行为事件。 否则，将在调用应用阶段广播事件。</td> 
   </tr> 
   <tr> 
    <td>listener</td> 
    <td>在Ajax请求期间调用的后备<code>bean</code>中的方法的<code>EL</code>表达式。</td> 
   </tr> 
   <tr> 
    <td>onerror</td> 
    <td>Ajax请求期间发生错误的JavaScript回调函数的名称。</td> 
   </tr> 
   <tr> 
    <td>onevent</td> 
    <td>用于处理UI事件的JavaScript回调函数的名称。</td> 
   </tr> 
   <tr> 
    <td>render</td> 
    <td>Ajax请求后将更新的组件ID的空格分隔列表。</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-u793Au4F8B"><a name="示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例</h2>
 <p>以下代码显示了如何使用<code>&lt;h:outputText&gt;</code>标签来创建一个Ajax应用程序来显示用户输入。</p> 
 <p>以下是文件：<code>UserBean.java</code>的代码，如下所示 -</p> 
 <pre><code class="lang-java">package com.yiibai;

import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;

import java.io.Serializable;

@ManagedBean
@SessionScoped
public class UserBean implements Serializable {

  private static final long serialVersionUID = 1L;

  private String name;

  public String getName() {
    return name;
  }

  public void setName(String name) {
    this.name = name;
  }

  public String getSayWelcome(){
    if("".equals(name) || name ==null){
      return "Null Message";
    }else{
      return "Ajax message : Welcome " + name;
    }
  }

}
</code></pre> 
 <p>以下是文件：<em>index.xhtml</em> 中的代码 - </p> 
 <p><code>&lt;h:inputText&gt;</code>创建一个输入字段框。创建一个输入字段框。 它使用
  <h:commandbutton>
   来调用
   <f:ajax>
    。
   </f:ajax>
  </h:commandbutton></p>   
 <pre><code class="lang-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html"&gt;

    &lt;h:body&gt;
      &lt;h:form&gt;
        &lt;h:inputText id="name" value="#{userBean.name}"&gt;&lt;/h:inputText&gt;
        &lt;h:commandButton value="Welcome Me"&gt;
           &lt;f:ajax execute="name" render="output" /&gt;
        &lt;/h:commandButton&gt;
        &lt;h2&gt;&lt;h:outputText id="output" value="#{userBean.sayWelcome}" /&gt;&lt;/h2&gt;
      &lt;/h:form&gt;
  &lt;/h:body&gt;
&lt;/html&gt;
</code></pre> 
 <h2 id="h2-u8FD0u884Cu9879u76EE"><a name="运行项目" class="reference-link"></a><span class="header-link octicon octicon-link"></span>运行项目</h2>
 <p>Tomcat启动完成后，在浏览器地址栏中输入以下URL。</p> 
 <pre><code>http://localhost:8084/AjaxHelloWorld
</code></pre>
 <p>得到如下结果 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/2404/904120401_94719.png" alt=""></p>
 <br>      
</div></body></html>