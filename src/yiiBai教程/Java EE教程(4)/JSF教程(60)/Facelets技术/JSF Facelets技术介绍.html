<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">JSF Facelets技术介绍</h1><div style="width:100%;float:left;" class="article-content">   
 <p><strong>Facelets</strong>是一种轻量级的页面声明语言，用于使用HTML样式构建JSF(JavaServer Faces)视图。</p> 
 <p>它包括以下功能：</p> 
 <ul> 
  <li>它使用XHTML创建网页。</li>
  <li>除了支持JavaServer Faces和JSTL标记库之外，它还支持Facelets标签库。</li>
  <li>它支持表达语言(EL)。</li>
  <li>它是使用组件和页面的模板。</li>
 </ul> 
 <p><strong>优点</strong></p> 
 <ul> 
  <li>它通过模板和复合组件支持代码可重用性。</li>
  <li>它通过定制提供组件和其他服务器端对象的功能可扩展性。</li>
  <li>编译时间更快</li>
  <li>它在编译时验证表达式语言。</li>
  <li>高性能渲染能力。</li>
 </ul> 
 <p>JSF(JavaServer Faces)技术支持各种标签库，以将组件添加到网页。 为了支持JavaServer Faces标签库机制，Facelets使用XML命名空间声明。</p> 
 <p>下表显示了Facelets支持的标签库。</p> 
 <table> 
  <thead> 
   <tr> 
    <th>标签库</th> 
    <th>URI</th> 
    <th>前缀</th> 
    <th>示例</th> 
    <th>内容</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>JSF Facelets标签库</td> 
    <td><a target="_blank" href="http://xmlns.jcp.org/jsf/facelets">http://xmlns.jcp.org/jsf/facelets</a></td> 
    <td><code>ui:</code></td> 
    <td><code>ui:component</code>，<code>ui:insert</code></td> 
    <td>模板标签</td> 
   </tr> 
   <tr> 
    <td>JSF HTML标签库</td> 
    <td><a target="_blank" href="http://xmlns.jcp.org/jsf/html">http://xmlns.jcp.org/jsf/html</a></td> 
    <td><code>h:</code></td> 
    <td><code>h:head</code>,<code>h:body</code></td> 
    <td>所有UI组件对象的JavaServer Faces组件标记</td> 
   </tr> 
   <tr> 
    <td>JSF核心标签库</td> 
    <td><a target="_blank" href="http://xmlns.jcp.org/jsf/core">http://xmlns.jcp.org/jsf/core</a></td> 
    <td><code>f:</code></td> 
    <td><code>f:actionListener</code>, <code>f:attribute</code></td> 
    <td>JSF标签独立于任何特定渲染工具包的自定义操作</td> 
   </tr> 
   <tr> 
    <td>传递元素标签库</td> 
    <td><a target="_blank" href="http://xmlns.jcp.org/jsf">http://xmlns.jcp.org/jsf</a></td> 
    <td><code>jsf:</code></td> 
    <td><code>jsf:id</code></td> 
    <td>支持HTML5友好标记的标签</td> 
   </tr> 
   <tr> 
    <td>传递属性标签库</td> 
    <td><a target="_blank" href="http://xmlns.jcp.org/jsf/passthrough">http://xmlns.jcp.org/jsf/passthrough</a></td> 
    <td><code>p:</code></td> 
    <td><code>p:type</code></td> 
    <td>支持HTML5友好标记的标签</td> 
   </tr> 
   <tr> 
    <td>复合组件标签库</td> 
    <td><a target="_blank" href="http://xmlns.jcp.org/jsf/composite">http://xmlns.jcp.org/jsf/composite</a></td> 
    <td><code>cc:</code></td> 
    <td><code>cc:interface</code></td> 
    <td>支持复合组件的标签</td> 
   </tr> 
   <tr> 
    <td>JSTL核心标签库</td> 
    <td><a target="_blank" href="http://xmlns.jcp.org/jsp/jstl/core">http://xmlns.jcp.org/jsp/jstl/core</a></td> 
    <td><code>c:</code></td> 
    <td><code>c:forEach</code>, <code>c:catch</code></td> 
    <td>JSTL 1.2核心标签</td> 
   </tr> 
   <tr> 
    <td>JSTL函数标签库</td> 
    <td><a target="_blank" href="http://xmlns.jcp.org/jsp/jstl/functions">http://xmlns.jcp.org/jsp/jstl/functions</a></td> 
    <td><code>fn:</code></td> 
    <td><code>fn:toUpperCase</code>, <code>fn:toLowerCase</code></td> 
    <td>JSTL 1.2函数标签</td> 
   </tr> 
  </tbody> 
 </table> 
 <h2 id="h2-facelets-"><a name="Facelets应用程序的生命周期" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Facelets应用程序的生命周期</h2>
 <p>JSF规范定义了JavaServer Faces应用程序的生命周期。以下步骤为基于 <strong>Facelets</strong> 的应用程序的过程描述。</p> 
 <ol> 
  <li><p>生命周期是在客户端使用<code>Facelets</code>创建的网页发出新请求时启动。 JSF创建一个新的组件树或<code>javax.faces.component.UIViewRoot</code>并放入<code>FacesContex</code>。</p> </li>
  <li><p>如果可用的<code>UIViewRoot</code>应用于<code>Facelets</code>， 视图可以填充组件进行渲染。</p> </li>
  <li><p>新建的视图作为对客户端的响应而被渲染。</p> </li>
  <li><p>在渲染时，存储此视图的状态用于下一个请求。 存储输入组件和表单数据的状态。</p> </li>
  <li><p>客户端可以与视图交互，并从JSF应用程序请求另一个视图。 此时，保存的视图从存储状态恢复。</p> </li>
  <li><p>恢复视图再次通过JSF生命周期，如果没有验证问题，并且没有触发任何操作，最终将生成新视图或重新呈现当前视图。</p> </li>
  <li><p>如果请求相同的视图，则再次呈现存储的视图。</p> </li>
  <li><p>如果要求新视图，则继续执行【<strong>步骤2</strong>】。</p> </li>
  <li><p>将新视图作为对客户端的响应。</p> </li>
 </ol>
 <br>      
</div></body></html>