<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">JSF复合组件</h1><div style="width:100%;float:left;" class="article-content">   
 <p>JSF通过Facelets提供复合组件(有点类似于<code>Widget</code>)的概念。复合组件是一种特殊类型的模板，它充当应用程序中的一个组成部分。</p> 
 <p>复合组件由标记标签和其他现有组件组成。 这个可重复使用的用户创建的组件具有定制的定义功能，并且可以像任何其他组件一样具有连接到它的验证器，转换器和监听器。 包含标记标签和其他组件的任何XHTML页面都可以转换为复合组件。</p> 
 <p>以下表格包含复合标签以及说明 - </p> 
 <table> 
  <thead> 
   <tr> 
    <th>标签</th> 
    <th>功能</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td><code>composite:interface</code></td> 
    <td>它用于声明复合组件的约定。 组合组件可以用作单个组件，其特征集合是使用合同中声明的功能的并集。</td> 
   </tr> 
   <tr> 
    <td><code>composite:implementation</code></td> 
    <td>它用于定义复合组件的实现。 如果<code>composite:interface</code>元素存在，必须有一个相应的<code>composite:implementation</code>。</td> 
   </tr> 
   <tr> 
    <td><code>composite:attribute</code></td> 
    <td>它用于声明一个属性，该属性可以被赋予该标签被声明的复合组件的一个实例。</td> 
   </tr> 
   <tr> 
    <td><code>composite:insertChildren</code></td> 
    <td>它用于在使用页面中的复合组件标签中插入子组件。</td> 
   </tr> 
   <tr> 
    <td><code>composite:valueHolder</code></td> 
    <td>它用于声明由该元素嵌套的<code>composite:interface</code>声明其合同的组合组件暴露了适用于使用页面中附加对象目标的<code>ValueHolder</code>实现。</td> 
   </tr> 
   <tr> 
    <td><code>composite:editableValueHolder</code></td> 
    <td>它用于声明由该元素嵌套的<code>composite:interface</code>声明其合同的组合组件暴露了适用于使用页面中附加对象目标的<code>EditableValueHolder</code>的实现。</td> 
   </tr> 
   <tr> 
    <td><code>composite:actionSource</code></td> 
    <td>它用于声明由该元素嵌套的<code>composite:interface</code>声明其约定的组合组件，暴露了适用于使用页面中附加对象目标的<code>ActionSource</code>实现。</td> 
   </tr> 
  </tbody> 
 </table> 
 <p>在下面的例子中，我们分析一个接受用户名和电子邮件地址作为输入的组合组件。</p> 
 <h2 id="h2-u5B9Eu4F8B"><a name="实例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>实例</h2>
 <p>打开<strong>NetBeans IDE</strong>创建一个名称为：<strong>CompositeComponents</strong> 的Web工程，其完整的目录结构如下所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/2704/957160459_87216.png" alt=""></p> 
 <h3 id="h3-u521Bu5EFAu590Du5408u7EC4u4EF6"><a name="创建复合组件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>创建复合组件</h3>
 <p>在创建组合组件之前，请确保使用正确的命名空间，如下所示。</p> 
 <pre><code class="lang-html">xmlns:composite="http://xmlns.jcp.org/jsf/composite"
</code></pre> 
 <p>创建一个文件：<code>composite-component.xhtml</code>，代码如下所示 -</p> 
 <pre><code class="lang-html">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;  
&lt;html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:composite="http://xmlns.jcp.org/jsf/composite"  
      xmlns:h="http://xmlns.jcp.org/jsf/html"&gt;  
    &lt;h:head&gt;  
        &lt;title&gt;Composite Component Example&lt;/title&gt;  
    &lt;/h:head&gt;  

    &lt;h:body&gt;
        &lt;h2&gt;In composite-component.xhtml Form&lt;/h2&gt;
        &lt;composite:interface&gt;  
            &lt;composite:attribute name="username" required="false"/&gt;  
            &lt;composite:attribute name="email" required="false"/&gt;  
        &lt;/composite:interface&gt;  
        &lt;composite:implementation&gt;  
            &lt;h:outputLabel value="User Name " /&gt;  
            &lt;h:inputText value="#{cc.attrs.username}"/&gt;&lt;br/&gt;  
            &lt;h:outputLabel value="Email ID "/&gt;  
            &lt;h:inputText value="#{cc.attrs.email}"/&gt;&lt;br/&gt;  
        &lt;/composite:implementation&gt;  
    &lt;/h:body&gt;  
&lt;/html&gt;
</code></pre> 
 <p>在上面的例子中，<code>composite:interface</code>标签用于声明可配置的值。 <code>composite:implementation</code>标签用于声明所有XHTML标记和<code>cc.attrs.username</code>用于定义<code>inputText</code>组件的值。 ccs是JSF中复合组件的保留字。 表达式<code>#{cc.attrs.attribute-name}</code>用于访问为组合组件界面定义的属性。</p> 
 <p>上述代码作为名为<code>composite-component.xhtml</code>的文件存储在应用程序Web根目录的 <code>resources/com</code> 文件夹中。</p> 
 <h3 id="h3-u4F7Fu7528u590Du5408u7EC4u4EF6"><a name="使用复合组件" class="reference-link"></a><span class="header-link octicon octicon-link"></span>使用复合组件</h3>
 <p>使用复合组件的网页通常称为使用页面。 使用页面包含对<code>xml</code>命名空间声明中复合组件的引用，如下所示：</p>   
 <pre><code class="lang-html">&lt;html xmlns:co="http://xmlns.jcp.org/jsf/composite/com"&gt;
</code></pre> 
 <p>这里，<code>com</code>是存储文件的文件夹，<code>co</code>是用于访问组件的引用。</p> 
 <p>创建一个文件：<code>index.xhtml</code>，代码如下所示 -</p> 
 <pre><code class="lang-html">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;  
&lt;html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:h="http://xmlns.jcp.org/jsf/html"  
      xmlns:co="http://xmlns.jcp.org/jsf/composite/com"&gt;  
    &lt;h:head&gt;  
        &lt;title&gt;Implementing Composite Component&lt;/title&gt;  
    &lt;/h:head&gt;  
    &lt;body&gt;  
        &lt;h:form&gt;  
            &lt;co:composite-component /&gt;  
        &lt;/h:form&gt;  
    &lt;/body&gt;  
&lt;/html&gt;
</code></pre> 
 <p>运行项目后，在网页上将看到以下用户界面 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/2704/838170407_65945.png" alt=""></p>
 <br>      
</div></body></html>