<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">JSF Facelets视图</h1><div style="width:100%;float:left;" class="article-content">   
 <p>Facelets视图是<code>XHTML</code>页面。 您可以通过向页面添加组件来创建网页或视图，将组件连接到后端<code>bean</code>的值和属性，并在组件上注册转换器，验证器或侦听器。</p> 
 <p><code>XHTML</code>网页作为前端。 您的应用程序的第一页默认为<code>index.xhtml</code>。</p> 
 <p>网页(如，在<code>index.xhtml</code>中)的第一部分声明页面的内容类型，即XHTML：</p> 
 <pre><code class="lang-html">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;  
``

在下一段中指定`XHTML`页面的语言，然后声明网页中使用的标签库的XML命名空间。

```html
&lt;html lang="en"  
xmlns="http://www.w3.org/1999/xhtml"  
xmlns:h="http://xmlns.jcp.org/jsf/html"  
xmlns:f="http://xmlns.jcp.org/jsf/core"&gt;
</code></pre> 
 <p>一个完整的文件：<em>index.xhtml</em> 代码内容如下所示 -</p> 
 <pre><code class="lang-html">&lt;?xml version='1.0' encoding='UTF-8' ?&gt;  
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;  
&lt;html xmlns="http://www.w3.org/1999/xhtml"  
xmlns:h="http://xmlns.jcp.org/jsf/html"  
xmlns:f="http://xmlns.jcp.org/jsf/core"&gt;  
&lt;h:head&gt;  
    &lt;title&gt;Jsf Form&lt;/title&gt;  
&lt;/h:head&gt;  
    &lt;h:body&gt;  
        &lt;h:form id="form"&gt;  
        &lt;h:outputLabel for="username"&gt;User Name&lt;/h:outputLabel&gt;  
        &lt;h:inputText id="name" value="#{user.name}" required="true"&gt;  
        &lt;f:validateRequired for="name" /&gt;  
        &lt;/h:inputText&gt;&lt;br/&gt;  
        &lt;h:commandButton value="OK" action="response.xhtml"&gt;&lt;/h:commandButton&gt;  
        &lt;/h:form&gt;  
    &lt;/h:body&gt;  
&lt;/html&gt;
</code></pre> 
 <p>Facelets HTML标签以<code>h:</code>开头，用于在网页和核心标签上添加组件<code>f:validateRequired</code>用于验证用户输入。</p> 
 <p><code>h:inputText</code>标签接受用户输入，并通过EL表达式<code>#{user.name}</code>设置托管<code>bean</code>属性名称的值。</p> 
 <p>运行<code>index.xhtml</code>文件后，JSF将呈现一个HTML索引页面。输出如下所示 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/2704/997150400_47365.png" alt=""></p> 
 <p>这是创建Facelets视图的过程。现在，您可以创建第二个<code>xhtml</code>页面：<em>response.xhtml</em> 其中的代码内容如下 -</p> 
 <pre><code class="lang-html">&lt;?xml version='1.0' encoding='UTF-8' ?&gt;  
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;  
&lt;html xmlns="http://www.w3.org/1999/xhtml"  
xmlns:h="http://xmlns.jcp.org/jsf/html"&gt;  
&lt;h:head&gt;  
&lt;title&gt;Response Page&lt;/title&gt;  
&lt;/h:head&gt;  
&lt;h:body&gt;  
&lt;h1&gt;  
Hello #{user.name}  
&lt;/h1&gt;  
&lt;/h:body&gt;  
&lt;/html&gt;
</code></pre> 
 <p>运行 <code>index.xhtml</code> 文件后，将显示以下输出。</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/2704/997150400_47365.png" alt=""></p> 
 <p>在输入框中写入一个名字，提交得到如下结果 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201704/2704/740150403_33378.png" alt=""></p> 
 <h2 id="h2--faces-servlet"><a name="映射Faces Servlet" class="reference-link"></a><span class="header-link octicon octicon-link"></span>映射Faces Servlet</h2>
 <p>通过将Web部署描述符文件中的Faces Servlet映射到<code>web.xml</code>文件中来完成JavaServer Faces应用程序的配置。</p> 
 <p>在NetBeans IDE中，会自动为您创建一个Web部署描述符文件。下面给出了一个自动生成的<code>web.xml</code>文件的内容。</p>   
 <pre><code class="lang-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;  
&lt;web-app version="3.1" xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"&gt;  
&lt;context-param&gt;  
&lt;param-name&gt;javax.faces.PROJECT_STAGE&lt;/param-name&gt;  
&lt;param-value&gt;Development&lt;/param-value&gt;  
&lt;/context-param&gt;  
&lt;servlet&gt;  
&lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;  
&lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;  
&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  
&lt;/servlet&gt;  
&lt;servlet-mapping&gt;  
&lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;  
&lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;  
&lt;/servlet-mapping&gt;  
&lt;session-config&gt;  
&lt;session-timeout&gt;  
30  
&lt;/session-timeout&gt;  
&lt;/session-config&gt;  
&lt;welcome-file-list&gt;  
&lt;welcome-file&gt;faces/index.xhtml&lt;/welcome-file&gt;  
&lt;/welcome-file-list&gt;  
&lt;/web-app&gt;
</code></pre>
 <br>      
</div></body></html>