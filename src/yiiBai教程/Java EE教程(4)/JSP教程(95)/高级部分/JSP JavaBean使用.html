<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">JSP JavaBean使用</h1><div style="width:100%;float:left;" class="article-content">   
 <p>JavaBean是一种专门构建的Java类，它使用Java编写，并根据JavaBeans API规范进行编码。</p> 
 <p>以下是将JavaBean与其他Java类有区别的独特特征 -</p> 
 <ul> 
  <li>它提供了一个默认的，无参数的构造函数。</li>
  <li>它应该是可序列化的，可以实现<code>Serializable</code>接口。</li>
  <li>它可能有许多可以读取或写入的属性。</li>
  <li>它可能有一些<code>getter</code>和<code>setter</code>方法的属性。</li>
 </ul> 
 <h2 id="h2-javabeans-"><a name="JavaBeans属性" class="reference-link"></a><span class="header-link octicon octicon-link"></span>JavaBeans属性</h2>
 <p><code>JavaBean</code>属性是可由对象的用户访问的命名属性。该属性可以是任何Java数据类型，包括定义的类。<br><code>JavaBean</code>属性可能被读取，写入，只读或只写。<code>JavaBean</code>属性通过<code>JavaBean</code>实现类中的两种方法进行访问 -</p> 
 <table> 
  <thead> 
   <tr> 
    <th>编号</th> 
    <th>方法</th> 
    <th>描述</th> 
   </tr> 
  </thead> 
  <tbody> 
   <tr> 
    <td>1</td> 
    <td>get<em>PropertyName</em>()</td> 
    <td>例如，如果<em>PropertyName</em>是<code>firstName</code>，那么方法名称将是<code>getFirstName()</code>，它用来来读取该属性的值。这种方法称为访问器。</td> 
   </tr> 
   <tr> 
    <td>2</td> 
    <td>set<em>PropertyName</em>()</td> 
    <td>例如，如果<em>PropertyName</em>名称是<code>firstName</code>，那么方法名称将为<code>setFirstName()</code>来写入该属性的值。这种方法叫赋值函数。</td> 
   </tr> 
  </tbody> 
 </table> 
 <p>只读属性将只有一个<code>getPropertyName()</code>方法，只写属性将只有一个<code>setPropertyName()</code>方法。</p> 
 <h2 id="h2-javabeans-"><a name="JavaBeans示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>JavaBeans示例</h2>
 <p>为了更好地演示如何使用JavaBean，我们打开Eclipse，创建一个动态Web项目：<em>JavaBean</em>，其项目结构如下所示 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201710/2610/456091042_11129.png" alt=""></p> 
 <p>考虑一个拥有几个属性的学生(<code>Student</code>)类 -</p> 
 <p>文件：<em>Student.java</em></p> 
 <pre><code class="lang-java">package com.yiibai;

public class Student {
    private String name;
    private String from;
    private int age;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getFrom() {
        return from;
    }

    public void setFrom(String from) {
        this.from = from;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

}
</code></pre> 
 <h3 id="h3--javabeans"><a name="访问JavaBeans" class="reference-link"></a><span class="header-link octicon octicon-link"></span>访问JavaBeans</h3>
 <p><code>useBean</code>动作声明一个用于JSP的JavaBean。当声明了之后，该<code>bean</code>就成为脚本变量，可以由脚本元素和JSP中使用的其他自定义标签访问。<code>useBean</code>标签的完整语法如下 -</p> 
 <pre><code class="lang-jsp">&lt;jsp:useBean id = "bean's name" scope = "bean's scope" typeSpec/&gt;
</code></pre> 
 <p>这里，<code>scope</code>属性的值可以是<code>page</code>, <code>request</code>, <code>session</code>或<code>application</code>。 <code>id</code>属性的值可以是任何值，只要它是同一个JSP页面中不同于其他<code>useBean</code>声明中的唯一名称。</p> 
 <p>以下示例显示如何使用<code>useBean</code>操作 -</p> 
 <pre><code class="lang-html">&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;useBean Example&lt;/title&gt;
   &lt;/head&gt;

   &lt;body&gt;
      &lt;jsp:useBean id = "date" class = "java.util.Date" /&gt; 
      &lt;p&gt;The date/time is &lt;%= date %&gt;
   &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>运行上面示例代码得到以下结果 -</p> 
 <pre><code class="lang-shell">The date/time is Thu Sep 20 13:18:11 GST 2017
</code></pre> 
 <h3 id="h3--javabeans-"><a name="访问JavaBeans属性" class="reference-link"></a><span class="header-link octicon octicon-link"></span>访问JavaBeans属性</h3>
 <p>与<code>&lt;jsp:useBean ...&gt;</code>动作一起，可以使用<code>&lt;jsp:getProperty /&gt;</code>动作来访问<code>get</code>方法和<code>&lt;jsp:setProperty /&gt;</code>动作来访问<code>set</code>方法。这里是完整的语法 -</p>   
 <pre><code class="lang-jsp">&lt;jsp:useBean id = "id" class = "bean's class" scope = "bean's scope"&gt;
   &lt;jsp:setProperty name = "bean's id" property = "property name"  
      value = "value"/&gt;
   &lt;jsp:getProperty name = "bean's id" property = "property name"/&gt;
   ...........
&lt;/jsp:useBean&gt;
</code></pre> 
 <p><code>name</code>属性引用了以前通过<code>useBean</code>操作引入到JSP中的<code>JavaBean</code>的<code>id</code>。属性是应该调用的<code>get</code>或<code>set</code>方法的名称。</p> 
 <p>以下示例显示如何使用上述语法访问数据。</p> 
 <p>文件：<em>index.jsp</em></p> 
 <pre><code class="lang-html">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;title&gt;JSP+JavaBean&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

    &lt;div style="margin:auto; width: 90%"&gt;
        &lt;!-- 设置学生信息 --&gt;
        &lt;jsp:useBean id="student" class="com.yiibai.Student"&gt;
            &lt;jsp:setProperty name="student" property="name" value="苏小牛" /&gt;
            &lt;jsp:setProperty name="student" property="from" value="Haikou" /&gt;
            &lt;jsp:setProperty name="student" property="age" value="25" /&gt;
        &lt;/jsp:useBean&gt;

        &lt;p&gt;
            学生姓名:
            &lt;jsp:getProperty name="student" property="name" /&gt;
        &lt;/p&gt;

        &lt;p&gt;
            所在地:
            &lt;jsp:getProperty name="student" property="from" /&gt;
        &lt;/p&gt;

        &lt;p&gt;
            年龄:
            &lt;jsp:getProperty name="student" property="age" /&gt;
        &lt;/p&gt;
    &lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>在编写完成上面示例代码后，运行项目并打开浏览器访问URL：<code>http://localhost:8080/JavaBean/index.jsp</code> ， 得到以下结果 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201710/2610/225091043_89953.png" alt=""></p>
 <br>      
</div></body></html>