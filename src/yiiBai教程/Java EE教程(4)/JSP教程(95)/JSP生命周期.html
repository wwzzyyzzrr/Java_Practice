<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">JSP生命周期</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在本章中，我们将讨论和了解JSP的生命周期。了解JSP低级功能的关键在于了解其遵循的简单生命周期。</p> 
 <p>JSP生命周期被定义为从创建到破坏的过程。这类似于一个Servlet生命周期，需要一个额外的步骤来将JSP编译成Servlet。</p> 
 <h2 id="h2-jsp-"><a name="JSP执行过程" class="reference-link"></a><span class="header-link octicon octicon-link"></span>JSP执行过程</h2>
 <p>以下是JSP遵循的过程 -</p> 
 <ol> 
  <li>编译</li>
  <li>初始化</li>
  <li>执行</li>
  <li>清理</li>
 </ol> 
 <p>JSP生命周期的四个主要阶段与Servlet生命周期非常相似。以下描述了四个阶段 -</p> 
 <h2 id="h2-1-jsp-"><a name="1.JSP编译" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1.JSP编译</h2>
 <p>当浏览器请求JSP时，JSP引擎首先检查是否需要编译页面。如果页面从未被编译，或者JSP从上一次编译以来JSP文件代码已被修改，那么JSP引擎将会编译页面。</p> 
 <p>编译过程包括三个步骤 -</p> 
 <ul> 
  <li>解析JSP。</li>
  <li>将JSP转换为servlet。</li>
  <li>编译servlet。</li>
 </ul> 
 <h2 id="h2-2-jsp-"><a name="2.JSP初始化" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2.JSP初始化</h2>
 <p>当容器加载JSP时，它会在处理任何请求之前调用<code>jspInit()</code>方法。 如果需要执行特定于JSP的初始化，那么可以覆盖<code>jspInit()</code>方法 -</p> 
 <pre><code class="lang-java">public void jspInit(){
   // Initialization code...
}
</code></pre> 
 <p>通常，初始化仅执行一次，并且与servlet的<code>init()</code>方法一样，一般会在<code>jspInit()</code>方法中初始化数据库连接，打开文件和创建查找表。</p> 
 <h2 id="h2-3-jsp-"><a name="3.JSP执行" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3.JSP执行</h2>
 <p>JSP生命周期的这个阶段表示所有与请求的交互，直到JSP被销毁为止。</p> 
 <p>每当浏览器请求JSP并且页面已被加载和初始化时，JSP引擎将调用JSP中的<code>_jspService()</code>方法。</p> 
 <p><code>_jspService()</code>方法以<code>HttpServletRequest</code>和<code>HttpServletResponse</code>为参数，如下所示：</p>   
 <pre><code class="lang-java">void _jspService(HttpServletRequest request, HttpServletResponse response) {
   // Service handling code...
}
</code></pre> 
 <p>根据请求调用JSP的<code>_jspService()</code>方法。它负责生成请求的响应，此方法还负责生成对所有七种HTTP方法的响应，即<code>GET</code>，<code>POST</code>，<code>DELETE</code>等。</p> 
 <h2 id="h2-4-jsp-"><a name="4.JSP清理" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4.JSP清理</h2>
 <p>JSP生命周期的清理阶段表示当JSP被容器从使用中移除时。</p> 
 <p><code>jspDestroy()</code>方法是等效于servlet的<code>destroy</code>方法的JSP方法。当需要执行清理工作时，可以覆盖<code>jspDestroy()</code>方法，如：释放数据库连接或关闭打开的文件。</p> 
 <p><code>jspDestroy()</code>方法具有以下形式 -</p> 
 <pre><code class="lang-java">public void jspDestroy() {
   // Your cleanup code goes here.
}
</code></pre>
 <br>      
</div></body></html>