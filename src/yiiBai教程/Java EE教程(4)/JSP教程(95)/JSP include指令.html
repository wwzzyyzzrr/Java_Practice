<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">JSP include指令</h1><div style="width:100%;float:left;" class="article-content">   
 <p><code>include</code>指令用于在编译阶段包括一个文件。这个指令告诉容器在编译阶段将其他外部文件的内容合并到当前JSP文件中。可在JSP页面的任何位置使用<code>include</code>指令进行编码。</p> 
 <p>本指令的一般用法形式如下：</p> 
 <pre><code class="lang-html">&lt;%@ include file = "relative url" &gt;
</code></pre> 
 <p><code>include</code>指令中的文件名实际上是一个相对URL。如果只指定一个没有关联路径的文件名，那么JSP编译器会假定该文件与JSP在同一个目录中。<br>可以使用XML编写上述代码效果相同，如下所示：</p> 
 <pre><code class="lang-html">&lt;jsp:directive.include file = "relative url" /&gt;
</code></pre> 
 <h2 id="h2-include-"><a name="include指令示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>include指令示例</h2>
 <p><code>include</code>指令的一个很好的例子是要一个页面中包括多个公共页面的内容，如：比如一个主页中包函公共页眉和页脚。</p> 
 <p>为了更好的演示，打开Eclipse,创建一个动态Web项目：<em>IncludeDirective</em>，并创建以下三个JSP文件：</p> 
 <ul> 
  <li><em>main.jsp</em> - 网站主页</li>
  <li><em>header.jsp</em> - 顶部菜单和公共内容</li>
  <li><em>footer.jsp</em> - 显示网站版权，备案号等公共信息</li>
 </ul> 
 <p>完整的项目结构如下图所示 - </p> 
 <p><img src="http://www.yiibai.com/uploads/images/201710/1810/330171052_79360.png" alt=""></p> 
 <p>以下是<code>main.jsp</code>的内容 -</p> 
 <pre><code class="lang-html">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
&lt;title&gt;主页(Main.jsp)&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;%@ include file="header.jsp"%&gt;

    &lt;center&gt;
        &lt;p&gt;这是Main.jsp页面的内容~&lt;/p&gt;
        &lt;p&gt;include指令用于在编译阶段包括一个文件。这个指令告诉容器在编译阶段将其他外部文件的内容合并到当前JSP文件中。可在JSP页面的任何位置使用 include指令进行编码。&lt;/p&gt;
    &lt;/center&gt;
    &lt;%@ include file="footer.jsp"%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
 <p>以下是<code>header.jsp</code>的内容 -</p>   
 <pre><code class="lang-html">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;center&gt;
    &lt;h2&gt;include指令示例&lt;/h2&gt;
    &lt;p&gt;
        &lt;a href="main.jsp"&gt;首页&lt;/a&gt; | &lt;a href="header.jsp"&gt;页头&lt;/a&gt; | &lt;a href="footer.jsp"&gt;页尾&lt;/a&gt;
    &lt;/p&gt;
&lt;/center&gt;
&lt;br /&gt;
</code></pre> 
 <p>以下是<code>footer.jsp</code>的内容 -</p> 
 <pre><code class="lang-html">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%&gt;
&lt;%!int pageCount = 0;

    void addCount() {
        pageCount++;
    }%&gt;

&lt;%
    addCount();
%&gt;
&lt;center&gt;
    &lt;p&gt;Copyright © 2018 | 备案号：琼ICP备13001417号-3 |  联系我们：769728683@qq.com | 访问次数：&lt;%=pageCount%&gt;&lt;/p&gt;
&lt;/center&gt;
</code></pre> 
 <p>现在将上面三个JSP文件保存在根目录下，并尝试访问<code>http://localhost:8080/IncludeDirective/main.jsp</code>。应该会看到以下输出 -</p> 
 <p><img src="http://www.yiibai.com/uploads/images/201710/1810/910171049_87274.png" alt=""></p> 
 <p>刷新<code>main.jsp</code>，会发现页面匹配计数器不断增加。</p> 
 <p>可以根据您的应用功能来设计网页; 建议将网站的动态部分保存在单独的文件中，然后将其包含在主文件中。当需要更改网页的一部分时，只需要修改少数几个地方就可以轻松实现。</p>
 <br>      
</div></body></html>