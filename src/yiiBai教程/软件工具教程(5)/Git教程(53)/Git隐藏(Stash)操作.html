<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Git隐藏(Stash)操作</h1><div style="width:100%;float:left;" class="article-content">   
 <p>假设您正在为产品新的功能编写/实现代码，当正在编写代码时，突然出现软件客户端升级。这时，您必须将新编写的功能代码保留几个小时然后去处理升级的问题。在这段时间内不能提交代码，也不能丢弃您的代码更改。 所以需要一些临时等待一段时间，您可以存储部分更改，然后再提交它。</p> 
 <p>在Git中，隐藏操作将使您能够修改跟踪文件，阶段更改，并将其保存在一系列未完成的更改中，并可以随时重新应用。</p> 
 <pre><code class="lang-shell">$ git status
On branch master
Your branch is up-to-date with 'origin/master'.

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

        modified:   main.py

no changes added to commit (use "git add" and/or "git commit -a")
</code></pre> 
 <p>现在，要切换分支以进行客户升级，但不想提交一直在做的工作; 那么可以把当前工作的改变隐藏起来。 要将一个新的存根推到堆栈上，运行<code>git stash</code>命令。</p> 
 <pre><code class="lang-shell">$ git stash
Saved working directory and index state WIP on master: ef07ab5 synchronized with the remote repository
HEAD is now at ef07ab5 synchronized with the remote repository
</code></pre> 
 <p>现在，工作目录是干净的，所有更改都保存在堆栈中。 现在使用<code>git status</code>命令来查看当前工作区状态。</p> 
 <pre><code class="lang-shell">$ git status
On branch master
Your branch is up-to-date with 'origin/master'.

nothing to commit, working directory clean
</code></pre> 
 <p>现在，可以安全地切换分支并在其他地方工作。通过使用<code>git stash list</code>命令来查看已存在更改的列表。</p> 
 <pre><code class="lang-shell">$ git stash list
stash@{0}: WIP on master: ef07ab5 synchronized with the remote repository
</code></pre> 
 <p>假设您已经解决了客户升级问题，想要重新开始新的功能的代码编写，查找上次没有写完成的代码，只需执行<code>git stash pop</code>命令即可从堆栈中删除更改并将其放置在当前工作目录中。</p>   
 <pre><code class="lang-shell">$ git status -s

Administrator@MY-PC /D/worksp/sample (master)

[jerry@CentOS project]$ git stash pop
</code></pre> 
 <p>上述命令将产生以下结果：</p> 
 <pre><code class="lang-shell">$ git stash pop
On branch master
Your branch is up-to-date with 'origin/master'.

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

        modified:   main.py

no changes added to commit (use "git add" and/or "git commit -a")
Dropped refs/stash@{0} (e713780380632c142ed5833a9087aca883a826fa)

Administrator@MY-PC /D/worksp/sample (master)

$ git status
On branch master
Your branch is up-to-date with 'origin/master'.

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

        modified:   main.py

no changes added to commit (use "git add" and/or "git commit -a")
</code></pre> 
 <p>可以看到，工作区中修改的文件(<code>main.py</code>)又显示了。现在我们就可以继续编写上次编写了未完成的代码。</p>
 <br>      
</div></body></html>