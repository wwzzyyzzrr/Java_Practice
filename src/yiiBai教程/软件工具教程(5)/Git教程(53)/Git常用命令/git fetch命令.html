<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">git fetch命令</h1><div style="width:100%;float:left;" class="article-content">   
 <p><code>git fetch</code>命令用于从另一个存储库下载对象和引用。</p> 
 <p><strong>使用语法</strong></p> 
 <pre><code class="lang-shell">git fetch [&lt;options&gt;] [&lt;repository&gt; [&lt;refspec&gt;…]]
git fetch [&lt;options&gt;] &lt;group&gt;
git fetch --multiple [&lt;options&gt;] [(&lt;repository&gt; | &lt;group&gt;)…]
git fetch --all [&lt;options&gt;]
</code></pre> 
 <h2 id="h2-u63CFu8FF0"><a name="描述" class="reference-link"></a><span class="header-link octicon octicon-link"></span>描述</h2>
 <p>从一个或多个其他存储库中获取分支和/或标签(统称为“引用”)以及完成其历史所必需的对象。 远程跟踪分支已更新(Git术语叫做<code>commit</code>)，需要将这些更新取回本地，这时就要用到<code>git fetch</code>命令。</p> 
 <p>默认情况下，还会获取指向正在获取的历史记录的任何标签; 效果是获取指向您感兴趣的分支的标签。可以使用<code>--tags</code>或<code>--no-tags</code>选项或通过配置远程<code>.&lt;name&gt;.tagOpt</code> 来更改此默认行为。 通过使用显式提取标签的<code>refspec</code>，可以获取不指向您感兴趣的分支的标签。</p> 
 <p><code>git fetch</code>可以从单个命名的存储库或URL中获取，也可以从多个存储库中获取，如果给定了<code>&lt;group&gt;</code>，并且配置文件中有一个远程<code>&lt;group&gt;</code>条目。</p> 
 <p>获取的参考名称以及它们所指向的对象名称被写入到<code>.git/FETCH_HEAD</code>中。 此信息可能由脚本或其他git命令使用，如<code>git-pull</code>。</p> 
 <h2 id="h2-u793Au4F8B"><a name="示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例</h2>
 <p>以下是一些示例 -</p> 
 <p><strong>1.更新远程跟踪分支</strong></p> 
 <pre><code class="lang-shell">$ git fetch origin
</code></pre> 
 <p>上述命令从远程<code>refs/heads/</code>命名空间复制所有分支，并将它们存储到本地的<code>refs/remotes/ origin/</code>命名空间中，除非使用分支<code>.&lt;name&gt;.fetch</code>选项来指定非默认的<code>refspec</code>。</p> 
 <p><strong>2.明确使用refspec</strong></p> 
 <pre><code class="lang-shell">$ git fetch origin +pu:pu maint:tmp
</code></pre> 
 <p>此更新(或根据需要创建)通过从远程存储库的分支(分别)<code>pu</code>和<code>maint</code>提取来分支本地存储库中的<code>pu</code>和<code>tmp</code>。</p> 
 <p>即使没有快进，<code>pu</code>分支将被更新，因为它的前缀是加号; <code>tmp</code>不会。</p> 
 <p><strong>3.在远程分支上窥视，无需在本地存储库中配置远程</strong></p> 
 <pre><code class="lang-shell">$ git fetch git://git.kernel.org/pub/scm/git/git.git maint
$ git log FETCH_HEAD
</code></pre> 
 <p>第一个命令从 <code>git://git.kernel.org/pub/scm/git/git.git</code> 从存储库中获取<code>maint</code>分支，第二个命令使用<code>FETCH_HEAD</code>来检查具有<code>git-log</code>的分支。</p> 
 <p><strong>4.将某个远程主机的更新</strong></p>   
 <pre><code class="lang-shell">$ git fetch &lt;远程主机名&gt;
</code></pre> 
 <p>要更新所有分支，命令可以简写为：</p> 
 <pre><code class="lang-shell">$ git fetch
</code></pre> 
 <p>上面命令将某个远程主机的更新，全部取回本地。默认情况下，<code>git fetch</code>取回所有分支的更新。如果只想取回特定分支的更新，可以指定分支名,如下所示 - </p> 
 <pre><code class="lang-shell">$ git fetch &lt;远程主机名&gt; &lt;分支名&gt;
</code></pre> 
 <p>比如，取回<code>origin</code>主机的<code>master</code>分支。</p> 
 <pre><code class="lang-shell">$ git fetch origin master
</code></pre> 
 <p>所取回的更新，在本地主机上要用”远程主机名/分支名”的形式读取。比如<code>origin</code>主机的<code>master</code>分支，就可以用<code>origin/master</code>读取。</p> 
 <p><code>git branch</code>命令的<code>-r</code>选项，可以用来查看远程分支，<code>-a</code>选项查看所有分支。</p> 
 <pre><code class="lang-shell">$ git branch -r
origin/master

$ git branch -a
* master
  remotes/origin/master
</code></pre> 
 <p>上面命令表示，本地主机的当前分支是<code>master</code>，远程分支是<code>origin/master</code>。</p> 
 <p>取回远程主机的更新以后，可以在它的基础上，使用git checkout命令创建一个新的分支。</p> 
 <pre><code>$ git checkout -b newBrach origin/master
</code></pre>
 <p>上面命令表示，在<code>origin/master</code>的基础上，创建一个新分支:<em>newBrach</em>。</p> 
 <p>此外，也可以使用<code>git merge</code>命令或者<code>git rebase</code>命令，在本地分支上合并远程分支。</p> 
 <pre><code class="lang-shell">$ git merge origin/master
# 或者
$ git rebase origin/master
</code></pre> 
 <p>上面命令表示在当前分支上，合并<code>origin/master</code>。</p>
 <br>      
</div></body></html>