<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">git rm命令</h1><div style="width:100%;float:left;" class="article-content">   
 <p><code>git rm</code>命令用于从工作区和索引中删除文件。</p> 
 <p><strong>简介</strong></p> 
 <pre><code class="lang-shell">git rm [-f | --force] [-n] [-r] [--cached] [--ignore-unmatch] [--quiet] [--] &lt;file&gt;…
</code></pre> 
 <h2 id="h2-u63CFu8FF0"><a name="描述" class="reference-link"></a><span class="header-link octicon octicon-link"></span>描述</h2>
 <p>从索引中删除文件，或从工作树和索引中删除文件。 <code>git rm</code>不会从您的工作目录中删除文件。 (没有任何选项只能从工作树中删除文件，并将其保留在索引中;)要删除的文件必须与分支的提示相同，并且在索引中不能对其内容进行更新，尽管可以使用<code>-f</code>选项覆盖(默认行为)。 当给出<code>--cached</code>时，暂存区内容必须与分支的提示或磁盘上的文件相匹配，从而仅将文件从索引中删除。</p> 
 <p>使用 <code>git rm</code> 来删除文件，同时还会将这个删除操作记录下来；而使用 <code>rm</code> 来删除文件，仅仅是删除了物理文件，没有将其从 <code>git</code> 的记录中剔除。</p> 
 <p>直观的来讲，<code>git rm</code> 删除过的文件，执行 <code>git commit -m "commit message or mark"</code> 提交时，会自动将删除该文件的操作提交上去。</p> 
 <p>而对于用 <code>rm</code> 命令直接删除的文件，执行 <code>git commit -m "commit message or mark"</code>提交时，则不会将删除该文件的操作提交上去。不过不要紧，即使你已经通过 <code>rm</code> 将某个文件删除掉了，也可以再通过 <code>git rm</code> 命令重新将该文件从 git 的记录中删除掉，<br>这样的话，在执行 <code>git commit -m "commit message or mark"</code> 以后，也能将这个删除操作提交上去。</p> 
 <p>如果之前不小心用 <code>rm</code> 命令删除了一大批文件呢？如此时用 <code>git rm</code> 逐个地再删除一次就显得相当卵痛了。可如下的方式做提交： <code>git commit -am "commit message or mark"</code></p> 
 <h2 id="h2-u793Au4F8B"><a name="示例" class="reference-link"></a><span class="header-link octicon octicon-link"></span>示例</h2>
 <p>以下是一些示例 -</p> 
 <p>在git中我们可以通过<code>git rm</code>命令把一个文件删除，并把它从git的仓库管理系统中移除。但是注意最后要执行<code>git commit</code>才真正提交到git仓库。</p> 
 <p><strong>示例1</strong></p> 
 <p>删除<code>text1.txt</code>文件，并把它从git的仓库管理系统中移除。</p> 
 <pre><code class="lang-shell">git rm text1.txt
</code></pre> 
 <p><strong>示例2</strong></p> 
 <p>删除文件夹：<code>mydir</code>，并把它从git的仓库管理系统中移除。</p> 
 <pre><code class="lang-shell">git rm -r mydir
</code></pre> 
 <p><strong>示例3</strong></p>   
 <pre><code class="lang-shell">
$ git add 10.txt
$ git add -i
           staged     unstaged path
  1:        +0/-0      nothing 10.txt
  2:        +0/-0      nothing branch/t.txt
  3:        +0/-0      nothing branch/t2.txt

*** Commands ***
  1: [s]tatus     2: [u]pdate     3: [r]evert     4: [a]dd untracked
  5: [p]atch      6: [d]iff       7: [q]uit       8: [h]elp
What now&gt; 7
Bye.
$ git rm --cached 10.txt
rm '10.txt'
$ ls
10.txt  2  3.txt  5.txt  readme.txt
$ git add -i
           staged     unstaged path
  1:        +0/-0      nothing branch/t.txt
  2:        +0/-0      nothing branch/t2.txt
*** Commands ***
  1: [s]tatus     2: [u]pdate     3: [r]evert     4: [a]dd untracked
  5: [p]atch      6: [d]iff       7: [q]uit       8: [h]elp
</code></pre> 
 <p>在通过 <code>git add 10.txt</code> 命令把文件<code>10.txt</code>添加到索引库中后，又通过 <code>git rm --cached 10.txt</code> 把文件<code>10.txt</code>从git的索引库中移除,但是对文件<code>10.txt</code>本身并不进行任何操作。</p> 
 <p>另外对于已经被<code>git rm</code>删除掉(还没被提交)的文件或目录，如果想取消其操作的话，可以首先通过<code>git add -i</code>的子命令<code>revert</code>从索引库中把它们剔除，然后用<code>git checkout &lt;文件&gt;</code> 命令来达到取消的目。</p> 
 <p><strong>示例4</strong></p> 
 <pre><code class="lang-shell">$ git rm Documentation/\*.txt
</code></pre> 
 <p>从<code>Documentation</code>目录及其任何子目录下的索引中删除所有<code>.txt</code>文件。</p> 
 <p><strong>示例5</strong></p> 
 <pre><code class="lang-shell">git rm -f git-*.sh
</code></pre> 
 <p>因为这个例子让shell扩展星号(即显式列出文件)，它不会删除子目录中的文件，如：<code>subdir/git-foo.sh</code>文件不会被删除。</p>
 <br>      
</div></body></html>