<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Git提交更改</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在本文章教程中，我们将演示如何查看 Git 存储库的文件和提交文件记录，并对存储库中的文件作修改和提交。</p> 
 <blockquote> 
  <p>注意：在开始学习本教程之前，先克隆一个存储库，有关如何克隆存储库，请参考： <a target="_blank" href="http://www.yiibai.com/git/git_clone_operation.html">http://www.yiibai.com/git/git_clone_operation.html</a> </p> 
 </blockquote> 
 <p>在上一步中，我们已经修改了 <em>main.py</em> 文件中的代码，在代码中定义了两个变量并提交代码，但是要再次添加和修改<em>main.py</em> 文件中的代码，实现新功能：求两个变量相加值。修改提交的操作更改包含提交消息的最后一个提交; 它创建一个新的提交ID。</p> 
 <p>在修改操作之前，检查提交日志，如下命令所示 - </p> 
 <pre><code class="lang-shell">$ git log
commit d757c8e92ad6053db294100c77075865f829b7ac
Author: your_name &lt;your_email@mail.com&gt;
Date:   Fri Jul 7 23:04:16 2017 +0800

    define two var a &amp; b

commit be24e214620fa072efa877e1967571731c465884
Author: your_name &lt;your_email@mail.com&gt;
Date:   Fri Jul 7 18:58:16 2017 +0800

    ？？mark

commit 5eccf92e28eae94ec5fce7c687f6f92bf32a6a8d
Author: your_name &lt;your_email@mail.com&gt;
Date:   Fri Jul 7 18:52:06 2017 +0800

    this is main.py file commit mark use -m option

commit 6e5f31067466795c522b01692871f202c26ff948
Author: your_name &lt;your_email@mail.com&gt;
Date:   Fri Jul 7 18:42:43 2017 +0800

    this is main.py file commit mark without use "-m" option

commit 290342c270bc90f861ccc3d83afa920169e3b07e
Author: Maxsu &lt;769728683@qq.com&gt;
Date:   Fri Jul 7 16:55:12 2017 +0800

    Initial commit
</code></pre> 
 <p>下面我们打开文件：<em>main.py</em> 加入以下两行：</p> 
 <pre><code class="lang-python">c = a + b
print("The value of c is  ", c)
</code></pre> 
 <p>更正操作提交新的更改，并查看提交日志。首先查看状态，如下命令 - </p> 
 <pre><code class="lang-shell">$ git status
On branch master
Your branch is ahead of 'origin/master' by 4 commits.
  (use "git push" to publish your local commits)

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

        modified:   main.py

no changes added to commit (use "git add" and/or "git commit -a")
</code></pre> 
 <p>添加文件并查看状态，如下命令 - </p>   
 <pre><code class="lang-shell">$ git add main.py

Administrator@MY-PC /D/worksp/sample (master)
$ git status
On branch master
Your branch is ahead of 'origin/master' by 4 commits.
  (use "git push" to publish your local commits)

Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

        modified:   main.py
</code></pre> 
 <p>提交更改的文件，如下所示 - </p> 
 <pre><code class="lang-shell">$ git commit --amend -m "add the sum of a &amp; b "
[master 51de0f0] add the sum of a &amp; b
 1 file changed, 5 insertions(+), 1 deletion(-)
</code></pre> 
 <p>现在，使用 <code>git log</code>命令显示将显示新的提交消息与新的提交ID(51de0f02eb48ed6b84a732512f230028d866b1ea)，最近一次提交的放前面：</p> 
 <pre><code class="lang-shell">$ git log
commit 51de0f02eb48ed6b84a732512f230028d866b1ea
Author: your_name &lt;your_email@mail.com&gt;
Date:   Fri Jul 7 23:04:16 2017 +0800

    add the sum of a &amp; b

commit be24e214620fa072efa877e1967571731c465884
Author: your_name &lt;your_email@mail.com&gt;
Date:   Fri Jul 7 18:58:16 2017 +0800

    ？？mark

commit 5eccf92e28eae94ec5fce7c687f6f92bf32a6a8d
Author: your_name &lt;your_email@mail.com&gt;
Date:   Fri Jul 7 18:52:06 2017 +0800

    this is main.py file commit mark use -m option

commit 6e5f31067466795c522b01692871f202c26ff948
Author: your_name &lt;your_email@mail.com&gt;
Date:   Fri Jul 7 18:42:43 2017 +0800

    this is main.py file commit mark without use "-m" option

commit 290342c270bc90f861ccc3d83afa920169e3b07e
Author: Maxsu &lt;769728683@qq.com&gt;
Date:   Fri Jul 7 16:55:12 2017 +0800

    Initial commit
</code></pre>
 <br>      
</div></body></html>