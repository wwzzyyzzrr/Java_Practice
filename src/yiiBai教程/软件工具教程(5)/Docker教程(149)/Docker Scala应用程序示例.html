<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Docker Scala应用程序示例</h1><div style="width:100%;float:left;" class="article-content">   
 <p>Docker允许我们执行Scala应用程序。 在这里，我们将演示如何创建一个Scala文件，并使用docker进行执行，此示例包括以下步骤。</p> 
 <ol> 
  <li>创建一个目录用来组织应用程序文件。</li>
 </ol> 
 <pre><code class="lang-shell">$ mkdir - /home/yiibai/docker/scala-docker-app
</code></pre> 
 <ol> 
  <li>更改进入工作目录</li>
 </ol> 
 <pre><code class="lang-shell">$ cd /home/yiibai/docker/scala-docker-app
</code></pre> 
 <ol> 
  <li>创建一个名称为 <code>Dockerfile</code> 的 Dockerfile 文件</li>
 </ol> 
 <pre><code class="lang-shell">FROM williamyeh/java7  
MAINTAINER Hema (yiibai.com@gmail.com)
ENV SCALA_VERSION 2.10.4  
ENV SCALA_TARBALL http://www.scala-lang.org/files/archive/scala-$SCALA_VERSION.deb  
RUN \  
echo "==&gt; Install curl helper tool..."&amp;&amp; \  
apt-get update &amp;&amp; \  
DEBIAN_FRONTEND=noninteractive apt-get install -y --force-yes curl &amp;&amp; \  
\  
\  
\  
echo "===&gt; install from Typesafe repo (contains old versions but they have all dependencies we need later on)"&amp;&amp; \  
curl -sSL http://apt.typesafe.com/repo-deb-build-0002.deb -o repo-deb.deb &amp;&amp; \  
dpkg -i repo-deb.deb &amp;&amp; \  
apt-get update &amp;&amp; \  
\  
\  
\  

echo "===&gt; install Scala"&amp;&amp; \  
DEBIAN_FRONTEND=noninteractive \  
apt-get install -y --force-yes libjansi-java &amp;&amp; \  
curl -sSL $SCALA_TARBALL -o scala.deb &amp;&amp; \  
dpkg -i scala.deb &amp;&amp; \  
\  
\  
\  
echo "===&gt; clean up..."&amp;&amp; \  
rm -f *.deb &amp;&amp; \  
apt-get remove -y --auto-remove curl &amp;&amp; \  
apt-get clean &amp;&amp; \  
rm -rf /var/lib/apt/lists/*  
COPY . /home/yiibai/src
WORKDIR /home/yiibai/src
CMD ["scala", "/home/yiibai/src/index.scala"]
</code></pre> 
 <ol> 
  <li>创建Scala文件: <code>/home/yiibai/docker/scala-docker-app/index.scala</code></li>
 </ol>   
 <pre><code class="lang-scala">object MainObject{  
    def main(args:Array[String]){  
        println("Hello by Scala");  
    }  
}
</code></pre> 
 <p>现在，创建这个Scala应用程序的Docker映像。 以下命令用于创建Docker映像。</p> 
 <pre><code class="lang-shell">yiibai@ubuntu:~/docker/scala-docker-app$ sudo docker build -t scala-app .
</code></pre> 
 <p>执行上面代码，输出结果如下 -</p> 
 <pre><code class="lang-shell">yiibai@ubuntu:~/docker/scala-docker-app$ sudo docker build -t scala-app .
Sending build context to Docker daemon  3.584kB
.......
Removing intermediate container a551438ab33a
......
 ---&gt; Running in bc8b748316cc
 ---&gt; 1d786cf20101
Removing intermediate container bc8b748316cc
Successfully built 1d786cf20101
Successfully tagged scala-app:latest
yiibai@ubuntu:~/docker/scala-docker-app$
</code></pre> 
 <ol> 
  <li>运行Scala Docker映像</li>
 </ol> 
 <pre><code class="lang-shell">yiibai@ubuntu:~/docker/scala-docker-app$ sudo docker run scala-app
</code></pre> 
 <p>执行上面代码，得到以下结果 - </p> 
 <pre><code class="lang-shell">yiibai@ubuntu:~/docker/scala-docker-app$ sudo docker run scala-app
Hello by Scala
yiibai@ubuntu:~/docker/scala-docker-app$ sudo docker run scala-app
</code></pre>
 <br>      
</div></body></html>