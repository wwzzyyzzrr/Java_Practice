<html><head><meta charset="utf-8"></meta></head><body><h1 class="article-title" style="text-align:center;">Docker Python应用程序示例</h1><div style="width:100%;float:left;" class="article-content">   
 <p>在这篇教程文章中，将演示如何在docker中运行python应用程序。首先需要创建Dockerfile，可参考以下步骤，并一步步实践。</p> 
 <ol> 
  <li>创建一个目录</li>
 </ol> 
 <pre><code class="lang-shell">yiibai@ubuntu:~$ mkdir -p /home/yiibai/docker/docker-python-app
</code></pre> 
 <ol> 
  <li>进入目录</li>
 </ol> 
 <pre><code class="lang-shell">yiibai@ubuntu:~$ cd /home/yiibai/docker/docker-python-app
</code></pre> 
 <ol> 
  <li>创建一个名称为：<code>Dockerfile</code>的Dockerfile文件</li>
 </ol> 
 <pre><code class="lang-shell">FROM python
COPY . /home/yiibai/src
CMD ["python", "/home/yiibai/src/index.py"]
</code></pre> 
 <ol> 
  <li>创建一个Python文件</li>
 </ol> 
 <p>创建一个在Docker容器中执行的python文件：<code>index.py</code>。</p> 
 <pre><code class="lang-py">print("Hello from python file");
</code></pre> 
 <ol> 
  <li>创建Docker映像</li>
 </ol> 
 <p>要创建这个python应用程序的Docker映像，需要使用以下Docker命令。</p> 
 <pre><code class="lang-shell">yiibai@ubuntu:~/docker/docker-python-app$ sudo docker build -t python-app .
</code></pre> 
 <p>执行结果如下 - </p> 
 <pre><code class="lang-shell">yiibai@ubuntu:~/docker/docker-python-app$ docker build -t python-app .
Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post http://%2Fvar%2Frun%2Fdocker.sock/v1.29/build?buildargs=%7B%7D&amp;cachefrom=%5B%5D&amp;cgroupparent=&amp;cpuperiod=0&amp;cpuquota=0&amp;cpusetcpus=&amp;cpusetmems=&amp;cpushares=0&amp;dockerfile=Dockerfile&amp;labels=%7B%7D&amp;memory=0&amp;memswap=0&amp;networkmode=default&amp;rm=1&amp;shmsize=0&amp;t=python-app&amp;target=&amp;ulimits=null: dial unix /var/run/docker.sock: connect: permission denied
yiibai@ubuntu:~/docker/docker-python-app$ sudo docker build -t python-app .
[sudo] password for yiibai:
Sending build context to Docker daemon  3.072kB
Step 1/3 : FROM python
latest: Pulling from library/python
10a267c67f42: Already exists
fb5937da9414: Pull complete
9021b2326a1e: Pull complete
dbed9b09434e: Pull complete
ea8a37f15161: Pull complete
9fb634154ace: Pull complete
6df6941e6752: Pull complete
df67ecfc860b: Pull complete
Digest: sha256:b2dfd12f7fb4997345b11b74b154849d0549e270221030cd0450b85b7f6c0e92
Status: Downloaded newer image for python:latest
 ---&gt; b6cc5d70bc28
Step 2/3 : COPY . /src
 ---&gt; 3f5ca1d2cf05
Removing intermediate container dc2c6cc3df67
Step 3/3 : CMD python /src/index.py
 ---&gt; Running in 998b7f2b3ed2
 ---&gt; bc4ea57dd1b5
Removing intermediate container 998b7f2b3ed2
Successfully built bc4ea57dd1b5
Successfully tagged python-app:latest
yiibai@ubuntu:~/docker/docker-python-app$
</code></pre> 
 <ol> 
  <li>查看可用的Docker映像</li>
 </ol> 
 <p>可以通过以下命令查看所有可用的Docker映像。</p>   
 <pre><code class="lang-shell">yiibai@ubuntu:~/docker/docker-python-app$ docker images
</code></pre> 
 <p>执行上面命令，结果如下 - </p> 
 <pre><code class="lang-shell">yiibai@ubuntu:~/docker/docker-python-app$ sudo docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
python-app          latest              bc4ea57dd1b5        3 minutes ago       689MB
php-app             latest              7bd0234c2184        33 hours ago        390MB
&lt;none&gt;              &lt;none&gt;              0420419feb44        33 hours ago        390MB
&lt;none&gt;              &lt;none&gt;              ca59a5a4f3fb        33 hours ago        390MB
&lt;none&gt;              &lt;none&gt;              c2e626f9d9c6        34 hours ago        390MB
java-app            latest              bd61e7f49911        2 days ago          643MB
php                 7.0-apache          a4322279ced1        2 days ago          390MB
python              latest              b6cc5d70bc28        3 weeks ago         689MB
java                8                   d23bdf5b1b1b        4 months ago        643MB
hello-world         latest              48b5124b2768        4 months ago        1.84kB
yiibai@ubuntu:~/docker/docker-python-app$
</code></pre> 
 <ol> 
  <li>运行Docker</li>
 </ol> 
 <p>创建Docker映像后，现在可以使用以下命令来运行它。</p> 
 <pre><code class="lang-shell">yiibai@ubuntu:~/docker/docker-python-app$ sudo docker run python-app
</code></pre> 
 <p>上述命令运行Docker映像并执行python文件。 执行后，产生结果如下输出所示。</p> 
 <pre><code class="lang-shell">yiibai@ubuntu:~/docker/docker-python-app$ sudo docker run python-app
Hello from python file
yiibai@ubuntu:~/docker/docker-python-app$
</code></pre>
 <br>      
</div></body></html>